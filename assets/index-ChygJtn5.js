(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();const $l=(o,i)=>o===i,yn=Symbol("solid-proxy"),Eo=typeof Proxy=="function",Il=Symbol("solid-track"),wn={equals:$l};let Ao=zo;const at=1,bn=2,Oo={owned:null,cleanups:null,context:null,owner:null},_r={};var se=null;let gr=null,Ml=null,ue=null,Te=null,st=null,Sn=0;function Ai(o,i){const n=ue,s=se,a=o.length===0,u=i===void 0?s:i,h=a?Oo:{owned:null,cleanups:null,context:u?u.context:null,owner:u},d=a?o:()=>o(()=>je(()=>$i(h)));se=h,ue=null;try{return Je(d,!0)}finally{ue=n,se=s}}function M(o,i){i=i?Object.assign({},wn,i):wn;const n={value:o,observers:null,observerSlots:null,comparator:i.equals||void 0},s=a=>(typeof a=="function"&&(a=a(n.value)),Mo(n,a));return[Io.bind(n),s]}function zl(o,i,n){const s=En(o,i,!0,at);Qt(s)}function be(o,i,n){const s=En(o,i,!1,at);Qt(s)}function ot(o,i,n){Ao=Wl;const s=En(o,i,!1,at);s.user=!0,st?st.push(s):Qt(s)}function le(o,i,n){n=n?Object.assign({},wn,n):wn;const s=En(o,i,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,Qt(s),Io.bind(s)}function Rl(o){return o&&typeof o=="object"&&"then"in o}function Bl(o,i,n){let s,a,u;s=!0,a=o,u={};let h=null,d=_r,f=!1,m="initialValue"in u,_=typeof s=="function"&&le(s);const g=new Set,[w,P]=(u.storage||M)(u.initialValue),[E,k]=M(void 0),[x,T]=M(void 0,{equals:!1}),[S,O]=M(m?"ready":"unresolved");function A(U,q,Y,ie){return h===U&&(h=null,ie!==void 0&&(m=!0),(U===d||q===d)&&u.onHydrated&&queueMicrotask(()=>u.onHydrated(ie,{value:q})),d=_r,$(q,Y)),q}function $(U,q){Je(()=>{q===void 0&&P(()=>U),O(q!==void 0?"errored":m?"ready":"unresolved"),k(q);for(const Y of g.keys())Y.decrement();g.clear()},!1)}function B(){const U=Ul,q=w(),Y=E();if(Y!==void 0&&!h)throw Y;return ue&&ue.user,q}function W(U=!0){if(U!==!1&&f)return;f=!1;const q=_?_():s;if(q==null||q===!1){A(h,je(w));return}const Y=d!==_r?d:je(()=>a(q,{value:w(),refetching:U}));return Rl(Y)?(h=Y,"value"in Y?(Y.status==="success"?A(h,Y.value,void 0,q):A(h,void 0,Lr(Y.value),q),Y):(f=!0,queueMicrotask(()=>f=!1),Je(()=>{O(m?"refreshing":"pending"),T()},!1),Y.then(ie=>A(Y,ie,void 0,q),ie=>A(Y,void 0,Lr(ie),q)))):(A(h,Y,void 0,q),Y)}return Object.defineProperties(B,{state:{get:()=>S()},error:{get:()=>E()},loading:{get(){const U=S();return U==="pending"||U==="refreshing"}},latest:{get(){if(!m)return B();const U=E();if(U&&!h)throw U;return w()}}}),_?zl(()=>W(!1)):W(!1),[B,{refetch:W,mutate:P}]}function Dl(o){return Je(o,!1)}function je(o){if(ue===null)return o();const i=ue;ue=null;try{return o()}finally{ue=i}}function Zr(o,i,n){const s=Array.isArray(o);let a,u=n&&n.defer;return h=>{let d;if(s){d=Array(o.length);for(let m=0;m<o.length;m++)d[m]=o[m]()}else d=o();if(u)return u=!1,h;const f=je(()=>i(d,a,h));return a=d,f}}function Nl(o){ot(()=>je(o))}function Ln(o){return se===null||(se.cleanups===null?se.cleanups=[o]:se.cleanups.push(o)),o}function jo(){return se}function $o(o,i){const n=se,s=ue;se=o,ue=null;try{return Je(i,!0)}catch(a){Hr(a)}finally{se=n,ue=s}}function Zl(o){const i=ue,n=se;return Promise.resolve().then(()=>{ue=i,se=n;let s;return Je(o,!1),ue=se=null,s?s.done:void 0})}function Ur(o,i){const n=Symbol("context");return{id:n,Provider:ql(n),defaultValue:o}}function Cn(o){let i;return se&&se.context&&(i=se.context[o.id])!==void 0?i:o.defaultValue}function Fr(o){const i=le(o),n=le(()=>Cr(i()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}let Ul;function Io(){if(this.sources&&this.state)if(this.state===at)Qt(this);else{const o=Te;Te=null,Je(()=>kn(this),!1),Te=o}if(ue){const o=this.observers?this.observers.length:0;ue.sources?(ue.sources.push(this),ue.sourceSlots.push(o)):(ue.sources=[this],ue.sourceSlots=[o]),this.observers?(this.observers.push(ue),this.observerSlots.push(ue.sources.length-1)):(this.observers=[ue],this.observerSlots=[ue.sources.length-1])}return this.value}function Mo(o,i,n){let s=o.value;return(!o.comparator||!o.comparator(s,i))&&(o.value=i,o.observers&&o.observers.length&&Je(()=>{for(let a=0;a<o.observers.length;a+=1){const u=o.observers[a],h=gr&&gr.running;h&&gr.disposed.has(u),(h?!u.tState:!u.state)&&(u.pure?Te.push(u):st.push(u),u.observers&&Ro(u)),h||(u.state=at)}if(Te.length>1e6)throw Te=[],new Error},!1)),i}function Qt(o){if(!o.fn)return;$i(o);const i=Sn;Fl(o,o.value,i)}function Fl(o,i,n){let s;const a=se,u=ue;ue=se=o;try{s=o.fn(i)}catch(h){return o.pure&&(o.state=at,o.owned&&o.owned.forEach($i),o.owned=null),o.updatedAt=n+1,Hr(h)}finally{ue=u,se=a}(!o.updatedAt||o.updatedAt<=n)&&(o.updatedAt!=null&&"observers"in o?Mo(o,s):o.value=s,o.updatedAt=n)}function En(o,i,n,s=at,a){const u={fn:o,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:i,owner:se,context:se?se.context:null,pure:n};return se===null||se!==Oo&&(se.owned?se.owned.push(u):se.owned=[u]),u}function xn(o){if(o.state===0)return;if(o.state===bn)return kn(o);if(o.suspense&&je(o.suspense.inFallback))return o.suspense.effects.push(o);const i=[o];for(;(o=o.owner)&&(!o.updatedAt||o.updatedAt<Sn);)o.state&&i.push(o);for(let n=i.length-1;n>=0;n--)if(o=i[n],o.state===at)Qt(o);else if(o.state===bn){const s=Te;Te=null,Je(()=>kn(o,i[0]),!1),Te=s}}function Je(o,i){if(Te)return o();let n=!1;i||(Te=[]),st?n=!0:st=[],Sn++;try{const s=o();return Hl(n),s}catch(s){n||(st=null),Te=null,Hr(s)}}function Hl(o){if(Te&&(zo(Te),Te=null),o)return;const i=st;st=null,i.length&&Je(()=>Ao(i),!1)}function zo(o){for(let i=0;i<o.length;i++)xn(o[i])}function Wl(o){let i,n=0;for(i=0;i<o.length;i++){const s=o[i];s.user?o[n++]=s:xn(s)}for(i=0;i<n;i++)xn(o[i])}function kn(o,i){o.state=0;for(let n=0;n<o.sources.length;n+=1){const s=o.sources[n];if(s.sources){const a=s.state;a===at?s!==i&&(!s.updatedAt||s.updatedAt<Sn)&&xn(s):a===bn&&kn(s,i)}}}function Ro(o){for(let i=0;i<o.observers.length;i+=1){const n=o.observers[i];n.state||(n.state=bn,n.pure?Te.push(n):st.push(n),n.observers&&Ro(n))}}function $i(o){let i;if(o.sources)for(;o.sources.length;){const n=o.sources.pop(),s=o.sourceSlots.pop(),a=n.observers;if(a&&a.length){const u=a.pop(),h=n.observerSlots.pop();s<a.length&&(u.sourceSlots[h]=s,a[s]=u,n.observerSlots[s]=h)}}if(o.tOwned){for(i=o.tOwned.length-1;i>=0;i--)$i(o.tOwned[i]);delete o.tOwned}if(o.owned){for(i=o.owned.length-1;i>=0;i--)$i(o.owned[i]);o.owned=null}if(o.cleanups){for(i=o.cleanups.length-1;i>=0;i--)o.cleanups[i]();o.cleanups=null}o.state=0}function Lr(o){return o instanceof Error?o:new Error(typeof o=="string"?o:"Unknown error",{cause:o})}function Hr(o,i=se){throw Lr(o)}function Cr(o){if(typeof o=="function"&&!o.length)return Cr(o());if(Array.isArray(o)){const i=[];for(let n=0;n<o.length;n++){const s=Cr(o[n]);Array.isArray(s)?i.push.apply(i,s):i.push(s)}return i}return o}function ql(o,i){return function(s){let a;return be(()=>a=je(()=>(se.context={...se.context,[o]:s.value},Fr(()=>s.children))),void 0),a}}const Vl=Symbol("fallback");function Ys(o){for(let i=0;i<o.length;i++)o[i]()}function Gl(o,i,n={}){let s=[],a=[],u=[],h=0,d=i.length>1?[]:null;return Ln(()=>Ys(u)),()=>{let f=o()||[],m=f.length,_,g;return f[Il],je(()=>{let P,E,k,x,T,S,O,A,$;if(m===0)h!==0&&(Ys(u),u=[],s=[],a=[],h=0,d&&(d=[])),n.fallback&&(s=[Vl],a[0]=Ai(B=>(u[0]=B,n.fallback())),h=1);else if(h===0){for(a=new Array(m),g=0;g<m;g++)s[g]=f[g],a[g]=Ai(w);h=m}else{for(k=new Array(m),x=new Array(m),d&&(T=new Array(m)),S=0,O=Math.min(h,m);S<O&&s[S]===f[S];S++);for(O=h-1,A=m-1;O>=S&&A>=S&&s[O]===f[A];O--,A--)k[A]=a[O],x[A]=u[O],d&&(T[A]=d[O]);for(P=new Map,E=new Array(A+1),g=A;g>=S;g--)$=f[g],_=P.get($),E[g]=_===void 0?-1:_,P.set($,g);for(_=S;_<=O;_++)$=s[_],g=P.get($),g!==void 0&&g!==-1?(k[g]=a[_],x[g]=u[_],d&&(T[g]=d[_]),g=E[g],P.set($,g)):u[_]();for(g=S;g<m;g++)g in k?(a[g]=k[g],u[g]=x[g],d&&(d[g]=T[g],d[g](g))):a[g]=Ai(w);a=a.slice(0,h=m),s=f.slice(0)}return a});function w(P){if(u[g]=P,d){const[E,k]=M(g);return d[g]=k,i(f[g],E)}return i(f[g])}}}function D(o,i){return je(()=>o(i||{}))}function cn(){return!0}const Er={get(o,i,n){return i===yn?n:o.get(i)},has(o,i){return i===yn?!0:o.has(i)},set:cn,deleteProperty:cn,getOwnPropertyDescriptor(o,i){return{configurable:!0,enumerable:!0,get(){return o.get(i)},set:cn,deleteProperty:cn}},ownKeys(o){return o.keys()}};function vr(o){return(o=typeof o=="function"?o():o)?o:{}}function Kl(){for(let o=0,i=this.length;o<i;++o){const n=this[o]();if(n!==void 0)return n}}function Ar(...o){let i=!1;for(let h=0;h<o.length;h++){const d=o[h];i=i||!!d&&yn in d,o[h]=typeof d=="function"?(i=!0,le(d)):d}if(Eo&&i)return new Proxy({get(h){for(let d=o.length-1;d>=0;d--){const f=vr(o[d])[h];if(f!==void 0)return f}},has(h){for(let d=o.length-1;d>=0;d--)if(h in vr(o[d]))return!0;return!1},keys(){const h=[];for(let d=0;d<o.length;d++)h.push(...Object.keys(vr(o[d])));return[...new Set(h)]}},Er);const n={},s=Object.create(null);for(let h=o.length-1;h>=0;h--){const d=o[h];if(!d)continue;const f=Object.getOwnPropertyNames(d);for(let m=f.length-1;m>=0;m--){const _=f[m];if(_==="__proto__"||_==="constructor")continue;const g=Object.getOwnPropertyDescriptor(d,_);if(!s[_])s[_]=g.get?{enumerable:!0,configurable:!0,get:Kl.bind(n[_]=[g.get.bind(d)])}:g.value!==void 0?g:void 0;else{const w=n[_];w&&(g.get?w.push(g.get.bind(d)):g.value!==void 0&&w.push(()=>g.value))}}}const a={},u=Object.keys(s);for(let h=u.length-1;h>=0;h--){const d=u[h],f=s[d];f&&f.get?Object.defineProperty(a,d,f):a[d]=f?f.value:void 0}return a}function Jl(o,...i){if(Eo&&yn in o){const a=new Set(i.length>1?i.flat():i[0]),u=i.map(h=>new Proxy({get(d){return h.includes(d)?o[d]:void 0},has(d){return h.includes(d)&&d in o},keys(){return h.filter(d=>d in o)}},Er));return u.push(new Proxy({get(h){return a.has(h)?void 0:o[h]},has(h){return a.has(h)?!1:h in o},keys(){return Object.keys(o).filter(h=>!a.has(h))}},Er)),u}const n={},s=i.map(()=>({}));for(const a of Object.getOwnPropertyNames(o)){const u=Object.getOwnPropertyDescriptor(o,a),h=!u.get&&!u.set&&u.enumerable&&u.writable&&u.configurable;let d=!1,f=0;for(const m of i)m.includes(a)&&(d=!0,h?s[f][a]=u.value:Object.defineProperty(s[f],a,u)),++f;d||(h?n[a]=u.value:Object.defineProperty(n,a,u))}return[...s,n]}const Yl=o=>`Stale read from <${o}>.`;function Xl(o){const i="fallback"in o&&{fallback:()=>o.fallback};return le(Gl(()=>o.each,o.children,i||void 0))}function Wr(o){const i=o.keyed,n=le(()=>o.when,void 0,{equals:(s,a)=>i?s===a:!s==!a});return le(()=>{const s=n();if(s){const a=o.children;return typeof a=="function"&&a.length>0?je(()=>a(i?s:()=>{if(!je(n))throw Yl("Show");return o.when})):a}return o.fallback},void 0,void 0)}const Ql=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],eu=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ql]),tu=new Set(["innerHTML","textContent","innerText","children"]),iu=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),nu=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function ru(o,i){const n=nu[o];return typeof n=="object"?n[i]?n.$:void 0:n}const su=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]);function ou(o,i,n){let s=n.length,a=i.length,u=s,h=0,d=0,f=i[a-1].nextSibling,m=null;for(;h<a||d<u;){if(i[h]===n[d]){h++,d++;continue}for(;i[a-1]===n[u-1];)a--,u--;if(a===h){const _=u<s?d?n[d-1].nextSibling:n[u-d]:f;for(;d<u;)o.insertBefore(n[d++],_)}else if(u===d)for(;h<a;)(!m||!m.has(i[h]))&&i[h].remove(),h++;else if(i[h]===n[u-1]&&n[d]===i[a-1]){const _=i[--a].nextSibling;o.insertBefore(n[d++],i[h++].nextSibling),o.insertBefore(n[--u],_),i[a]=n[u]}else{if(!m){m=new Map;let g=d;for(;g<u;)m.set(n[g],g++)}const _=m.get(i[h]);if(_!=null)if(d<_&&_<u){let g=h,w=1,P;for(;++g<a&&g<u&&!((P=m.get(i[g]))==null||P!==_+w);)w++;if(w>_-d){const E=i[h];for(;d<_;)o.insertBefore(n[d++],E)}else o.replaceChild(n[d++],i[h++])}else h++;else i[h++].remove()}}}const Xs="_$DX_DELEGATE";function au(o,i,n,s={}){let a;return Ai(u=>{a=u,i===document?o():H(i,o(),i.firstChild?null:void 0,n)},s.owner),()=>{a(),i.textContent=""}}function oe(o,i,n){let s;const a=()=>{const h=document.createElement("template");return h.innerHTML=o,h.content.firstChild},u=()=>(s||(s=a())).cloneNode(!0);return u.cloneNode=u,u}function De(o,i=window.document){const n=i[Xs]||(i[Xs]=new Set);for(let s=0,a=o.length;s<a;s++){const u=o[s];n.has(u)||(n.add(u),i.addEventListener(u,_u))}}function Ye(o,i,n){n==null?o.removeAttribute(i):o.setAttribute(i,n)}function lu(o,i,n){n?o.setAttribute(i,""):o.removeAttribute(i)}function An(o,i){i==null?o.removeAttribute("class"):o.className=i}function uu(o,i,n,s){if(s)Array.isArray(n)?(o[`$$${i}`]=n[0],o[`$$${i}Data`]=n[1]):o[`$$${i}`]=n;else if(Array.isArray(n)){const a=n[0];o.addEventListener(i,n[0]=u=>a.call(o,n[1],u))}else o.addEventListener(i,n,typeof n!="function"&&n)}function hu(o,i,n={}){const s=Object.keys(i||{}),a=Object.keys(n);let u,h;for(u=0,h=a.length;u<h;u++){const d=a[u];!d||d==="undefined"||i[d]||(Qs(o,d,!1),delete n[d])}for(u=0,h=s.length;u<h;u++){const d=s[u],f=!!i[d];!d||d==="undefined"||n[d]===f||!f||(Qs(o,d,!0),n[d]=f)}return n}function cu(o,i,n){if(!i)return n?Ye(o,"style"):i;const s=o.style;if(typeof i=="string")return s.cssText=i;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),i||(i={});let a,u;for(u in n)i[u]==null&&s.removeProperty(u),delete n[u];for(u in i)a=i[u],a!==n[u]&&(s.setProperty(u,a),n[u]=a);return n}function du(o,i={},n,s){const a={};return be(()=>a.children=Ii(o,i.children,a.children)),be(()=>typeof i.ref=="function"&&fu(i.ref,o)),be(()=>pu(o,i,n,!0,a,!0)),a}function fu(o,i,n){return je(()=>o(i,n))}function H(o,i,n,s){if(n!==void 0&&!s&&(s=[]),typeof i!="function")return Ii(o,i,s,n);be(a=>Ii(o,i(),a,n),s)}function pu(o,i,n,s,a={},u=!1){i||(i={});for(const h in a)if(!(h in i)){if(h==="children")continue;a[h]=eo(o,h,null,a[h],n,u,i)}for(const h in i){if(h==="children")continue;const d=i[h];a[h]=eo(o,h,d,a[h],n,u,i)}}function mu(o){return o.toLowerCase().replace(/-([a-z])/g,(i,n)=>n.toUpperCase())}function Qs(o,i,n){const s=i.trim().split(/\s+/);for(let a=0,u=s.length;a<u;a++)o.classList.toggle(s[a],n)}function eo(o,i,n,s,a,u,h){let d,f,m,_,g;if(i==="style")return cu(o,n,s);if(i==="classList")return hu(o,n,s);if(n===s)return s;if(i==="ref")u||n(o);else if(i.slice(0,3)==="on:"){const w=i.slice(3);s&&o.removeEventListener(w,s,typeof s!="function"&&s),n&&o.addEventListener(w,n,typeof n!="function"&&n)}else if(i.slice(0,10)==="oncapture:"){const w=i.slice(10);s&&o.removeEventListener(w,s,!0),n&&o.addEventListener(w,n,!0)}else if(i.slice(0,2)==="on"){const w=i.slice(2).toLowerCase(),P=su.has(w);if(!P&&s){const E=Array.isArray(s)?s[0]:s;o.removeEventListener(w,E)}(P||n)&&(uu(o,w,n,P),P&&De([w]))}else i.slice(0,5)==="attr:"?Ye(o,i.slice(5),n):i.slice(0,5)==="bool:"?lu(o,i.slice(5),n):(g=i.slice(0,5)==="prop:")||(m=tu.has(i))||(_=ru(i,o.tagName))||(f=eu.has(i))||(d=o.nodeName.includes("-")||"is"in h)?(g&&(i=i.slice(5),f=!0),i==="class"||i==="className"?An(o,n):d&&!f&&!m?o[mu(i)]=n:o[_||i]=n):Ye(o,iu[i]||i,n);return n}function _u(o){let i=o.target;const n=`$$${o.type}`,s=o.target,a=o.currentTarget,u=f=>Object.defineProperty(o,"target",{configurable:!0,value:f}),h=()=>{const f=i[n];if(f&&!i.disabled){const m=i[`${n}Data`];if(m!==void 0?f.call(i,m,o):f.call(i,o),o.cancelBubble)return}return i.host&&typeof i.host!="string"&&!i.host._$host&&i.contains(o.target)&&u(i.host),!0},d=()=>{for(;h()&&(i=i._$host||i.parentNode||i.host););};if(Object.defineProperty(o,"currentTarget",{configurable:!0,get(){return i||document}}),o.composedPath){const f=o.composedPath();u(f[0]);for(let m=0;m<f.length-2&&(i=f[m],!!h());m++){if(i._$host){i=i._$host,d();break}if(i.parentNode===a)break}}else d();u(s)}function Ii(o,i,n,s,a){for(;typeof n=="function";)n=n();if(i===n)return n;const u=typeof i,h=s!==void 0;if(o=h&&n[0]&&n[0].parentNode||o,u==="string"||u==="number"){if(u==="number"&&(i=i.toString(),i===n))return n;if(h){let d=n[0];d&&d.nodeType===3?d.data!==i&&(d.data=i):d=document.createTextNode(i),n=Ht(o,n,s,d)}else n!==""&&typeof n=="string"?n=o.firstChild.data=i:n=o.textContent=i}else if(i==null||u==="boolean")n=Ht(o,n,s);else{if(u==="function")return be(()=>{let d=i();for(;typeof d=="function";)d=d();n=Ii(o,d,n,s)}),()=>n;if(Array.isArray(i)){const d=[],f=n&&Array.isArray(n);if(Or(d,i,n,a))return be(()=>n=Ii(o,d,n,s,!0)),()=>n;if(d.length===0){if(n=Ht(o,n,s),h)return n}else f?n.length===0?to(o,d,s):ou(o,n,d):(n&&Ht(o),to(o,d));n=d}else if(i.nodeType){if(Array.isArray(n)){if(h)return n=Ht(o,n,s,i);Ht(o,n,null,i)}else n==null||n===""||!o.firstChild?o.appendChild(i):o.replaceChild(i,o.firstChild);n=i}}return n}function Or(o,i,n,s){let a=!1;for(let u=0,h=i.length;u<h;u++){let d=i[u],f=n&&n[o.length],m;if(!(d==null||d===!0||d===!1))if((m=typeof d)=="object"&&d.nodeType)o.push(d);else if(Array.isArray(d))a=Or(o,d,f)||a;else if(m==="function")if(s){for(;typeof d=="function";)d=d();a=Or(o,Array.isArray(d)?d:[d],Array.isArray(f)?f:[f])||a}else o.push(d),a=!0;else{const _=String(d);f&&f.nodeType===3&&f.data===_?o.push(f):o.push(document.createTextNode(_))}}return a}function to(o,i,n=null){for(let s=0,a=i.length;s<a;s++)o.insertBefore(i[s],n)}function Ht(o,i,n,s){if(n===void 0)return o.textContent="";const a=s||document.createTextNode("");if(i.length){let u=!1;for(let h=i.length-1;h>=0;h--){const d=i[h];if(a!==d){const f=d.parentNode===o;!u&&!h?f?o.replaceChild(a,d):o.insertBefore(a,n):f&&d.remove()}else u=!0}}else o.insertBefore(a,n);return[a]}const gu=!1;function Bo(){let o=new Set;function i(a){return o.add(a),()=>o.delete(a)}let n=!1;function s(a,u){if(n)return!(n=!1);const h={to:a,options:u,defaultPrevented:!1,preventDefault:()=>h.defaultPrevented=!0};for(const d of o)d.listener({...h,from:d.location,retry:f=>{f&&(n=!0),d.navigate(a,{...u,resolve:!1})}});return!h.defaultPrevented}return{subscribe:i,confirm:s}}let jr;function qr(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),jr=window.history.state._depth}qr();function vu(o){return{...o,_depth:window.history.state&&window.history.state._depth}}function yu(o,i){let n=!1;return()=>{const s=jr;qr();const a=s==null?null:jr-s;if(n){n=!1;return}a&&i(a)?(n=!0,window.history.go(-a)):o()}}const wu=/^(?:[a-z0-9]+:)?\/\//i,bu=/^\/+|(\/)\/+$/g,Do="http://sr";function At(o,i=!1){const n=o.replace(bu,"$1");return n?i||/^[?#]/.test(n)?n:"/"+n:""}function vn(o,i,n){if(wu.test(i))return;const s=At(o),a=n&&At(n);let u="";return!a||i.startsWith("/")?u=s:a.toLowerCase().indexOf(s.toLowerCase())!==0?u=s+a:u=a,(u||"/")+At(i,!u)}function xu(o,i){if(o==null)throw new Error(i);return o}function ku(o,i){return At(o).replace(/\/*(\*.*)?$/g,"")+At(i)}function No(o){const i={};return o.searchParams.forEach((n,s)=>{s in i?Array.isArray(i[s])?i[s].push(n):i[s]=[i[s],n]:i[s]=n}),i}function Pu(o,i,n){const[s,a]=o.split("/*",2),u=s.split("/").filter(Boolean),h=u.length;return d=>{const f=d.split("/").filter(Boolean),m=f.length-h;if(m<0||m>0&&a===void 0&&!i)return null;const _={path:h?"":"/",params:{}},g=w=>n===void 0?void 0:n[w];for(let w=0;w<h;w++){const P=u[w],E=P[0]===":",k=E?f[w]:f[w].toLowerCase(),x=E?P.slice(1):P.toLowerCase();if(E&&yr(k,g(x)))_.params[x]=k;else if(E||!yr(k,x))return null;_.path+=`/${k}`}if(a){const w=m?f.slice(-m).join("/"):"";if(yr(w,g(a)))_.params[a]=w;else return null}return _}}function yr(o,i){const n=s=>s===o;return i===void 0?!0:typeof i=="string"?n(i):typeof i=="function"?i(o):Array.isArray(i)?i.some(n):i instanceof RegExp?i.test(o):!1}function Tu(o){const[i,n]=o.pattern.split("/*",2),s=i.split("/").filter(Boolean);return s.reduce((a,u)=>a+(u.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function Zo(o){const i=new Map,n=jo();return new Proxy({},{get(s,a){return i.has(a)||$o(n,()=>i.set(a,le(()=>o()[a]))),i.get(a)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(o())}})}function Uo(o){let i=/(\/?\:[^\/]+)\?/.exec(o);if(!i)return[o];let n=o.slice(0,i.index),s=o.slice(i.index+i[0].length);const a=[n,n+=i[1]];for(;i=/^(\/\:[^\/]+)\?/.exec(s);)a.push(n+=i[1]),s=s.slice(i[0].length);return Uo(s).reduce((u,h)=>[...u,...a.map(d=>d+h)],[])}const Su=100,Fo=Ur(),Vr=Ur(),On=()=>xu(Cn(Fo),"<A> and 'use' router primitives can be only used inside a Route."),Lu=()=>Cn(Vr)||On().base,Cu=o=>{const i=Lu();return le(()=>i.resolvePath(o()))},Eu=o=>{const i=On();return le(()=>{const n=o();return n!==void 0?i.renderPath(n):n})},Xe=()=>On().navigatorFactory(),Au=()=>On().location;function Ou(o,i=""){const{component:n,preload:s,load:a,children:u,info:h}=o,d=!u||Array.isArray(u)&&!u.length,f={key:o,component:n,preload:s||a,info:h};return Ho(o.path).reduce((m,_)=>{for(const g of Uo(_)){const w=ku(i,g);let P=d?w:w.split("/*",1)[0];P=P.split("/").map(E=>E.startsWith(":")||E.startsWith("*")?E:encodeURIComponent(E)).join("/"),m.push({...f,originalPath:_,pattern:P,matcher:Pu(P,!d,o.matchFilters)})}return m},[])}function ju(o,i=0){return{routes:o,score:Tu(o[o.length-1])*1e4-i,matcher(n){const s=[];for(let a=o.length-1;a>=0;a--){const u=o[a],h=u.matcher(n);if(!h)return null;s.unshift({...h,route:u})}return s}}}function Ho(o){return Array.isArray(o)?o:[o]}function Wo(o,i="",n=[],s=[]){const a=Ho(o);for(let u=0,h=a.length;u<h;u++){const d=a[u];if(d&&typeof d=="object"){d.hasOwnProperty("path")||(d.path="");const f=Ou(d,i);for(const m of f){n.push(m);const _=Array.isArray(d.children)&&d.children.length===0;if(d.children&&!_)Wo(d.children,m.pattern,n,s);else{const g=ju([...n],s.length);s.push(g)}n.pop()}}}return n.length?s:s.sort((u,h)=>h.score-u.score)}function wr(o,i){for(let n=0,s=o.length;n<s;n++){const a=o[n].matcher(i);if(a)return a}return[]}function $u(o,i,n){const s=new URL(Do),a=le(_=>{const g=o();try{return new URL(g,s)}catch{return console.error(`Invalid path ${g}`),_}},s,{equals:(_,g)=>_.href===g.href}),u=le(()=>a().pathname),h=le(()=>a().search,!0),d=le(()=>a().hash),f=()=>"",m=Zr(h,()=>No(a()));return{get pathname(){return u()},get search(){return h()},get hash(){return d()},get state(){return i()},get key(){return f()},query:n?n(m):Zo(m)}}let Ct;function Iu(){return Ct}function Mu(o,i,n,s={}){const{signal:[a,u],utils:h={}}=o,d=h.parsePath||(Z=>Z),f=h.renderPath||(Z=>Z),m=h.beforeLeave||Bo(),_=vn("",s.base||"");if(_===void 0)throw new Error(`${_} is not a valid base path`);_&&!a().value&&u({value:_,replace:!0,scroll:!1});const[g,w]=M(!1);let P;const E=(Z,Q)=>{Q.value===k()&&Q.state===T()||(P===void 0&&w(!0),Ct=Z,P=Q,Zl(()=>{P===Q&&(x(P.value),S(P.state),$[1](V=>V.filter(ge=>ge.pending)))}).finally(()=>{P===Q&&Dl(()=>{Ct=void 0,Z==="navigate"&&pe(P),w(!1),P=void 0})}))},[k,x]=M(a().value),[T,S]=M(a().state),O=$u(k,T,h.queryWrapper),A=[],$=M([]),B=le(()=>typeof s.transformUrl=="function"?wr(i(),s.transformUrl(O.pathname)):wr(i(),O.pathname)),W=()=>{const Z=B(),Q={};for(let V=0;V<Z.length;V++)Object.assign(Q,Z[V].params);return Q},U=h.paramsWrapper?h.paramsWrapper(W,i):Zo(W),q={pattern:_,path:()=>_,outlet:()=>null,resolvePath(Z){return vn(_,Z)}};return be(Zr(a,Z=>E("native",Z),{defer:!0})),{base:q,location:O,params:U,isRouting:g,renderPath:f,parsePath:d,navigatorFactory:ie,matches:B,beforeLeave:m,preloadRoute:Qe,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:$};function Y(Z,Q,V){je(()=>{if(typeof Q=="number"){Q&&(h.go?h.go(Q):console.warn("Router integration does not support relative routing"));return}const ge=!Q||Q[0]==="?",{replace:R,resolve:Ce,scroll:z,state:ee}={replace:!1,resolve:!ge,scroll:!0,...V},fe=Ce?Z.resolvePath(Q):vn(ge&&O.pathname||"",Q);if(fe===void 0)throw new Error(`Path '${Q}' is not a routable path`);if(A.length>=Su)throw new Error("Too many redirects");const _e=k();(fe!==_e||ee!==T())&&(gu||m.confirm(fe,V)&&(A.push({value:_e,replace:R,scroll:z,state:T()}),E("navigate",{value:fe,state:ee})))})}function ie(Z){return Z=Z||Cn(Vr)||q,(Q,V)=>Y(Z,Q,V)}function pe(Z){const Q=A[0];Q&&(u({...Z,replace:Q.replace,scroll:Q.scroll}),A.length=0)}function Qe(Z,Q){const V=wr(i(),Z.pathname),ge=Ct;Ct="preload";for(let R in V){const{route:Ce,params:z}=V[R];Ce.component&&Ce.component.preload&&Ce.component.preload();const{preload:ee}=Ce;Q&&ee&&$o(n(),()=>ee({params:z,location:{pathname:Z.pathname,search:Z.search,hash:Z.hash,query:No(Z),state:null,key:""},intent:"preload"}))}Ct=ge}}function zu(o,i,n,s){const{base:a,location:u,params:h}=o,{pattern:d,component:f,preload:m}=s().route,_=le(()=>s().path);f&&f.preload&&f.preload();const g=m?m({params:h,location:u,intent:Ct||"initial"}):void 0;return{parent:i,pattern:d,path:_,outlet:()=>f?D(f,{params:h,location:u,data:g,get children(){return n()}}):n(),resolvePath(P){return vn(a.path(),P,_())}}}const Ru=o=>i=>{const{base:n}=i,s=Fr(()=>i.children),a=le(()=>Wo(s(),i.base||""));let u;const h=Mu(o,a,()=>u,{base:n,singleFlight:i.singleFlight,transformUrl:i.transformUrl});return o.create&&o.create(h),D(Fo.Provider,{value:h,get children(){return D(Bu,{routerState:h,get root(){return i.root},get preload(){return i.rootPreload||i.rootLoad},get children(){return[le(()=>(u=jo())&&null),D(Du,{routerState:h,get branches(){return a()}})]}})}})};function Bu(o){const i=o.routerState.location,n=o.routerState.params,s=le(()=>o.preload&&je(()=>{o.preload({params:n,location:i,intent:Iu()||"initial"})}));return D(Wr,{get when(){return o.root},keyed:!0,get fallback(){return o.children},children:a=>D(a,{params:n,location:i,get data(){return s()},get children(){return o.children}})})}function Du(o){const i=[];let n;const s=le(Zr(o.routerState.matches,(a,u,h)=>{let d=u&&a.length===u.length;const f=[];for(let m=0,_=a.length;m<_;m++){const g=u&&u[m],w=a[m];h&&g&&w.route.key===g.route.key?f[m]=h[m]:(d=!1,i[m]&&i[m](),Ai(P=>{i[m]=P,f[m]=zu(o.routerState,f[m-1]||o.routerState.base,io(()=>s()[m+1]),()=>o.routerState.matches()[m])}))}return i.splice(a.length).forEach(m=>m()),h&&d?h:(n=f[0],f)}));return io(()=>s()&&n)()}const io=o=>()=>D(Wr,{get when(){return o()},keyed:!0,children:i=>D(Vr.Provider,{value:i,get children(){return i.outlet()}})}),Ue=o=>{const i=Fr(()=>o.children);return Ar(o,{get children(){return i()}})};function Nu([o,i],n,s){return[o,a=>i(s(a))]}function Zu(o){let i=!1;const n=a=>typeof a=="string"?{value:a}:a,s=Nu(M(n(o.get()),{equals:(a,u)=>a.value===u.value&&a.state===u.state}),void 0,a=>(!i&&o.set(a),a));return o.init&&Ln(o.init((a=o.get())=>{i=!0,s[1](n(a)),i=!1})),Ru({signal:s,create:o.create,utils:o.utils})}function Uu(o,i,n){return o.addEventListener(i,n),()=>o.removeEventListener(i,n)}function Fu(o,i){const n=o&&document.getElementById(o);n?n.scrollIntoView():i&&window.scrollTo(0,0)}const Hu=new Map;function Wu(o=!0,i=!1,n="/_server",s){return a=>{const u=a.base.path(),h=a.navigatorFactory(a.base);let d,f;function m(k){return k.namespaceURI==="http://www.w3.org/2000/svg"}function _(k){if(k.defaultPrevented||k.button!==0||k.metaKey||k.altKey||k.ctrlKey||k.shiftKey)return;const x=k.composedPath().find(B=>B instanceof Node&&B.nodeName.toUpperCase()==="A");if(!x||i&&!x.hasAttribute("link"))return;const T=m(x),S=T?x.href.baseVal:x.href;if((T?x.target.baseVal:x.target)||!S&&!x.hasAttribute("state"))return;const A=(x.getAttribute("rel")||"").split(/\s+/);if(x.hasAttribute("download")||A&&A.includes("external"))return;const $=T?new URL(S,document.baseURI):new URL(S);if(!($.origin!==window.location.origin||u&&$.pathname&&!$.pathname.toLowerCase().startsWith(u.toLowerCase())))return[x,$]}function g(k){const x=_(k);if(!x)return;const[T,S]=x,O=a.parsePath(S.pathname+S.search+S.hash),A=T.getAttribute("state");k.preventDefault(),h(O,{resolve:!1,replace:T.hasAttribute("replace"),scroll:!T.hasAttribute("noscroll"),state:A?JSON.parse(A):void 0})}function w(k){const x=_(k);if(!x)return;const[T,S]=x;a.preloadRoute(S,T.getAttribute("preload")!=="false")}function P(k){clearTimeout(d);const x=_(k);if(!x)return f=null;const[T,S]=x;f!==T&&(d=setTimeout(()=>{a.preloadRoute(S,T.getAttribute("preload")!=="false"),f=T},20))}function E(k){if(k.defaultPrevented)return;let x=k.submitter&&k.submitter.hasAttribute("formaction")?k.submitter.getAttribute("formaction"):k.target.getAttribute("action");if(!x)return;if(!x.startsWith("https://action/")){const S=new URL(x,Do);if(x=a.parsePath(S.pathname+S.search),!x.startsWith(n))return}if(k.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const T=Hu.get(x);if(T){k.preventDefault();const S=new FormData(k.target,k.submitter);T.call({r:a,f:k.target},k.target.enctype==="multipart/form-data"?S:new URLSearchParams(S))}}De(["click","submit"]),document.addEventListener("click",g),o&&(document.addEventListener("mousemove",P,{passive:!0}),document.addEventListener("focusin",w,{passive:!0}),document.addEventListener("touchstart",w,{passive:!0})),document.addEventListener("submit",E),Ln(()=>{document.removeEventListener("click",g),o&&(document.removeEventListener("mousemove",P),document.removeEventListener("focusin",w),document.removeEventListener("touchstart",w)),document.removeEventListener("submit",E)})}}function qu(o){const i=o.replace(/^.*?#/,"");if(!i.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${i}`}return i}function Vu(o){const i=()=>window.location.hash.slice(1),n=Bo();return Zu({get:i,set({value:s,replace:a,scroll:u,state:h}){a?window.history.replaceState(vu(h),"","#"+s):window.history.pushState(h,"","#"+s);const d=s.indexOf("#"),f=d>=0?s.slice(d+1):"";Fu(f,u),qr()},init:s=>Uu(window,"hashchange",yu(s,a=>!n.confirm(a&&a<0?a:i()))),create:Wu(o.preload,o.explicitLinks,o.actionBase),utils:{go:s=>window.history.go(s),renderPath:s=>`#${s}`,parsePath:qu,beforeLeave:n}})(o)}var Gu=oe("<a>");function no(o){o=Ar({inactiveClass:"inactive",activeClass:"active"},o);const[,i]=Jl(o,["href","state","class","activeClass","inactiveClass","end"]),n=Cu(()=>o.href),s=Eu(n),a=Au(),u=le(()=>{const h=n();if(h===void 0)return[!1,!1];const d=At(h.split(/[?#]/,1)[0]).toLowerCase(),f=decodeURI(At(a.pathname).toLowerCase());return[o.end?d===f:f.startsWith(d+"/")||f===d,d===f]});return(()=>{var h=Gu();return du(h,Ar(i,{get href(){return s()||o.href},get state(){return JSON.stringify(o.state)},get classList(){return{...o.class&&{[o.class]:!0},[o.inactiveClass]:!u()[0],[o.activeClass]:u()[0],...i.classList}},link:"",get"aria-current"(){return u()[1]?"page":void 0}}),!1),h})()}const Ku="modulepreload",Ju=function(o){return"/ZavrsniV2/"+o},ro={},Yt=function(i,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=Promise.allSettled(n.map(f=>{if(f=Ju(f),f in ro)return;ro[f]=!0;const m=f.endsWith(".css"),_=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${_}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":Ku,m||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),m)return new Promise((w,P)=>{g.addEventListener("load",w),g.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${f}`)))})}))}function u(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return a.then(h=>{for(const d of h||[])d.status==="rejected"&&u(d.reason);return i().catch(u)})},Yu=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...n)=>Yt(async()=>{const{default:s}=await Promise.resolve().then(()=>ei);return{default:s}},void 0).then(({default:s})=>s(...n)):i=fetch,(...n)=>i(...n)};class Gr extends Error{constructor(i,n="FunctionsError",s){super(i),this.name=n,this.context=s}}class Xu extends Gr{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class Qu extends Gr{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class eh extends Gr{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var $r;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})($r||($r={}));var th=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(_){try{m(s.next(_))}catch(g){h(g)}}function f(_){try{m(s.throw(_))}catch(g){h(g)}}function m(_){_.done?u(_.value):a(_.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};class ih{constructor(i,{headers:n={},customFetch:s,region:a=$r.Any}={}){this.url=i,this.headers=n,this.region=a,this.fetch=Yu(s)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,n={}){var s;return th(this,void 0,void 0,function*(){try{const{headers:a,method:u,body:h}=n;let d={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(d["x-region"]=f);let m;h&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=h):typeof h=="string"?(d["Content-Type"]="text/plain",m=h):typeof FormData<"u"&&h instanceof FormData?m=h:(d["Content-Type"]="application/json",m=JSON.stringify(h)));const _=yield this.fetch(`${this.url}/${i}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:m}).catch(E=>{throw new Xu(E)}),g=_.headers.get("x-relay-error");if(g&&g==="true")throw new Qu(_);if(!_.ok)throw new eh(_);let w=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),P;return w==="application/json"?P=yield _.json():w==="application/octet-stream"?P=yield _.blob():w==="text/event-stream"?P=_:w==="multipart/form-data"?P=yield _.formData():P=yield _.text(),{data:P,error:null}}catch(a){return{data:null,error:a}}})}}var Me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nh(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function rh(o){if(o.__esModule)return o;var i=o.default;if(typeof i=="function"){var n=function s(){return this instanceof s?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};n.prototype=i.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(o).forEach(function(s){var a=Object.getOwnPropertyDescriptor(o,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return o[s]}})}),n}var Oe={},Kr={},jn={},zi={},$n={},In={},sh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xt=sh();const oh=Xt.fetch,qo=Xt.fetch.bind(Xt),Vo=Xt.Headers,ah=Xt.Request,lh=Xt.Response,ei=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vo,Request:ah,Response:lh,default:qo,fetch:oh},Symbol.toStringTag,{value:"Module"})),uh=rh(ei);var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});let hh=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}};Mn.default=hh;var Go=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(In,"__esModule",{value:!0});const ch=Go(uh),dh=Go(Mn);let fh=class{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=ch.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=Object.assign({},this.headers),this.headers[i]=n,this}then(i,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var h,d,f;let m=null,_=null,g=null,w=u.status,P=u.statusText;if(u.ok){if(this.method!=="HEAD"){const T=await u.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=T:_=JSON.parse(T))}const k=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");k&&x&&x.length>1&&(g=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(m={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,g=null,w=406,P="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const k=await u.text();try{m=JSON.parse(k),Array.isArray(m)&&u.status===404&&(_=[],m=null,w=200,P="OK")}catch{u.status===404&&k===""?(w=204,P="No Content"):m={message:k}}if(m&&this.isMaybeSingle&&(!((f=m?.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,w=200,P="OK"),m&&this.shouldThrowOnError)throw new dh.default(m)}return{error:m,data:_,count:g,status:w,statusText:P}});return this.shouldThrowOnError||(a=a.catch(u=>{var h,d,f;return{error:{message:`${(h=u?.name)!==null&&h!==void 0?h:"FetchError"}: ${u?.message}`,details:`${(d=u?.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=u?.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),a.then(i,n)}};In.default=fh;var ph=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty($n,"__esModule",{value:!0});const mh=ph(In);let _h=class extends mh.default{select(i){let n=!1;const s=(i??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:n=!0,nullsFirst:s,foreignTable:a,referencedTable:u=a}={}){const h=u?`${u}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${i}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,n,{foreignTable:s,referencedTable:a=s}={}){const u=typeof a>"u"?"offset":`${a}.offset`,h=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(h,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:n=!1,settings:s=!1,buffers:a=!1,wal:u=!1,format:h="text"}={}){var d;const f=[i?"analyze":null,n?"verbose":null,s?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${m}"; options=${f};`,h==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$n.default=_h;var gh=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(zi,"__esModule",{value:!0});const vh=gh($n);let yh=class extends vh.default{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}in(i,n){const s=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:s,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const h=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${u}fts${h}.${n}`),this}match(i){return Object.entries(i).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(i,n,s){return this.url.searchParams.append(i,`not.${n}.${s}`),this}or(i,{foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,n,s){return this.url.searchParams.append(i,`${n}.${s}`),this}};zi.default=yh;var wh=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(jn,"__esModule",{value:!0});const Ti=wh(zi);let bh=class{constructor(i,{headers:n={},schema:s,fetch:a}){this.url=i,this.headers=n,this.schema=s,this.fetch=a}select(i,{head:n=!1,count:s}={}){const a=n?"HEAD":"GET";let u=!1;const h=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",h),s&&(this.headers.Prefer=`count=${s}`),new Ti.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:n,defaultToNull:s=!0}={}){const a="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),n&&u.push(`count=${n}`),s||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const h=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ti.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:n,ignoreDuplicates:s=!1,count:a,defaultToNull:u=!0}={}){const h="POST",d=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),u||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(i)){const f=i.reduce((m,_)=>m.concat(Object.keys(_)),[]);if(f.length>0){const m=[...new Set(f)].map(_=>`"${_}"`);this.url.searchParams.set("columns",m.join(","))}}return new Ti.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:n}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new Ti.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const n="DELETE",s=[];return i&&s.push(`count=${i}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Ti.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};jn.default=bh;var zn={},Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.version=void 0;Rn.version="0.0.0-automated";Object.defineProperty(zn,"__esModule",{value:!0});zn.DEFAULT_HEADERS=void 0;const xh=Rn;zn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${xh.version}`};var Ko=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Kr,"__esModule",{value:!0});const kh=Ko(jn),Ph=Ko(zi),Th=zn;let Sh=class Jo{constructor(i,{headers:n={},schema:s,fetch:a}={}){this.url=i,this.headers=Object.assign(Object.assign({},Th.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=a}from(i){const n=new URL(`${this.url}/${i}`);return new kh.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new Jo(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,n={},{head:s=!1,get:a=!1,count:u}={}){let h;const d=new URL(`${this.url}/rpc/${i}`);let f;s||a?(h=s?"HEAD":"GET",Object.entries(n).filter(([_,g])=>g!==void 0).map(([_,g])=>[_,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([_,g])=>{d.searchParams.append(_,g)})):(h="POST",f=n);const m=Object.assign({},this.headers);return u&&(m.Prefer=`count=${u}`),new Ph.default({method:h,url:d,headers:m,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}};Kr.default=Sh;var ti=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PostgrestError=Oe.PostgrestBuilder=Oe.PostgrestTransformBuilder=Oe.PostgrestFilterBuilder=Oe.PostgrestQueryBuilder=Oe.PostgrestClient=void 0;const Yo=ti(Kr);Oe.PostgrestClient=Yo.default;const Xo=ti(jn);Oe.PostgrestQueryBuilder=Xo.default;const Qo=ti(zi);Oe.PostgrestFilterBuilder=Qo.default;const ea=ti($n);Oe.PostgrestTransformBuilder=ea.default;const ta=ti(In);Oe.PostgrestBuilder=ta.default;const ia=ti(Mn);Oe.PostgrestError=ia.default;var Lh=Oe.default={PostgrestClient:Yo.default,PostgrestQueryBuilder:Xo.default,PostgrestFilterBuilder:Qo.default,PostgrestTransformBuilder:ea.default,PostgrestBuilder:ta.default,PostgrestError:ia.default};const{PostgrestClient:Ch,PostgrestQueryBuilder:Vf,PostgrestFilterBuilder:Gf,PostgrestTransformBuilder:Kf,PostgrestBuilder:Jf,PostgrestError:Yf}=Lh,Eh="2.11.2",Ah={"X-Client-Info":`realtime-js/${Eh}`},Oh="1.0.0",na=1e4,jh=1e3;var Jt;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Jt||(Jt={}));var Ie;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Ie||(Ie={}));var Fe;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Fe||(Fe={}));var Ir;(function(o){o.websocket="websocket"})(Ir||(Ir={}));var Et;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Et||(Et={}));class $h{constructor(){this.HEADER_LENGTH=1}decode(i,n){return i.constructor===ArrayBuffer?n(this._binaryDecode(i)):n(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const n=new DataView(i),s=new TextDecoder;return this._decodeBroadcast(i,n,s)}_decodeBroadcast(i,n,s){const a=n.getUint8(1),u=n.getUint8(2);let h=this.HEADER_LENGTH+2;const d=s.decode(i.slice(h,h+a));h=h+a;const f=s.decode(i.slice(h,h+u));h=h+u;const m=JSON.parse(s.decode(i.slice(h,i.byteLength)));return{ref:null,topic:d,event:f,payload:m}}}class ra{constructor(i,n){this.callback=i,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(de||(de={}));const so=(o,i,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(i).reduce((u,h)=>(u[h]=Ih(h,o,i,a),u),{})},Ih=(o,i,n,s)=>{const a=i.find(d=>d.name===o),u=a?.type,h=n[o];return u&&!s.includes(u)?sa(u,h):Mr(h)},sa=(o,i)=>{if(o.charAt(0)==="_"){const n=o.slice(1,o.length);return Bh(i,n)}switch(o){case de.bool:return Mh(i);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return zh(i);case de.json:case de.jsonb:return Rh(i);case de.timestamp:return Dh(i);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return Mr(i);default:return Mr(i)}},Mr=o=>o,Mh=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},zh=o=>{if(typeof o=="string"){const i=parseFloat(o);if(!Number.isNaN(i))return i}return o},Rh=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(i){return console.log(`JSON parse error: ${i}`),o}return o},Bh=(o,i)=>{if(typeof o!="string")return o;const n=o.length-1,s=o[n];if(o[0]==="{"&&s==="}"){let u;const h=o.slice(1,n);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(d=>sa(i,d))}return o},Dh=o=>typeof o=="string"?o.replace(" ","T"):o,oa=o=>{let i=o;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")};class br{constructor(i,n,s={},a=na){this.channel=i,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,n){var s;return this._hasReceived(i)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:i,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:n}){this.recHooks.filter(s=>s.status===i).forEach(s=>s.callback(n))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var oo;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(oo||(oo={}));class Oi{constructor(i,n){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:u,onLeave:h,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oi.syncState(this.state,a,u,h),this.pendingDiffs.forEach(f=>{this.state=Oi.syncDiff(this.state,f,u,h)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},a=>{const{onJoin:u,onLeave:h,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Oi.syncDiff(this.state,a,u,h),d())}),this.onJoin((a,u,h)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:h})}),this.onLeave((a,u,h)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,n,s,a){const u=this.cloneDeep(i),h=this.transformState(n),d={},f={};return this.map(u,(m,_)=>{h[m]||(f[m]=_)}),this.map(h,(m,_)=>{const g=u[m];if(g){const w=_.map(x=>x.presence_ref),P=g.map(x=>x.presence_ref),E=_.filter(x=>P.indexOf(x.presence_ref)<0),k=g.filter(x=>w.indexOf(x.presence_ref)<0);E.length>0&&(d[m]=E),k.length>0&&(f[m]=k)}else d[m]=_}),this.syncDiff(u,{joins:d,leaves:f},s,a)}static syncDiff(i,n,s,a){const{joins:u,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(u,(d,f)=>{var m;const _=(m=i[d])!==null&&m!==void 0?m:[];if(i[d]=this.cloneDeep(f),_.length>0){const g=i[d].map(P=>P.presence_ref),w=_.filter(P=>g.indexOf(P.presence_ref)<0);i[d].unshift(...w)}s(d,_,f)}),this.map(h,(d,f)=>{let m=i[d];if(!m)return;const _=f.map(g=>g.presence_ref);m=m.filter(g=>_.indexOf(g.presence_ref)<0),i[d]=m,a(d,m,f),m.length===0&&delete i[d]}),i}static map(i,n){return Object.getOwnPropertyNames(i).map(s=>n(s,i[s]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((n,s)=>{const a=i[s];return"metas"in a?n[s]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[s]=a,n},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ao;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(ao||(ao={}));var lo;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(lo||(lo={}));var rt;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class Jr{constructor(i,n={config:{}},s){this.topic=i,this.params=n,this.socket=s,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new br(this,Fe.join,this.params,this.timeout),this.rejoinTimer=new ra(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fe.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new Oi(this),this.broadcastEndpointURL=oa(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(i,n=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:h,private:d}}=this.params;this._onError(_=>i?.(rt.CHANNEL_ERROR,_)),this._onClose(()=>i?.(rt.CLOSED));const f={},m={broadcast:u,presence:h,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(_=>_.filter))!==null&&a!==void 0?a:[],private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var g;if(this.socket.setAuth(),_===void 0){i?.(rt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,P=(g=w?.length)!==null&&g!==void 0?g:0,E=[];for(let k=0;k<P;k++){const x=w[k],{filter:{event:T,schema:S,table:O,filter:A}}=x,$=_&&_[k];if($&&$.event===T&&$.schema===S&&$.table===O&&$.filter===A)E.push(Object.assign(Object.assign({},x),{id:$.id}));else{this.unsubscribe(),i?.(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,i&&i(rt.SUBSCRIBED);return}}).receive("error",_=>{i?.(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{i?.(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,n={}){return await this.send({type:"presence",event:"track",payload:i},n.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,n,s){return this._on(i,n,s)}async send(i,n={}){var s,a;if(!this._canPush()&&i.type==="broadcast"){const{event:u,payload:h}=i,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,d,f;const m=this._push(i.type,i,n.timeout||this.timeout);i.type==="broadcast"&&!(!((f=(d=(h=this.params)===null||h===void 0?void 0:h.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=Ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const a=new br(this,Fe.leave,{},i);a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(i,n,s){const a=new AbortController,u=setTimeout(()=>a.abort(),s),h=await this.socket.fetch(i,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(u),h}_push(i,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new br(this,i,n,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(i,n,s){return n}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,n,s){var a,u;const h=i.toLocaleLowerCase(),{close:d,error:f,leave:m,join:_}=Fe;if(s&&[d,f,m,_].indexOf(h)>=0&&s!==this._joinRef())return;let w=this._onMessage(h,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(P=>{var E,k,x;return((E=P.filter)===null||E===void 0?void 0:E.event)==="*"||((x=(k=P.filter)===null||k===void 0?void 0:k.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===h}).map(P=>P.callback(w,s)):(u=this.bindings[h])===null||u===void 0||u.filter(P=>{var E,k,x,T,S,O;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in P){const A=P.id,$=(E=P.filter)===null||E===void 0?void 0:E.event;return A&&((k=n.ids)===null||k===void 0?void 0:k.includes(A))&&($==="*"||$?.toLocaleLowerCase()===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const A=(S=(T=P?.filter)===null||T===void 0?void 0:T.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return A==="*"||A===((O=n?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return P.type.toLocaleLowerCase()===h}).map(P=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:k,table:x,commit_timestamp:T,type:S,errors:O}=E;w=Object.assign(Object.assign({},{schema:k,table:x,commit_timestamp:T,eventType:S,new:{},old:{},errors:O}),this._getPayloadRecords(E))}P.callback(w,s)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,n,s){const a=i.toLocaleLowerCase(),u={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(i,n){const s=i.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&Jr.isEqual(a.filter,n))}),this}static isEqual(i,n){if(Object.keys(i).length!==Object.keys(n).length)return!1;for(const s in i)if(i[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(Fe.close,{},i)}_onError(i){this._on(Fe.error,{},n=>i(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const n={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(n.new=so(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(n.old=so(i.columns,i.old_record)),n}}const Nh=()=>{},Zh=typeof WebSocket<"u",Uh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Fh{constructor(i,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ah,this.params={},this.timeout=na,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Nh,this.conn=null,this.sendBuffer=[],this.serializer=new $h,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let h;return u?h=u:typeof fetch>"u"?h=(...d)=>Yt(async()=>{const{default:f}=await Promise.resolve().then(()=>ei);return{default:f}},void 0).then(({default:f})=>f(...d)):h=fetch,(...d)=>h(...d)},this.endPoint=`${i}/${Ir.websocket}`,this.httpEndpoint=oa(i),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(s=n?.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n?.encode?n.encode:(u,h)=>h(JSON.stringify(u)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ra(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Zh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Hh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Yt(async()=>{const{default:i}=await import("./browser-A7yYeRi4.js").then(n=>n.b);return{default:i}},[]).then(({default:i})=>{this.conn=new i(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Oh}))}disconnect(i,n){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(i){const n=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const i=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),i}log(i,n,s){this.logger(i,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Jt.connecting:return Et.Connecting;case Jt.open:return Et.Open;case Jt.closing:return Et.Closing;default:return Et.Closed}}isConnected(){return this.connectionState()===Et.Open}channel(i,n={config:{}}){const s=new Jr(`realtime:${i}`,n,this);return this.channels.push(s),s}push(i){const{topic:n,event:s,payload:a,ref:u}=i,h=()=>{this.encode(i,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${s} (${u})`,a),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(i=null){let n=i||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(Fe.access_token,{access_token:n})})}}async sendHeartbeat(){var i;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(i=this.conn)===null||i===void 0||i.close(jh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let n=this.channels.find(s=>s.topic===i&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${i}"`),n.unsubscribe())}_remove(i){this.channels=this.channels.filter(n=>n._joinRef()!==i._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_onConnMessage(i){this.decode(i.data,n=>{let{topic:s,event:a,payload:u,ref:h}=n;h&&h===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${s} ${a} ${h&&"("+h+")"||""}`,u),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,u,h)),this.stateChangeCallbacks.message.forEach(d=>d(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(i=>i())}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(i))}_onConnError(i){this.log("transport",i.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(Fe.error))}_appendParams(i,n){if(Object.keys(n).length===0)return i;const s=i.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${i}${s}${a}`}_workerObjectUrl(i){let n;if(i)n=i;else{const s=new Blob([Uh],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class Hh{constructor(i,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Jt.connecting,this.send=()=>{},this.url=null,this.url=i,this.close=s.close}}class Yr extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function ke(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class Wh extends Yr{constructor(i,n){super(i),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class zr extends Yr{constructor(i,n){super(i),this.name="StorageUnknownError",this.originalError=n}}var qh=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(_){try{m(s.next(_))}catch(g){h(g)}}function f(_){try{m(s.throw(_))}catch(g){h(g)}}function m(_){_.done?u(_.value):a(_.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};const aa=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...n)=>Yt(async()=>{const{default:s}=await Promise.resolve().then(()=>ei);return{default:s}},void 0).then(({default:s})=>s(...n)):i=fetch,(...n)=>i(...n)},Vh=()=>qh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yt(()=>Promise.resolve().then(()=>ei),void 0)).Response:Response}),Rr=o=>{if(Array.isArray(o))return o.map(n=>Rr(n));if(typeof o=="function"||o!==Object(o))return o;const i={};return Object.entries(o).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));i[a]=Rr(s)}),i};var Ot=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(_){try{m(s.next(_))}catch(g){h(g)}}function f(_){try{m(s.throw(_))}catch(g){h(g)}}function m(_){_.done?u(_.value):a(_.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};const xr=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Gh=(o,i,n)=>Ot(void 0,void 0,void 0,function*(){const s=yield Vh();o instanceof s&&!n?.noResolveJson?o.json().then(a=>{i(new Wh(xr(a),o.status||500))}).catch(a=>{i(new zr(xr(a),a))}):i(new zr(xr(o),o))}),Kh=(o,i,n,s)=>{const a={method:o,headers:i?.headers||{}};return o==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},i?.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),n))};function Ri(o,i,n,s,a,u){return Ot(this,void 0,void 0,function*(){return new Promise((h,d)=>{o(n,Kh(i,s,a,u)).then(f=>{if(!f.ok)throw f;return s?.noResolveJson?f:f.json()}).then(f=>h(f)).catch(f=>Gh(f,d,s))})})}function Pn(o,i,n,s){return Ot(this,void 0,void 0,function*(){return Ri(o,"GET",i,n,s)})}function mt(o,i,n,s,a){return Ot(this,void 0,void 0,function*(){return Ri(o,"POST",i,s,a,n)})}function Jh(o,i,n,s,a){return Ot(this,void 0,void 0,function*(){return Ri(o,"PUT",i,s,a,n)})}function Yh(o,i,n,s){return Ot(this,void 0,void 0,function*(){return Ri(o,"HEAD",i,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function la(o,i,n,s,a){return Ot(this,void 0,void 0,function*(){return Ri(o,"DELETE",i,s,a,n)})}var Ae=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(_){try{m(s.next(_))}catch(g){h(g)}}function f(_){try{m(s.throw(_))}catch(g){h(g)}}function m(_){_.done?u(_.value):a(_.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};const Xh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Qh{constructor(i,n={},s,a){this.url=i,this.headers=n,this.bucketId=s,this.fetch=aa(a)}uploadOrUpdate(i,n,s,a){return Ae(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},uo),a);let d=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(h.upsert)});const f=h.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),f&&u.append("metadata",this.encodeMetadata(f)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.append("cacheControl",h.cacheControl),f&&u.append("metadata",this.encodeMetadata(f))):(u=s,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(d=Object.assign(Object.assign({},d),a.headers));const m=this._removeEmptyFolders(n),_=this._getFinalPath(m),g=yield this.fetch(`${this.url}/object/${_}`,Object.assign({method:i,body:u,headers:d},h?.duplex?{duplex:h.duplex}:{})),w=yield g.json();return g.ok?{data:{path:m,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(u){if(ke(u))return{data:null,error:u};throw u}})}upload(i,n,s){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,n,s)})}uploadToSignedUrl(i,n,s,a){return Ae(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(i),h=this._getFinalPath(u),d=new URL(this.url+`/object/upload/sign/${h}`);d.searchParams.set("token",n);try{let f;const m=Object.assign({upsert:uo.upsert},a),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",m.cacheControl)):(f=s,_["cache-control"]=`max-age=${m.cacheControl}`,_["content-type"]=m.contentType);const g=yield this.fetch(d.toString(),{method:"PUT",body:f,headers:_}),w=yield g.json();return g.ok?{data:{path:u,fullPath:w.Key},error:null}:{data:null,error:w}}catch(f){if(ke(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(i,n){return Ae(this,void 0,void 0,function*(){try{let s=this._getFinalPath(i);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const u=yield mt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),h=new URL(this.url+u.url),d=h.searchParams.get("token");if(!d)throw new Yr("No token returned by API");return{data:{signedUrl:h.toString(),path:i,token:d},error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}update(i,n,s){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,n,s)})}move(i,n,s){return Ae(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}})}copy(i,n,s){return Ae(this,void 0,void 0,function*(){try{return{data:{path:(yield mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}})}createSignedUrl(i,n,s){return Ae(this,void 0,void 0,function*(){try{let a=this._getFinalPath(i),u=yield mt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const h=s?.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}})}createSignedUrls(i,n,s){return Ae(this,void 0,void 0,function*(){try{const a=yield mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:i},{headers:this.headers}),u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}})}download(i,n){return Ae(this,void 0,void 0,function*(){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),h=u?`?${u}`:"";try{const d=this._getFinalPath(i);return{data:yield(yield Pn(this.fetch,`${this.url}/${a}/${d}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(ke(d))return{data:null,error:d};throw d}})}info(i){return Ae(this,void 0,void 0,function*(){const n=this._getFinalPath(i);try{const s=yield Pn(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Rr(s),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}exists(i){return Ae(this,void 0,void 0,function*(){const n=this._getFinalPath(i);try{return yield Yh(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(ke(s)&&s instanceof zr){const a=s.originalError;if([400,404].includes(a?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(i,n){const s=this._getFinalPath(i),a=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&a.push(u);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&a.push(f);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${m}`)}}}remove(i){return Ae(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}list(i,n,s){return Ae(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Xh),n),{prefix:i||""});return{data:yield mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}}const ec="2.7.1",tc={"X-Client-Info":`storage-js/${ec}`};var Wt=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(_){try{m(s.next(_))}catch(g){h(g)}}function f(_){try{m(s.throw(_))}catch(g){h(g)}}function m(_){_.done?u(_.value):a(_.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};class ic{constructor(i,n={},s){this.url=i,this.headers=Object.assign(Object.assign({},tc),n),this.fetch=aa(s)}listBuckets(){return Wt(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(ke(i))return{data:null,error:i};throw i}})}getBucket(i){return Wt(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}createBucket(i,n={public:!1}){return Wt(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}updateBucket(i,n){return Wt(this,void 0,void 0,function*(){try{return{data:yield Jh(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}emptyBucket(i){return Wt(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}deleteBucket(i){return Wt(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}}class nc extends ic{constructor(i,n={},s){super(i,n,s)}from(i){return new Qh(this.url,this.headers,i,this.fetch)}}const rc="2.47.14";let Ei="";typeof Deno<"u"?Ei="deno":typeof document<"u"?Ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ei="react-native":Ei="node";const sc={"X-Client-Info":`supabase-js-${Ei}/${rc}`},oc={headers:sc},ac={schema:"public"},lc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uc={};var hc=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(_){try{m(s.next(_))}catch(g){h(g)}}function f(_){try{m(s.throw(_))}catch(g){h(g)}}function m(_){_.done?u(_.value):a(_.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};const cc=o=>{let i;return o?i=o:typeof fetch>"u"?i=qo:i=fetch,(...n)=>i(...n)},dc=()=>typeof Headers>"u"?Vo:Headers,fc=(o,i,n)=>{const s=cc(n),a=dc();return(u,h)=>hc(void 0,void 0,void 0,function*(){var d;const f=(d=yield i())!==null&&d!==void 0?d:o;let m=new a(h?.headers);return m.has("apikey")||m.set("apikey",o),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),s(u,Object.assign(Object.assign({},h),{headers:m}))})};var pc=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(_){try{m(s.next(_))}catch(g){h(g)}}function f(_){try{m(s.throw(_))}catch(g){h(g)}}function m(_){_.done?u(_.value):a(_.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};function mc(o){return o.replace(/\/$/,"")}function _c(o,i){const{db:n,auth:s,realtime:a,global:u}=o,{db:h,auth:d,realtime:f,global:m}=i,_={db:Object.assign(Object.assign({},h),n),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},f),a),global:Object.assign(Object.assign({},m),u),accessToken:()=>pc(this,void 0,void 0,function*(){return""})};return o.accessToken?_.accessToken=o.accessToken:delete _.accessToken,_}const ua="2.67.3",gc="http://localhost:9999",vc="supabase.auth.token",yc={"X-Client-Info":`gotrue-js/${ua}`},ho=10,Br="X-Supabase-Api-Version",ha={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function wc(o){return Math.round(Date.now()/1e3)+o}function bc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const i=Math.random()*16|0;return(o=="x"?i:i&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Tt={tested:!1,writable:!1},ji=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tt.tested)return Tt.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Tt.tested=!0,Tt.writable=!0}catch{Tt.tested=!0,Tt.writable=!1}return Tt.writable};function xc(o){const i={},n=new URL(o);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,u)=>{i[u]=a})}catch{}return n.searchParams.forEach((s,a)=>{i[a]=s}),i}const ca=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...n)=>Yt(async()=>{const{default:s}=await Promise.resolve().then(()=>ei);return{default:s}},void 0).then(({default:s})=>s(...n)):i=fetch,(...n)=>i(...n)},kc=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",da=async(o,i,n)=>{await o.setItem(i,JSON.stringify(n))},dn=async(o,i)=>{const n=await o.getItem(i);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fn=async(o,i)=>{await o.removeItem(i)};function Pc(o){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",s,a,u,h,d,f,m,_=0;for(o=o.replace("-","+").replace("_","/");_<o.length;)h=i.indexOf(o.charAt(_++)),d=i.indexOf(o.charAt(_++)),f=i.indexOf(o.charAt(_++)),m=i.indexOf(o.charAt(_++)),s=h<<2|d>>4,a=(d&15)<<4|f>>2,u=(f&3)<<6|m,n=n+String.fromCharCode(s),f!=64&&a!=0&&(n=n+String.fromCharCode(a)),m!=64&&u!=0&&(n=n+String.fromCharCode(u));return n}class Bn{constructor(){this.promise=new Bn.promiseConstructor((i,n)=>{this.resolve=i,this.reject=n})}}Bn.promiseConstructor=Promise;function co(o){const i=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=o.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!i.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=n[1];return JSON.parse(Pc(s))}async function Tc(o){return await new Promise(i=>{setTimeout(()=>i(null),o)})}function Sc(o,i){return new Promise((s,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await o(u);if(!i(u,null,h)){s(h);return}}catch(h){if(!i(u,h)){a(h);return}}})()})}function Lc(o){return("0"+o.toString(16)).substr(-2)}function Cc(){const i=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let u=0;u<56;u++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(i),Array.from(i,Lc).join("")}async function Ec(o){const n=new TextEncoder().encode(o),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}function Ac(o){return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Oc(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const n=await Ec(o);return Ac(n)}async function qt(o,i,n=!1){const s=Cc();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await da(o,`${i}-code-verifier`,a);const u=await Oc(s);return[u,s===u?"plain":"s256"]}const jc=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $c(o){const i=o.headers.get(Br);if(!i||!i.match(jc))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}let Xr=class extends Error{constructor(i,n,s){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}};function K(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class Ic extends Xr{constructor(i,n,s){super(i,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Mc(o){return K(o)&&o.name==="AuthApiError"}class fa extends Xr{constructor(i,n){super(i),this.name="AuthUnknownError",this.originalError=n}}class jt extends Xr{constructor(i,n,s,a){super(i,s,a),this.name=n,this.status=s}}class dt extends jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zc(o){return K(o)&&o.name==="AuthSessionMissingError"}class kr extends jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pn extends jt{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class mn extends jt{constructor(i,n=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rc(o){return K(o)&&o.name==="AuthImplicitGrantRedirectError"}class fo extends jt{constructor(i,n=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dr extends jt{constructor(i,n){super(i,"AuthRetryableFetchError",n,void 0)}}function Pr(o){return K(o)&&o.name==="AuthRetryableFetchError"}class po extends jt{constructor(i,n,s){super(i,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}var Bc=function(o,i){var n={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.indexOf(s)<0&&(n[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(o);a<s.length;a++)i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(o,s[a])&&(n[s[a]]=o[s[a]]);return n};const Lt=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Dc=[502,503,504];async function mo(o){var i;if(!kc(o))throw new Dr(Lt(o),0);if(Dc.includes(o.status))throw new Dr(Lt(o),o.status);let n;try{n=await o.json()}catch(u){throw new fa(Lt(u),u)}let s;const a=$c(o);if(a&&a.getTime()>=ha["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new po(Lt(n),o.status,((i=n.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(s==="session_not_found")throw new dt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new po(Lt(n),o.status,n.weak_password.reasons);throw new Ic(Lt(n),o.status||500,s)}const Nc=(o,i,n,s)=>{const a={method:o,headers:i?.headers||{}};return o==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function te(o,i,n,s){var a;const u=Object.assign({},s?.headers);u[Br]||(u[Br]=ha["2024-01-01"].name),s?.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const h=(a=s?.query)!==null&&a!==void 0?a:{};s?.redirectTo&&(h.redirect_to=s.redirectTo);const d=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",f=await Zc(o,i,n+d,{headers:u,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(f):{data:Object.assign({},f),error:null}}async function Zc(o,i,n,s,a,u){const h=Nc(i,s,a,u);let d;try{d=await o(n,Object.assign({},h))}catch(f){throw console.error(f),new Dr(Lt(f),0)}if(d.ok||await mo(d),s?.noResolveJson)return d;try{return await d.json()}catch(f){await mo(f)}}function ft(o){var i;let n=null;Wc(o)&&(n=Object.assign({},o),o.expires_at||(n.expires_at=wc(o.expires_in)));const s=(i=o.user)!==null&&i!==void 0?i:o;return{data:{session:n,user:s},error:null}}function _o(o){const i=ft(o);return!i.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(i.data.weak_password=o.weak_password),i}function _t(o){var i;return{data:{user:(i=o.user)!==null&&i!==void 0?i:o},error:null}}function Uc(o){return{data:o,error:null}}function Fc(o){const{action_link:i,email_otp:n,hashed_token:s,redirect_to:a,verification_type:u}=o,h=Bc(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:i,email_otp:n,hashed_token:s,redirect_to:a,verification_type:u},f=Object.assign({},h);return{data:{properties:d,user:f},error:null}}function Hc(o){return o}function Wc(o){return o.access_token&&o.refresh_token&&o.expires_in}var qc=function(o,i){var n={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.indexOf(s)<0&&(n[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(o);a<s.length;a++)i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(o,s[a])&&(n[s[a]]=o[s[a]]);return n};class Vc{constructor({url:i="",headers:n={},fetch:s}){this.url=i,this.headers=n,this.fetch=ca(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,n="global"){try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}async inviteUserByEmail(i,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_t})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async generateLink(i){try{const{options:n}=i,s=qc(i,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s?.newEmail,delete a.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Fc,redirectTo:n?.redirectTo})}catch(n){if(K(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(i){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:_t})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async listUsers(i){var n,s,a,u,h,d,f;try{const m={nextPage:null,lastPage:0,total:0},_=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=i?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(u=(a=i?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Hc});if(_.error)throw _.error;const g=await _.json(),w=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,P=(f=(d=_.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return P.length>0&&(P.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(E.split(";")[1].split("=")[1]);m[`${x}Page`]=k}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(K(m))return{data:{users:[]},error:m};throw m}}async getUserById(i){try{return await te(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:_t})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async updateUserById(i,n){try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:n,headers:this.headers,xform:_t})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async deleteUser(i,n=!1){try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:n},xform:_t})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async _listFactors(i){try{const{data:n,error:s}=await te(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteFactor(i){try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}const Gc={getItem:o=>ji()?globalThis.localStorage.getItem(o):null,setItem:(o,i)=>{ji()&&globalThis.localStorage.setItem(o,i)},removeItem:o=>{ji()&&globalThis.localStorage.removeItem(o)}};function go(o={}){return{getItem:i=>o[i]||null,setItem:(i,n)=>{o[i]=n},removeItem:i=>{delete o[i]}}}function Kc(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vt={debug:!!(globalThis&&ji()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pa extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class Jc extends pa{}async function Yc(o,i,n){Vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,i);const s=new globalThis.AbortController;return i>0&&setTimeout(()=>{s.abort(),Vt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,a.name);try{return await n()}finally{Vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,a.name)}}else{if(i===0)throw Vt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new Jc(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Vt.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Kc();const Xc={url:gc,storageKey:vc,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yc,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Si=30*1e3,vo=3;async function yo(o,i,n){return await n()}class Mi{constructor(i){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mi.nextInstanceID,Mi.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Xc),i);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Vc({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=ca(a.fetch),this.lock=a.lock||yo,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ke()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Yc:this.lock=yo,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:ji()?this.storage=Gc:(this.memoryStorage={},this.storage=go(this.memoryStorage)):(this.memoryStorage={},this.storage=go(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ua}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const n=xc(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Ke()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:u}=await this._getSessionFromURL(n,s);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Rc(u)){const f=(i=u.details)===null||i===void 0?void 0:i.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",h,"redirect type",d),await this._saveSession(h),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return K(n)?{error:n}:{error:new fa("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var n,s,a;try{const u=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=i?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=i?.options)===null||a===void 0?void 0:a.captchaToken}},xform:ft}),{data:h,error:d}=u;if(d||!h)return{data:{user:null,session:null},error:d};const f=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(u){if(K(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(i){var n,s,a;try{let u;if("email"in i){const{email:_,password:g,options:w}=i;let P=null,E=null;this.flowType==="pkce"&&([P,E]=await qt(this.storage,this.storageKey)),u=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:_,password:g,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:P,code_challenge_method:E},xform:ft})}else if("phone"in i){const{phone:_,password:g,options:w}=i;u=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:g,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:ft})}else throw new pn("You must provide either an email or phone number and a password");const{data:h,error:d}=u;if(d||!h)return{data:{user:null,session:null},error:d};const f=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(u){if(K(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(i){try{let n;if("email"in i){const{email:u,password:h,options:d}=i;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:_o})}else if("phone"in i){const{phone:u,password:h,options:d}=i;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:_o})}else throw new pn("You must provide either an email or phone number and a password");const{data:s,error:a}=n;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new kr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(i){var n,s,a,u;return await this._handleProviderSignIn(i.provider,{redirectTo:(n=i.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=i.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=i.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=i.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async _exchangeCodeForSession(i){const n=await dn(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{const{data:u,error:h}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:s},xform:ft});if(await fn(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new kr}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:h})}catch(u){if(K(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(i){try{const{options:n,provider:s,token:a,access_token:u,nonce:h}=i,d=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ft}),{data:f,error:m}=d;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new kr}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:m})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(i){var n,s,a,u,h;try{if("email"in i){const{email:d,options:f}=i;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await qt(this.storage,this.storageKey));const{error:g}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:_},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in i){const{phone:d,options:f}=i,{data:m,error:_}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(u=f?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(h=f?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:_}}throw new pn("You must provide either an email or phone number.")}catch(d){if(K(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(i){var n,s;try{let a,u;"options"in i&&(a=(n=i.options)===null||n===void 0?void 0:n.redirectTo,u=(s=i.options)===null||s===void 0?void 0:s.captchaToken);const{data:h,error:d}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:ft});if(d)throw d;if(!h)throw new Error("An error occurred on token verification.");const f=h.session,m=h.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(i){var n,s,a;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await qt(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(s=(n=i.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=i?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:Uc})}catch(u){if(K(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:n},error:s}=i;if(s)throw s;if(!n)throw new dt;const{error:a}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const n=`${this.url}/resend`;if("email"in i){const{email:s,type:a,options:u}=i,{error:h}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in i){const{phone:s,type:a,options:u}=i,{data:h,error:d}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:d}}throw new pn("You must provide either an email or phone number and a type")}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(i,n){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await i(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const n=await dn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?i=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const s=i.expires_at?i.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",i.expires_at),!s){if(this.storage.isServer){let h=this.suppressGetSessionWarning;i=new Proxy(i,{get:(f,m,_)=>(!h&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,m,_))})}return{data:{session:i},error:null}}const{session:a,error:u}=await this._callRefreshToken(i.refresh_token);return u?{data:{session:null},error:u}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:_t}):await this._useSession(async n=>{var s,a,u;const{data:h,error:d}=n;if(d)throw d;return!(!((s=h.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dt}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(a=h.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0,xform:_t})})}catch(n){if(K(n))return zc(n)&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(i,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,n))}async _updateUser(i,n={}){try{return await this._useSession(async s=>{const{data:a,error:u}=s;if(u)throw u;if(!a.session)throw new dt;const h=a.session;let d=null,f=null;this.flowType==="pkce"&&i.email!=null&&([d,f]=await qt(this.storage,this.storageKey));const{data:m,error:_}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:d,code_challenge_method:f}),jwt:h.access_token,xform:_t});if(_)throw _;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}_decodeJWT(i){return co(i)}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new dt;const n=Date.now()/1e3;let s=n,a=!0,u=null;const h=co(i.access_token);if(h.exp&&(s=h.exp,a=s<=n),a){const{session:d,error:f}=await this._callRefreshToken(i.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:f}=await this._getUser(i.access_token);if(f)throw f;u={access_token:i.access_token,refresh_token:i.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(K(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async n=>{var s;if(!i){const{data:h,error:d}=n;if(d)throw d;i=(s=h.session)!==null&&s!==void 0?s:void 0}if(!i?.refresh_token)throw new dt;const{session:a,error:u}=await this._callRefreshToken(i.refresh_token);return u?{data:{user:null,session:null},error:u}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(i,n){try{if(!Ke())throw new mn("No browser detected.");if(i.error||i.error_description||i.error_code)throw new mn(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new fo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mn("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new fo("No code detected.");const{data:S,error:O}=await this._exchangeCodeForSession(i.code);if(O)throw O;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:u,refresh_token:h,expires_in:d,expires_at:f,token_type:m}=i;if(!u||!d||!h||!m)throw new mn("No session defined in URL");const _=Math.round(Date.now()/1e3),g=parseInt(d);let w=_+g;f&&(w=parseInt(f));const P=w-_;P*1e3<=Si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${P}s, should have been closer to ${g}s`);const E=w-g;_-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,_):_-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,_);const{data:k,error:x}=await this._getUser(u);if(x)throw x;const T={provider_token:s,provider_refresh_token:a,access_token:u,expires_in:g,expires_at:w,refresh_token:h,token_type:m,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:i.type},error:null}}catch(s){if(K(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const n=await dn(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&n)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:u}=n;if(u)return{error:u};const h=(s=a.session)===null||s===void 0?void 0:s.access_token;if(h){const{error:d}=await this.admin.signOut(h,i);if(d&&!(Mc(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return i!=="others"&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const n=bc(),s={id:n,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(i){return await this._useSession(async n=>{var s,a;try{const{data:{session:u},error:h}=n;if(h)throw h;await((s=this.stateChangeEmitters.get(i))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",i,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(i))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",u),console.error(u)}})}async resetPasswordForEmail(i,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await qt(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(K(u))return{data:null,error:u};throw u}}async getUserIdentities(){var i;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(i=n.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async linkIdentity(i){var n;try{const{data:s,error:a}=await this._useSession(async u=>{var h,d,f,m,_;const{data:g,error:w}=u;if(w)throw w;const P=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(h=i.options)===null||h===void 0?void 0:h.redirectTo,scopes:(d=i.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=i.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",P,{headers:this.headers,jwt:(_=(m=g.session)===null||m===void 0?void 0:m.access_token)!==null&&_!==void 0?_:void 0})});if(a)throw a;return Ke()&&!(!((n=i.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:i.provider,url:s?.url},error:null}}catch(s){if(K(s))return{data:{provider:i.provider,url:null},error:s};throw s}}async unlinkIdentity(i){try{return await this._useSession(async n=>{var s,a;const{data:u,error:h}=n;if(h)throw h;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(a=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _refreshAccessToken(i){const n=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Sc(async a=>(a>0&&await Tc(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:ft})),(a,u)=>{const h=200*Math.pow(2,a);return u&&Pr(u)&&Date.now()+h-s<Si})}catch(s){if(this._debug(n,"error",s),K(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",n,"url",s),Ke()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:i,url:s},error:null}}async _recoverAndRefresh(){var i;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await dn(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),u=((i=s.expires_at)!==null&&i!==void 0?i:1/0)<a+ho;if(this._debug(n,`session has${u?"":" not"} expired with margin of ${ho}s`),u){if(this.autoRefreshToken&&s.refresh_token){const{error:h}=await this._callRefreshToken(s.refresh_token);h&&(console.error(h),Pr(h)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(i){var n,s;if(!i)throw new dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Bn;const{data:u,error:h}=await this._refreshAccessToken(i);if(h)throw h;if(!u.session)throw new dt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={session:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(a,"error",u),K(u)){const h={session:null,error:u};return Pr(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(i,n,s=!0){const a=`#_notifyAllSubscribers(${i})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:i,session:n});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(i,n)}catch(f){u.push(f)}});if(await Promise.all(h),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0,await da(this.storage,this.storageKey,i)}async _removeSession(){this._debug("#_removeSession()"),await fn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&Ke()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),Si);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-i)/Si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Si}ms, refresh threshold is ${vo} ticks`),a<=vo&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof pa)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const n=`#_onVisibilityChanged(${i})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[u,h]=await qt(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});a.push(d.toString())}if(s?.queryParams){const u=new URLSearchParams(s.queryParams);a.push(u.toString())}return s?.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${i}?${a.join("&")}`}async _unenroll(i){try{return await this._useSession(async n=>{var s;const{data:a,error:u}=n;return u?{data:null,error:u}:await te(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _enroll(i){try{return await this._useSession(async n=>{var s,a;const{data:u,error:h}=n;if(h)return{data:null,error:h};const d=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:f,error:m}=await te(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(i.factorType==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:u}=n;if(u)return{data:null,error:u};const{data:h,error:d}=await te(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:d})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:u}=n;return u?{data:null,error:u}:await te(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(i){const{data:n,error:s}=await this._challenge({factorId:i.factorId});return s?{data:null,error:s}:await this._verify({factorId:i.factorId,challengeId:n.id,code:i.code})}async _listFactors(){const{data:{user:i},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=i?.factors||[],a=s.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=s.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:s,totp:a,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var n,s;const{data:{session:a},error:u}=i;if(u)return{data:null,error:u};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const h=this._decodeJWT(a.access_token);let d=null;h.aal&&(d=h.aal);let f=d;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const _=h.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:_},error:null}}))}}Mi.nextInstanceID=0;const Qc=Mi;class ed extends Qc{constructor(i){super(i)}}var td=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(_){try{m(s.next(_))}catch(g){h(g)}}function f(_){try{m(s.throw(_))}catch(g){h(g)}}function m(_){_.done?u(_.value):a(_.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};class id{constructor(i,n,s){var a,u,h;if(this.supabaseUrl=i,this.supabaseKey=n,!i)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const d=mc(i);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:ac,realtime:uc,auth:Object.assign(Object.assign({},lc),{storageKey:f}),global:oc},_=_c(s??{},m);this.storageKey=(a=_.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=_.global.headers)!==null&&u!==void 0?u:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(g,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=_.auth)!==null&&h!==void 0?h:{},this.headers,_.global.fetch),this.fetch=fc(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new Ch(`${d}/rest/v1`,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),_.accessToken||this._listenForAuthEvents()}get functions(){return new ih(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new nc(this.storageUrl,this.headers,this.fetch)}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},s={}){return this.rest.rpc(i,n,s)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,n;return td(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:s,storage:a,storageKey:u,flowType:h,lock:d,debug:f},m,_){var g;const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ed({url:this.authUrl,headers:Object.assign(Object.assign({},w),m),storageKey:u,autoRefreshToken:i,persistSession:n,detectSessionInUrl:s,storage:a,flowType:h,lock:d,debug:f,fetch:_,hasCustomAuthorizationHeader:(g="Authorization"in this.headers)!==null&&g!==void 0?g:!1})}_initRealtimeClient(i){return new Fh(this.realtimeUrl,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(i,n,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nd=(o,i,n)=>new id(o,i,n);async function rd(o,i){const a="https://fr24api.flightradar24.com/api/sandbox/live/flight-positions/full",u={Accept:"application/json",Authorization:"Bearer 9d64c490-73c1-4abc-b7b7-efe16ecf1a6a|GWNYeAKtJ1cXb1wM4fhW3SPeKTbeGABtWTxnaTEh4f35fc6d","Accept-Version":"v1"};try{if(i!==null){const h=await fetch(`${a}?bounds=${i}`,{method:"GET",headers:u});if(!h.ok){const f=await h.text();throw new Error(`Error ${h.status}: ${f}`)}const d=await h.json();if(d!==null)return d.data.map(m=>({lat:m.lat,lon:m.lon,alt:m.alt,call:m.callsign,brz:m.gspeed,modelA:m.type}))}}catch(h){throw console.error("Greka pri dohvaanju podataka o letovima:",h),h}}async function sd(o,i){const n=`https://api.open-meteo.com/v1/elevation?latitude=${o}&longitude=${i}`;try{if(o===null||i===null)return console.log("API nije uspio dohvatiti latitudu ili longitudu"),null;const s=await fetch(n);if(!s.ok){const u=await s.text();throw new Error(`Error ${s.status}: ${u}`)}const a=await s.json();return a!==null?(console.log("Prikupljena elevacija:",a.elevation),a.elevation):(console.log("API nije pronaao podatke za elevaciju."),null)}catch(s){throw console.error("Greka pri dohvaanju podataka o elevaciji:",s),s}}var Nr={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(o,i){(function(n,s){s(i)})(Me,function(n){var s="1.9.4";function a(e){var t,r,l,c;for(r=1,l=arguments.length;r<l;r++){c=arguments[r];for(t in c)e[t]=c[t]}return e}var u=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function h(e,t){var r=Array.prototype.slice;if(e.bind)return e.bind.apply(e,r.call(arguments,1));var l=r.call(arguments,2);return function(){return e.apply(t,l.length?l.concat(r.call(arguments)):arguments)}}var d=0;function f(e){return"_leaflet_id"in e||(e._leaflet_id=++d),e._leaflet_id}function m(e,t,r){var l,c,p,v;return v=function(){l=!1,c&&(p.apply(r,c),c=!1)},p=function(){l?c=arguments:(e.apply(r,arguments),setTimeout(v,t),l=!0)},p}function _(e,t,r){var l=t[1],c=t[0],p=l-c;return e===l&&r?e:((e-c)%p+p)%p+c}function g(){return!1}function w(e,t){if(t===!1)return e;var r=Math.pow(10,t===void 0?6:t);return Math.round(e*r)/r}function P(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function E(e){return P(e).split(/\s+/)}function k(e,t){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?u(e.options):{});for(var r in t)e.options[r]=t[r];return e.options}function x(e,t,r){var l=[];for(var c in e)l.push(encodeURIComponent(r?c.toUpperCase():c)+"="+encodeURIComponent(e[c]));return(!t||t.indexOf("?")===-1?"?":"&")+l.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function S(e,t){return e.replace(T,function(r,l){var c=t[l];if(c===void 0)throw new Error("No value provided for variable "+r);return typeof c=="function"&&(c=c(t)),c})}var O=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function A(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var W=0;function U(e){var t=+new Date,r=Math.max(0,16-(t-W));return W=t+r,window.setTimeout(e,r)}var q=window.requestAnimationFrame||B("RequestAnimationFrame")||U,Y=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function ie(e,t,r){if(r&&q===U)e.call(t);else return q.call(window,h(e,t))}function pe(e){e&&Y.call(window,e)}var Qe={__proto__:null,extend:a,create:u,bind:h,get lastId(){return d},stamp:f,throttle:m,wrapNum:_,falseFn:g,formatNum:w,trim:P,splitWords:E,setOptions:k,getParamString:x,template:S,isArray:O,indexOf:A,emptyImageUrl:$,requestFn:q,cancelFn:Y,requestAnimFrame:ie,cancelAnimFrame:pe};function Z(){}Z.extend=function(e){var t=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=t.__super__=this.prototype,l=u(r);l.constructor=t,t.prototype=l;for(var c in this)Object.prototype.hasOwnProperty.call(this,c)&&c!=="prototype"&&c!=="__super__"&&(t[c]=this[c]);return e.statics&&a(t,e.statics),e.includes&&(Q(e.includes),a.apply(null,[l].concat(e.includes))),a(l,e),delete l.statics,delete l.includes,l.options&&(l.options=r.options?u(r.options):{},a(l.options,e.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,v=l._initHooks.length;p<v;p++)l._initHooks[p].call(this)}},t},Z.include=function(e){var t=this.prototype.options;return a(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},Z.mergeOptions=function(e){return a(this.prototype.options,e),this},Z.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),r=typeof e=="function"?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function Q(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=O(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(e,t,r){if(typeof e=="object")for(var l in e)this._on(l,e[l],t);else{e=E(e);for(var c=0,p=e.length;c<p;c++)this._on(e[c],t,r)}return this},off:function(e,t,r){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var l in e)this._off(l,e[l],t);else{e=E(e);for(var c=arguments.length===1,p=0,v=e.length;p<v;p++)c?this._off(e[p]):this._off(e[p],t,r)}return this},_on:function(e,t,r,l){if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}if(this._listens(e,t,r)===!1){r===this&&(r=void 0);var c={fn:t,ctx:r};l&&(c.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(c)}},_off:function(e,t,r){var l,c,p;if(this._events&&(l=this._events[e],!!l)){if(arguments.length===1){if(this._firingCount)for(c=0,p=l.length;c<p;c++)l[c].fn=g;delete this._events[e];return}if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}var v=this._listens(e,t,r);if(v!==!1){var y=l[v];this._firingCount&&(y.fn=g,this._events[e]=l=l.slice()),l.splice(v,1)}}},fire:function(e,t,r){if(!this.listens(e,r))return this;var l=a({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var c=this._events[e];if(c){this._firingCount=this._firingCount+1||1;for(var p=0,v=c.length;p<v;p++){var y=c[p],b=y.fn;y.once&&this.off(e,b,y.ctx),b.call(y.ctx||this,l)}this._firingCount--}}return r&&this._propagateEvent(l),this},listens:function(e,t,r,l){typeof e!="string"&&console.warn('"string" type argument expected');var c=t;typeof t!="function"&&(l=!!t,c=void 0,r=void 0);var p=this._events&&this._events[e];if(p&&p.length&&this._listens(e,c,r)!==!1)return!0;if(l){for(var v in this._eventParents)if(this._eventParents[v].listens(e,t,r,l))return!0}return!1},_listens:function(e,t,r){if(!this._events)return!1;var l=this._events[e]||[];if(!t)return!!l.length;r===this&&(r=void 0);for(var c=0,p=l.length;c<p;c++)if(l[c].fn===t&&l[c].ctx===r)return c;return!1},once:function(e,t,r){if(typeof e=="object")for(var l in e)this._on(l,e[l],t,!0);else{e=E(e);for(var c=0,p=e.length;c<p;c++)this._on(e[c],t,r,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[f(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[f(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,a({layer:e.target,propagatedFrom:e.target},e),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var ge=Z.extend(V);function R(e,t,r){this.x=r?Math.round(e):e,this.y=r?Math.round(t):t}var Ce=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(e){return this.clone()._add(z(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(z(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new R(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new R(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ce(this.x),this.y=Ce(this.y),this},distanceTo:function(e){e=z(e);var t=e.x-this.x,r=e.y-this.y;return Math.sqrt(t*t+r*r)},equals:function(e){return e=z(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=z(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function z(e,t,r){return e instanceof R?e:O(e)?new R(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new R(e.x,e.y):new R(e,t,r)}function ee(e,t){if(e)for(var r=t?[e,t]:e,l=0,c=r.length;l<c;l++)this.extend(r[l])}ee.prototype={extend:function(e){var t,r;if(!e)return this;if(e instanceof R||typeof e[0]=="number"||"x"in e)t=r=z(e);else if(e=fe(e),t=e.min,r=e.max,!t||!r)return this;return!this.min&&!this.max?(this.min=t.clone(),this.max=r.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(e){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,r;return typeof e[0]=="number"||e instanceof R?e=z(e):e=fe(e),e instanceof ee?(t=e.min,r=e.max):t=r=e,t.x>=this.min.x&&r.x<=this.max.x&&t.y>=this.min.y&&r.y<=this.max.y},intersects:function(e){e=fe(e);var t=this.min,r=this.max,l=e.min,c=e.max,p=c.x>=t.x&&l.x<=r.x,v=c.y>=t.y&&l.y<=r.y;return p&&v},overlaps:function(e){e=fe(e);var t=this.min,r=this.max,l=e.min,c=e.max,p=c.x>t.x&&l.x<r.x,v=c.y>t.y&&l.y<r.y;return p&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var t=this.min,r=this.max,l=Math.abs(t.x-r.x)*e,c=Math.abs(t.y-r.y)*e;return fe(z(t.x-l,t.y-c),z(r.x+l,r.y+c))},equals:function(e){return e?(e=fe(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function fe(e,t){return!e||e instanceof ee?e:new ee(e,t)}function _e(e,t){if(e)for(var r=t?[e,t]:e,l=0,c=r.length;l<c;l++)this.extend(r[l])}_e.prototype={extend:function(e){var t=this._southWest,r=this._northEast,l,c;if(e instanceof ae)l=e,c=e;else if(e instanceof _e){if(l=e._southWest,c=e._northEast,!l||!c)return this}else return e?this.extend(J(e)||he(e)):this;return!t&&!r?(this._southWest=new ae(l.lat,l.lng),this._northEast=new ae(c.lat,c.lng)):(t.lat=Math.min(l.lat,t.lat),t.lng=Math.min(l.lng,t.lng),r.lat=Math.max(c.lat,r.lat),r.lng=Math.max(c.lng,r.lng)),this},pad:function(e){var t=this._southWest,r=this._northEast,l=Math.abs(t.lat-r.lat)*e,c=Math.abs(t.lng-r.lng)*e;return new _e(new ae(t.lat-l,t.lng-c),new ae(r.lat+l,r.lng+c))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof ae||"lat"in e?e=J(e):e=he(e);var t=this._southWest,r=this._northEast,l,c;return e instanceof _e?(l=e.getSouthWest(),c=e.getNorthEast()):l=c=e,l.lat>=t.lat&&c.lat<=r.lat&&l.lng>=t.lng&&c.lng<=r.lng},intersects:function(e){e=he(e);var t=this._southWest,r=this._northEast,l=e.getSouthWest(),c=e.getNorthEast(),p=c.lat>=t.lat&&l.lat<=r.lat,v=c.lng>=t.lng&&l.lng<=r.lng;return p&&v},overlaps:function(e){e=he(e);var t=this._southWest,r=this._northEast,l=e.getSouthWest(),c=e.getNorthEast(),p=c.lat>t.lat&&l.lat<r.lat,v=c.lng>t.lng&&l.lng<r.lng;return p&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return e?(e=he(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(e,t){return e instanceof _e?e:new _e(e,t)}function ae(e,t,r){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,r!==void 0&&(this.alt=+r)}ae.prototype={equals:function(e,t){if(!e)return!1;e=J(e);var r=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return r<=(t===void 0?1e-9:t)},toString:function(e){return"LatLng("+w(this.lat,e)+", "+w(this.lng,e)+")"},distanceTo:function(e){return Se.distance(this,J(e))},wrap:function(){return Se.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return he([this.lat-t,this.lng-r],[this.lat+t,this.lng+r])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function J(e,t,r){return e instanceof ae?e:O(e)&&typeof e[0]!="object"?e.length===3?new ae(e[0],e[1],e[2]):e.length===2?new ae(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new ae(e.lat,"lng"in e?e.lng:e.lon,e.alt):t===void 0?null:new ae(e,t,r)}var $e={latLngToPoint:function(e,t){var r=this.projection.project(e),l=this.scale(t);return this.transformation._transform(r,l)},pointToLatLng:function(e,t){var r=this.scale(t),l=this.transformation.untransform(e,r);return this.projection.unproject(l)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,r=this.scale(e),l=this.transformation.transform(t.min,r),c=this.transformation.transform(t.max,r);return new ee(l,c)},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?_(e.lng,this.wrapLng,!0):e.lng,r=this.wrapLat?_(e.lat,this.wrapLat,!0):e.lat,l=e.alt;return new ae(r,t,l)},wrapLatLngBounds:function(e){var t=e.getCenter(),r=this.wrapLatLng(t),l=t.lat-r.lat,c=t.lng-r.lng;if(l===0&&c===0)return e;var p=e.getSouthWest(),v=e.getNorthEast(),y=new ae(p.lat-l,p.lng-c),b=new ae(v.lat-l,v.lng-c);return new _e(y,b)}},Se=a({},$e,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var r=Math.PI/180,l=e.lat*r,c=t.lat*r,p=Math.sin((t.lat-e.lat)*r/2),v=Math.sin((t.lng-e.lng)*r/2),y=p*p+Math.cos(l)*Math.cos(c)*v*v,b=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return this.R*b}}),Bi=6378137,ii={R:Bi,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,r=this.MAX_LATITUDE,l=Math.max(Math.min(r,e.lat),-r),c=Math.sin(l*t);return new R(this.R*e.lng*t,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(e){var t=180/Math.PI;return new ae((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=Bi*Math.PI;return new ee([-e,-e],[e,e])}()};function $t(e,t,r,l){if(O(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=t,this._c=r,this._d=l}$t.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new R((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};function ut(e,t,r,l){return new $t(e,t,r,l)}var ni=a({},Se,{code:"EPSG:3857",projection:ii,transformation:function(){var e=.5/(Math.PI*ii.R);return ut(e,.5,-e,.5)}()}),Di=a({},ni,{code:"EPSG:900913"});function ri(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function si(e,t){var r="",l,c,p,v,y,b;for(l=0,p=e.length;l<p;l++){for(y=e[l],c=0,v=y.length;c<v;c++)b=y[c],r+=(c?"L":"M")+b.x+" "+b.y;r+=t?I.svg?"z":"x":""}return r||"M0 0"}var oi=document.documentElement.style,gt="ActiveXObject"in window,Ni=gt&&!document.addEventListener,ai="msLaunchUri"in navigator&&!("documentMode"in document),li=We("webkit"),ui=We("android"),Zi=We("android 2")||We("android 3"),Ui=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Dn=ui&&We("Google")&&Ui<537&&!("AudioNode"in window),It=!!window.opera,hi=!ai&&We("chrome"),Fi=We("gecko")&&!li&&!It&&!gt,Nn=!hi&&We("safari"),Hi=We("phantom"),Wi="OTransition"in oi,Zn=navigator.platform.indexOf("Win")===0,vt=gt&&"transition"in oi,ci="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Zi,yt="MozPerspective"in oi,Un=!window.L_DISABLE_3D&&(vt||ci||yt)&&!Wi&&!Hi,di=typeof orientation<"u"||We("mobile"),_a=di&&li,ga=di&&ci,Qr=!window.PointerEvent&&window.MSPointerEvent,es=!!(window.PointerEvent||Qr),ts="ontouchstart"in window||!!window.TouchEvent,va=!window.L_NO_TOUCH&&(ts||es),ya=di&&It,wa=di&&Fi,ba=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,xa=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",g,t),window.removeEventListener("testPassiveEventSupport",g,t)}catch{}return e}(),ka=function(){return!!document.createElement("canvas").getContext}(),Fn=!!(document.createElementNS&&ri("svg").createSVGRect),Pa=!!Fn&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ta=!Fn&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&typeof t.adj=="object"}catch{return!1}}(),Sa=navigator.platform.indexOf("Mac")===0,La=navigator.platform.indexOf("Linux")===0;function We(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var I={ie:gt,ielt9:Ni,edge:ai,webkit:li,android:ui,android23:Zi,androidStock:Dn,opera:It,chrome:hi,gecko:Fi,safari:Nn,phantom:Hi,opera12:Wi,win:Zn,ie3d:vt,webkit3d:ci,gecko3d:yt,any3d:Un,mobile:di,mobileWebkit:_a,mobileWebkit3d:ga,msPointer:Qr,pointer:es,touch:va,touchNative:ts,mobileOpera:ya,mobileGecko:wa,retina:ba,passiveEvents:xa,canvas:ka,svg:Fn,vml:Ta,inlineSvg:Pa,mac:Sa,linux:La},is=I.msPointer?"MSPointerDown":"pointerdown",ns=I.msPointer?"MSPointerMove":"pointermove",rs=I.msPointer?"MSPointerUp":"pointerup",ss=I.msPointer?"MSPointerCancel":"pointercancel",Hn={touchstart:is,touchmove:ns,touchend:rs,touchcancel:ss},os={touchstart:$a,touchmove:qi,touchend:qi,touchcancel:qi},Mt={},as=!1;function Ca(e,t,r){return t==="touchstart"&&ja(),os[t]?(r=os[t].bind(this,r),e.addEventListener(Hn[t],r,!1),r):(console.warn("wrong event specified:",t),g)}function Ea(e,t,r){if(!Hn[t]){console.warn("wrong event specified:",t);return}e.removeEventListener(Hn[t],r,!1)}function Aa(e){Mt[e.pointerId]=e}function Oa(e){Mt[e.pointerId]&&(Mt[e.pointerId]=e)}function ls(e){delete Mt[e.pointerId]}function ja(){as||(document.addEventListener(is,Aa,!0),document.addEventListener(ns,Oa,!0),document.addEventListener(rs,ls,!0),document.addEventListener(ss,ls,!0),as=!0)}function qi(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){t.touches=[];for(var r in Mt)t.touches.push(Mt[r]);t.changedTouches=[t],e(t)}}function $a(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Pe(t),qi(e,t)}function Ia(e){var t={},r,l;for(l in e)r=e[l],t[l]=r&&r.bind?r.bind(e):r;return e=t,t.type="dblclick",t.detail=2,t.isTrusted=!1,t._simulated=!0,t}var Ma=200;function za(e,t){e.addEventListener("dblclick",t);var r=0,l;function c(p){if(p.detail!==1){l=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var v=fs(p);if(!(v.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!v.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var y=Date.now();y-r<=Ma?(l++,l===2&&t(Ia(p))):l=1,r=y}}}return e.addEventListener("click",c),{dblclick:t,simDblclick:c}}function Ra(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var Wn=Ki(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fi=Ki(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),us=fi==="webkitTransition"||fi==="OTransition"?fi+"End":"transitionend";function hs(e){return typeof e=="string"?document.getElementById(e):e}function pi(e,t){var r=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!r||r==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(e,null);r=l?l[t]:null}return r==="auto"?null:r}function re(e,t,r){var l=document.createElement(e);return l.className=t||"",r&&r.appendChild(l),l}function me(e){var t=e.parentNode;t&&t.removeChild(e)}function Vi(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function zt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function Rt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function qn(e,t){if(e.classList!==void 0)return e.classList.contains(t);var r=Gi(e);return r.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(r)}function G(e,t){if(e.classList!==void 0)for(var r=E(t),l=0,c=r.length;l<c;l++)e.classList.add(r[l]);else if(!qn(e,t)){var p=Gi(e);Vn(e,(p?p+" ":"")+t)}}function ve(e,t){e.classList!==void 0?e.classList.remove(t):Vn(e,P((" "+Gi(e)+" ").replace(" "+t+" "," ")))}function Vn(e,t){e.className.baseVal===void 0?e.className=t:e.className.baseVal=t}function Gi(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function ze(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Ba(e,t)}function Ba(e,t){var r=!1,l="DXImageTransform.Microsoft.Alpha";try{r=e.filters.item(l)}catch{if(t===1)return}t=Math.round(t*100),r?(r.Enabled=t!==100,r.Opacity=t):e.style.filter+=" progid:"+l+"(opacity="+t+")"}function Ki(e){for(var t=document.documentElement.style,r=0;r<e.length;r++)if(e[r]in t)return e[r];return!1}function wt(e,t,r){var l=t||new R(0,0);e.style[Wn]=(I.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(r?" scale("+r+")":"")}function ye(e,t){e._leaflet_pos=t,I.any3d?wt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function bt(e){return e._leaflet_pos||new R(0,0)}var mi,_i,Gn;if("onselectstart"in document)mi=function(){F(window,"selectstart",Pe)},_i=function(){ce(window,"selectstart",Pe)};else{var gi=Ki(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);mi=function(){if(gi){var e=document.documentElement.style;Gn=e[gi],e[gi]="none"}},_i=function(){gi&&(document.documentElement.style[gi]=Gn,Gn=void 0)}}function Kn(){F(window,"dragstart",Pe)}function Jn(){ce(window,"dragstart",Pe)}var Ji,Yn;function Xn(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Yi(),Ji=e,Yn=e.style.outlineStyle,e.style.outlineStyle="none",F(window,"keydown",Yi))}function Yi(){Ji&&(Ji.style.outlineStyle=Yn,Ji=void 0,Yn=void 0,ce(window,"keydown",Yi))}function cs(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Qn(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Da={__proto__:null,TRANSFORM:Wn,TRANSITION:fi,TRANSITION_END:us,get:hs,getStyle:pi,create:re,remove:me,empty:Vi,toFront:zt,toBack:Rt,hasClass:qn,addClass:G,removeClass:ve,setClass:Vn,getClass:Gi,setOpacity:ze,testProp:Ki,setTransform:wt,setPosition:ye,getPosition:bt,get disableTextSelection(){return mi},get enableTextSelection(){return _i},disableImageDrag:Kn,enableImageDrag:Jn,preventOutline:Xn,restoreOutline:Yi,getSizedParentNode:cs,getScale:Qn};function F(e,t,r,l){if(t&&typeof t=="object")for(var c in t)tr(e,c,t[c],r);else{t=E(t);for(var p=0,v=t.length;p<v;p++)tr(e,t[p],r,l)}return this}var qe="_leaflet_events";function ce(e,t,r,l){if(arguments.length===1)ds(e),delete e[qe];else if(t&&typeof t=="object")for(var c in t)ir(e,c,t[c],r);else if(t=E(t),arguments.length===2)ds(e,function(y){return A(t,y)!==-1});else for(var p=0,v=t.length;p<v;p++)ir(e,t[p],r,l);return this}function ds(e,t){for(var r in e[qe]){var l=r.split(/\d/)[0];(!t||t(l))&&ir(e,l,null,null,r)}}var er={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function tr(e,t,r,l){var c=t+f(r)+(l?"_"+f(l):"");if(e[qe]&&e[qe][c])return this;var p=function(y){return r.call(l||e,y||window.event)},v=p;!I.touchNative&&I.pointer&&t.indexOf("touch")===0?p=Ca(e,t,p):I.touch&&t==="dblclick"?p=za(e,p):"addEventListener"in e?t==="touchstart"||t==="touchmove"||t==="wheel"||t==="mousewheel"?e.addEventListener(er[t]||t,p,I.passiveEvents?{passive:!1}:!1):t==="mouseenter"||t==="mouseleave"?(p=function(y){y=y||window.event,rr(e,y)&&v(y)},e.addEventListener(er[t],p,!1)):e.addEventListener(t,v,!1):e.attachEvent("on"+t,p),e[qe]=e[qe]||{},e[qe][c]=p}function ir(e,t,r,l,c){c=c||t+f(r)+(l?"_"+f(l):"");var p=e[qe]&&e[qe][c];if(!p)return this;!I.touchNative&&I.pointer&&t.indexOf("touch")===0?Ea(e,t,p):I.touch&&t==="dblclick"?Ra(e,p):"removeEventListener"in e?e.removeEventListener(er[t]||t,p,!1):e.detachEvent("on"+t,p),e[qe][c]=null}function xt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function nr(e){return tr(e,"wheel",xt),this}function vi(e){return F(e,"mousedown touchstart dblclick contextmenu",xt),e._leaflet_disable_click=!0,this}function Pe(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function kt(e){return Pe(e),xt(e),this}function fs(e){if(e.composedPath)return e.composedPath();for(var t=[],r=e.target;r;)t.push(r),r=r.parentNode;return t}function ps(e,t){if(!t)return new R(e.clientX,e.clientY);var r=Qn(t),l=r.boundingClientRect;return new R((e.clientX-l.left)/r.x-t.clientLeft,(e.clientY-l.top)/r.y-t.clientTop)}var Na=I.linux&&I.chrome?window.devicePixelRatio:I.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ms(e){return I.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Na:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function rr(e,t){var r=t.relatedTarget;if(!r)return!0;try{for(;r&&r!==e;)r=r.parentNode}catch{return!1}return r!==e}var Za={__proto__:null,on:F,off:ce,stopPropagation:xt,disableScrollPropagation:nr,disableClickPropagation:vi,preventDefault:Pe,stop:kt,getPropagationPath:fs,getMousePosition:ps,getWheelDelta:ms,isExternalTarget:rr,addListener:F,removeListener:ce},_s=ge.extend({run:function(e,t,r,l){this.stop(),this._el=e,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=bt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ie(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,r=this._duration*1e3;t<r?this._runFrame(this._easeOut(t/r),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var r=this._startPos.add(this._offset.multiplyBy(e));t&&r._round(),ye(this._el,r),this.fire("step")},_complete:function(){pe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),ne=ge.extend({options:{crs:ni,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=k(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==void 0&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==void 0&&this.setView(J(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fi&&I.any3d&&!I.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),F(this._proxy,us,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){if(t=t===void 0?this._zoom:this._limitZoom(t),e=this._limitCenter(J(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=a({animate:r.animate},r.zoom),r.pan=a({animate:r.animate,duration:r.duration},r.pan));var l=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t,r.pan&&r.pan.noMoveStart),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(I.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(I.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,r){var l=this.getZoomScale(t),c=this.getSize().divideBy(2),p=e instanceof R?e:this.latLngToContainerPoint(e),v=p.subtract(c).multiplyBy(1-1/l),y=this.containerPointToLatLng(c.add(v));return this.setView(y,t,{zoom:r})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():he(e);var r=z(t.paddingTopLeft||t.padding||[0,0]),l=z(t.paddingBottomRight||t.padding||[0,0]),c=this.getBoundsZoom(e,!1,r.add(l));if(c=typeof t.maxZoom=="number"?Math.min(t.maxZoom,c):c,c===1/0)return{center:e.getCenter(),zoom:c};var p=l.subtract(r).divideBy(2),v=this.project(e.getSouthWest(),c),y=this.project(e.getNorthEast(),c),b=this.unproject(v.add(y).divideBy(2).add(p),c);return{center:b,zoom:c}},fitBounds:function(e,t){if(e=he(e),!e.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(e,t);return this.setView(r.center,r.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=z(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _s,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),t.animate!==!1){G(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,r,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,r){if(r=r||{},r.animate===!1||!I.any3d)return this.setView(e,t,r);this._stop();var l=this.project(this.getCenter()),c=this.project(e),p=this.getSize(),v=this._zoom;e=J(e),t=t===void 0?v:t;var y=Math.max(p.x,p.y),b=y*this.getZoomScale(v,t),C=c.distanceTo(l)||1,j=1.42,N=j*j;function X(we){var hn=we?-1:1,El=we?b:y,Al=b*b-y*y+hn*N*N*C*C,Ol=2*El*N*C,mr=Al/Ol,Js=Math.sqrt(mr*mr+1)-mr,jl=Js<1e-9?-18:Math.log(Js);return jl}function Le(we){return(Math.exp(we)-Math.exp(-we))/2}function xe(we){return(Math.exp(we)+Math.exp(-we))/2}function Be(we){return Le(we)/xe(we)}var Ee=X(0);function Ft(we){return y*(xe(Ee)/xe(Ee+j*we))}function Tl(we){return y*(xe(Ee)*Be(Ee+j*we)-Le(Ee))/N}function Sl(we){return 1-Math.pow(1-we,1.5)}var Ll=Date.now(),Gs=(X(1)-Ee)/j,Cl=r.duration?1e3*r.duration:1e3*Gs*.8;function Ks(){var we=(Date.now()-Ll)/Cl,hn=Sl(we)*Gs;we<=1?(this._flyToFrame=ie(Ks,this),this._move(this.unproject(l.add(c.subtract(l).multiplyBy(Tl(hn)/C)),v),this.getScaleZoom(y/Ft(hn),v),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),Ks.call(this),this},flyToBounds:function(e,t){var r=this._getBoundsCenterZoom(e,t);return this.flyTo(r.center,r.zoom,t)},setMaxBounds:function(e){return e=he(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var r=this.getCenter(),l=this._limitCenter(r,this._zoom,he(e));return r.equals(l)||this.panTo(l,t),this._enforcingBounds=!1,this},panInside:function(e,t){t=t||{};var r=z(t.paddingTopLeft||t.padding||[0,0]),l=z(t.paddingBottomRight||t.padding||[0,0]),c=this.project(this.getCenter()),p=this.project(e),v=this.getPixelBounds(),y=fe([v.min.add(r),v.max.subtract(l)]),b=y.getSize();if(!y.contains(p)){this._enforcingBounds=!0;var C=p.subtract(y.getCenter()),j=y.extend(p).getSize().subtract(b);c.x+=C.x<0?-j.x:j.x,c.y+=C.y<0?-j.y:j.y,this.panTo(this.unproject(c),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=a({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),l=t.divideBy(2).round(),c=r.divideBy(2).round(),p=l.subtract(c);return!p.x&&!p.y?this:(e.animate&&e.pan?this.panBy(p):(e.pan&&this._rawPanBy(p),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=a({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=h(this._handleGeolocationResponse,this),r=h(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,r=e.message||(t===1?"permission denied":t===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=e.coords.latitude,r=e.coords.longitude,l=new ae(t,r),c=l.toBounds(e.coords.accuracy*2),p=this._locateOptions;if(p.setView){var v=this.getBoundsZoom(c);this.setView(l,p.maxZoom?Math.min(v,p.maxZoom):v)}var y={latlng:l,bounds:c,timestamp:e.timestamp};for(var b in e.coords)typeof e.coords[b]=="number"&&(y[b]=e.coords[b]);this.fire("locationfound",y)}},addHandler:function(e,t){if(!t)return this;var r=this[e]=new t(this);return this._handlers.push(r),this.options[e]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),me(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(pe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)me(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var r="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),l=re("div",r,t||this._mapPane);return e&&(this._panes[e]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),r=this.unproject(e.getTopRight());return new _e(t,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,r){e=he(e),r=z(r||[0,0]);var l=this.getZoom()||0,c=this.getMinZoom(),p=this.getMaxZoom(),v=e.getNorthWest(),y=e.getSouthEast(),b=this.getSize().subtract(r),C=fe(this.project(y,l),this.project(v,l)).getSize(),j=I.any3d?this.options.zoomSnap:1,N=b.x/C.x,X=b.y/C.y,Le=t?Math.max(N,X):Math.min(N,X);return l=this.getScaleZoom(Le,l),j&&(l=Math.round(l/(j/100))*(j/100),l=t?Math.ceil(l/j)*j:Math.floor(l/j)*j),Math.max(c,Math.min(p,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var r=this._getTopLeftPoint(e,t);return new ee(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var r=this.options.crs;return t=t===void 0?this._zoom:t,r.scale(e)/r.scale(t)},getScaleZoom:function(e,t){var r=this.options.crs;t=t===void 0?this._zoom:t;var l=r.zoom(e*r.scale(t));return isNaN(l)?1/0:l},project:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.latLngToPoint(J(e),t)},unproject:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.pointToLatLng(z(e),t)},layerPointToLatLng:function(e){var t=z(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(J(e))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(J(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(he(e))},distance:function(e,t){return this.options.crs.distance(J(e),J(t))},containerPointToLayerPoint:function(e){return z(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return z(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(z(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(J(e)))},mouseEventToContainerPoint:function(e){return ps(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=hs(e);if(t){if(t._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");F(t,"scroll",this._onScroll,this),this._containerId=f(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&I.any3d,G(e,"leaflet-container"+(I.touch?" leaflet-touch":"")+(I.retina?" leaflet-retina":"")+(I.ielt9?" leaflet-oldie":"")+(I.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=pi(e,"position");t!=="absolute"&&t!=="relative"&&t!=="fixed"&&t!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ye(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(G(e.markerPane,"leaflet-zoom-hide"),G(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,r){ye(this._mapPane,new R(0,0));var l=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var c=this._zoom!==t;this._moveStart(c,r)._move(e,t)._moveEnd(c),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,r,l){t===void 0&&(t=this._zoom);var c=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),l?r&&r.pinch&&this.fire("zoom",r):((c||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return pe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){ye(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[f(this._container)]=this;var t=e?ce:F;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),I.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){pe(this._resizeRequest),this._resizeRequest=ie(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var r=[],l,c=t==="mouseout"||t==="mouseover",p=e.target||e.srcElement,v=!1;p;){if(l=this._targets[f(p)],l&&(t==="click"||t==="preclick")&&this._draggableMoved(l)){v=!0;break}if(l&&l.listens(t,!0)&&(c&&!rr(p,e)||(r.push(l),c))||p===this._container)break;p=p.parentNode}return!r.length&&!v&&!c&&this.listens(t,!0)&&(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(t))){var r=e.type;r==="mousedown"&&Xn(t),this._fireDOMEvent(e,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if(e.type==="click"){var l=a({},e);l.type="preclick",this._fireDOMEvent(l,l.type,r)}var c=this._findEventTargets(e,t);if(r){for(var p=[],v=0;v<r.length;v++)r[v].listens(t,!0)&&p.push(r[v]);c=p.concat(c)}if(c.length){t==="contextmenu"&&Pe(e);var y=c[0],b={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var C=y.getLatLng&&(!y._radius||y._radius<=10);b.containerPoint=C?this.latLngToContainerPoint(y.getLatLng()):this.mouseEventToContainerPoint(e),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=C?y.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(v=0;v<c.length;v++)if(c[v].fire(t,b,!0),b.originalEvent._stopped||c[v].options.bubblingMouseEvents===!1&&A(this._mouseEvents,t)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return bt(this._mapPane)||new R(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){var r=e&&t!==void 0?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var r=this.getSize()._divideBy(2);return this.project(e,t)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,r){var l=this._getNewPixelOrigin(r,t);return this.project(e,t)._subtract(l)},_latLngBoundsToNewLayerBounds:function(e,t,r){var l=this._getNewPixelOrigin(r,t);return fe([this.project(e.getSouthWest(),t)._subtract(l),this.project(e.getNorthWest(),t)._subtract(l),this.project(e.getSouthEast(),t)._subtract(l),this.project(e.getNorthEast(),t)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,r){if(!r)return e;var l=this.project(e,t),c=this.getSize().divideBy(2),p=new ee(l.subtract(c),l.add(c)),v=this._getBoundsOffset(p,r,t);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?e:this.unproject(l.add(v),t)},_limitOffset:function(e,t){if(!t)return e;var r=this.getPixelBounds(),l=new ee(r.min.add(e),r.max.add(e));return e.add(this._getBoundsOffset(l,t))},_getBoundsOffset:function(e,t,r){var l=fe(this.project(t.getNorthEast(),r),this.project(t.getSouthWest(),r)),c=l.min.subtract(e.min),p=l.max.subtract(e.max),v=this._rebound(c.x,-p.x),y=this._rebound(c.y,-p.y);return new R(v,y)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),r=this.getMaxZoom(),l=I.any3d?this.options.zoomSnap:1;return l&&(e=Math.round(e/l)*l),Math.max(t,Math.min(r,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ve(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var r=this._getCenterOffset(e)._trunc();return(t&&t.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,t),!0)},_createAnimProxy:function(){var e=this._proxy=re("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(t){var r=Wn,l=this._proxy.style[r];wt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),l===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){me(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();wt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(t),c=this._getCenterOffset(e)._divideBy(1-1/l);return r.animate!==!0&&!this.getSize().contains(c)?!1:(ie(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,r,l){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,G(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ve(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ua(e,t){return new ne(e,t)}var Ne=Z.extend({options:{position:"topright"},initialize:function(e){k(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),r=this.getPosition(),l=e._controlCorners[r];return G(t,"leaflet-control"),r.indexOf("bottom")!==-1?l.insertBefore(t,l.firstChild):l.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(me(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),yi=function(e){return new Ne(e)};ne.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",r=this._controlContainer=re("div",t+"control-container",this._container);function l(c,p){var v=t+c+" "+t+p;e[c+p]=re("div",v,r)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)me(this._controlCorners[e]);me(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var gs=Ne.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,r,l){return r<l?-1:l<r?1:0}},initialize:function(e,t,r){k(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in e)this._addLayer(e[l],l);for(l in t)this._addLayer(t[l],l,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Ne.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(f(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){G(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(G(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ve(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ve(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=re("div",e),r=this.options.collapsed;t.setAttribute("aria-haspopup",!0),vi(t),nr(t);var l=this._section=re("section",e+"-list");r&&(this._map.on("click",this.collapse,this),F(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var c=this._layersLink=re("a",e+"-toggle",t);c.href="#",c.title="Layers",c.setAttribute("role","button"),F(c,{keydown:function(p){p.keyCode===13&&this._expandSafely()},click:function(p){Pe(p),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=re("div",e+"-base",l),this._separator=re("div",e+"-separator",l),this._overlaysList=re("div",e+"-overlays",l),t.appendChild(l)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&f(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,r){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:r}),this.options.sortLayers&&this._layers.sort(h(function(l,c){return this.options.sortFunction(l.layer,c.layer,l.name,c.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Vi(this._baseLayersList),Vi(this._overlaysList),this._layerControlInputs=[];var e,t,r,l,c=0;for(r=0;r<this._layers.length;r++)l=this._layers[r],this._addItem(l),t=t||l.overlay,e=e||!l.overlay,c+=l.overlay?0:1;return this.options.hideSingleBase&&(e=e&&c>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(f(e.target)),r=t.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;r&&this._map.fire(r,t)},_createRadioElement:function(e,t){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=r,l.firstChild},_addItem:function(e){var t=document.createElement("label"),r=this._map.hasLayer(e.layer),l;e.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=r):l=this._createRadioElement("leaflet-base-layers_"+f(this),r),this._layerControlInputs.push(l),l.layerId=f(e.layer),F(l,"click",this._onInputClick,this);var c=document.createElement("span");c.innerHTML=" "+e.name;var p=document.createElement("span");t.appendChild(p),p.appendChild(l),p.appendChild(c);var v=e.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(t),this._checkDisabledLayers(),t},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,t,r,l=[],c=[];this._handlingClick=!0;for(var p=e.length-1;p>=0;p--)t=e[p],r=this._getLayer(t.layerId).layer,t.checked?l.push(r):t.checked||c.push(r);for(p=0;p<c.length;p++)this._map.hasLayer(c[p])&&this._map.removeLayer(c[p]);for(p=0;p<l.length;p++)this._map.hasLayer(l[p])||this._map.addLayer(l[p]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,t,r,l=this._map.getZoom(),c=e.length-1;c>=0;c--)t=e[c],r=this._getLayer(t.layerId).layer,t.disabled=r.options.minZoom!==void 0&&l<r.options.minZoom||r.options.maxZoom!==void 0&&l>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,F(e,"click",Pe),this.expand();var t=this;setTimeout(function(){ce(e,"click",Pe),t._preventClick=!1})}}),Fa=function(e,t,r){return new gs(e,t,r)},sr=Ne.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",r=re("div",t+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,t+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,t+"-out",r,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,r,l,c){var p=re("a",r,l);return p.innerHTML=e,p.href="#",p.title=t,p.setAttribute("role","button"),p.setAttribute("aria-label",t),vi(p),F(p,"click",kt),F(p,"click",c,this),F(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ve(this._zoomInButton,t),ve(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(G(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(G(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});ne.mergeOptions({zoomControl:!0}),ne.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new sr,this.addControl(this.zoomControl))});var Ha=function(e){return new sr(e)},vs=Ne.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",r=re("div",t),l=this.options;return this._addScales(l,t+"-line",r),e.on(l.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),r},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,r){e.metric&&(this._mScale=re("div",t,r)),e.imperial&&(this._iScale=re("div",t,r))},_update:function(){var e=this._map,t=e.getSize().y/2,r=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(r)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),r=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,r,t/e)},_updateImperial:function(e){var t=e*3.2808399,r,l,c;t>5280?(r=t/5280,l=this._getRoundNum(r),this._updateScale(this._iScale,l+" mi",l/r)):(c=this._getRoundNum(t),this._updateScale(this._iScale,c+" ft",c/t))},_updateScale:function(e,t,r){e.style.width=Math.round(this.options.maxWidth*r)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),r=e/t;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,t*r}}),Wa=function(e){return new vs(e)},qa='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',or=Ne.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(I.inlineSvg?qa+" ":"")+"Leaflet</a>"},initialize:function(e){k(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=re("div","leaflet-control-attribution"),vi(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var r=[];this.options.prefix&&r.push(this.options.prefix),e.length&&r.push(e.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});ne.mergeOptions({attributionControl:!0}),ne.addInitHook(function(){this.options.attributionControl&&new or().addTo(this)});var Va=function(e){return new or(e)};Ne.Layers=gs,Ne.Zoom=sr,Ne.Scale=vs,Ne.Attribution=or,yi.layers=Fa,yi.zoom=Ha,yi.scale=Wa,yi.attribution=Va;var Ve=Z.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ve.addTo=function(e,t){return e.addHandler(t,this),this};var Ga={Events:V},ys=I.touch?"touchstart mousedown":"mousedown",ht=ge.extend({options:{clickTolerance:3},initialize:function(e,t,r,l){k(this,l),this._element=e,this._dragStartTarget=t||e,this._preventOutline=r},enable:function(){this._enabled||(F(this._dragStartTarget,ys,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ht._dragging===this&&this.finishDrag(!0),ce(this._dragStartTarget,ys,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!qn(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){ht._dragging===this&&this.finishDrag();return}if(!(ht._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(ht._dragging=this,this._preventOutline&&Xn(this._element),Kn(),mi(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,r=cs(this._element);this._startPoint=new R(t.clientX,t.clientY),this._startPos=bt(this._element),this._parentScale=Qn(r);var l=e.type==="mousedown";F(document,l?"mousemove":"touchmove",this._onMove,this),F(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var t=e.touches&&e.touches.length===1?e.touches[0]:e,r=new R(t.clientX,t.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,Pe(e),this._moved||(this.fire("dragstart"),this._moved=!0,G(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),G(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),ye(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ve(document.body,"leaflet-dragging"),this._lastTarget&&(ve(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ce(document,"mousemove touchmove",this._onMove,this),ce(document,"mouseup touchend touchcancel",this._onUp,this),Jn(),_i();var t=this._moved&&this._moving;this._moving=!1,ht._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function ws(e,t,r){var l,c=[1,4,2,8],p,v,y,b,C,j,N,X;for(p=0,j=e.length;p<j;p++)e[p]._code=Pt(e[p],t);for(y=0;y<4;y++){for(N=c[y],l=[],p=0,j=e.length,v=j-1;p<j;v=p++)b=e[p],C=e[v],b._code&N?C._code&N||(X=Xi(C,b,N,t,r),X._code=Pt(X,t),l.push(X)):(C._code&N&&(X=Xi(C,b,N,t,r),X._code=Pt(X,t),l.push(X)),l.push(b));e=l}return e}function bs(e,t){var r,l,c,p,v,y,b,C,j;if(!e||e.length===0)throw new Error("latlngs not passed");Re(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var N=J([0,0]),X=he(e),Le=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());Le<1700&&(N=ar(e));var xe=e.length,Be=[];for(r=0;r<xe;r++){var Ee=J(e[r]);Be.push(t.project(J([Ee.lat-N.lat,Ee.lng-N.lng])))}for(y=b=C=0,r=0,l=xe-1;r<xe;l=r++)c=Be[r],p=Be[l],v=c.y*p.x-p.y*c.x,b+=(c.x+p.x)*v,C+=(c.y+p.y)*v,y+=v*3;y===0?j=Be[0]:j=[b/y,C/y];var Ft=t.unproject(z(j));return J([Ft.lat+N.lat,Ft.lng+N.lng])}function ar(e){for(var t=0,r=0,l=0,c=0;c<e.length;c++){var p=J(e[c]);t+=p.lat,r+=p.lng,l++}return J([t/l,r/l])}var Ka={__proto__:null,clipPolygon:ws,polygonCenter:bs,centroid:ar};function xs(e,t){if(!t||!e.length)return e.slice();var r=t*t;return e=Xa(e,r),e=Ya(e,r),e}function ks(e,t,r){return Math.sqrt(wi(e,t,r,!0))}function Ja(e,t,r){return wi(e,t,r)}function Ya(e,t){var r=e.length,l=typeof Uint8Array<"u"?Uint8Array:Array,c=new l(r);c[0]=c[r-1]=1,lr(e,c,t,0,r-1);var p,v=[];for(p=0;p<r;p++)c[p]&&v.push(e[p]);return v}function lr(e,t,r,l,c){var p=0,v,y,b;for(y=l+1;y<=c-1;y++)b=wi(e[y],e[l],e[c],!0),b>p&&(v=y,p=b);p>r&&(t[v]=1,lr(e,t,r,l,v),lr(e,t,r,v,c))}function Xa(e,t){for(var r=[e[0]],l=1,c=0,p=e.length;l<p;l++)Qa(e[l],e[c])>t&&(r.push(e[l]),c=l);return c<p-1&&r.push(e[p-1]),r}var Ps;function Ts(e,t,r,l,c){var p=l?Ps:Pt(e,r),v=Pt(t,r),y,b,C;for(Ps=v;;){if(!(p|v))return[e,t];if(p&v)return!1;y=p||v,b=Xi(e,t,y,r,c),C=Pt(b,r),y===p?(e=b,p=C):(t=b,v=C)}}function Xi(e,t,r,l,c){var p=t.x-e.x,v=t.y-e.y,y=l.min,b=l.max,C,j;return r&8?(C=e.x+p*(b.y-e.y)/v,j=b.y):r&4?(C=e.x+p*(y.y-e.y)/v,j=y.y):r&2?(C=b.x,j=e.y+v*(b.x-e.x)/p):r&1&&(C=y.x,j=e.y+v*(y.x-e.x)/p),new R(C,j,c)}function Pt(e,t){var r=0;return e.x<t.min.x?r|=1:e.x>t.max.x&&(r|=2),e.y<t.min.y?r|=4:e.y>t.max.y&&(r|=8),r}function Qa(e,t){var r=t.x-e.x,l=t.y-e.y;return r*r+l*l}function wi(e,t,r,l){var c=t.x,p=t.y,v=r.x-c,y=r.y-p,b=v*v+y*y,C;return b>0&&(C=((e.x-c)*v+(e.y-p)*y)/b,C>1?(c=r.x,p=r.y):C>0&&(c+=v*C,p+=y*C)),v=e.x-c,y=e.y-p,l?v*v+y*y:new R(c,p)}function Re(e){return!O(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Ss(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Re(e)}function Ls(e,t){var r,l,c,p,v,y,b,C;if(!e||e.length===0)throw new Error("latlngs not passed");Re(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var j=J([0,0]),N=he(e),X=N.getNorthWest().distanceTo(N.getSouthWest())*N.getNorthEast().distanceTo(N.getNorthWest());X<1700&&(j=ar(e));var Le=e.length,xe=[];for(r=0;r<Le;r++){var Be=J(e[r]);xe.push(t.project(J([Be.lat-j.lat,Be.lng-j.lng])))}for(r=0,l=0;r<Le-1;r++)l+=xe[r].distanceTo(xe[r+1])/2;if(l===0)C=xe[0];else for(r=0,p=0;r<Le-1;r++)if(v=xe[r],y=xe[r+1],c=v.distanceTo(y),p+=c,p>l){b=(p-l)/c,C=[y.x-b*(y.x-v.x),y.y-b*(y.y-v.y)];break}var Ee=t.unproject(z(C));return J([Ee.lat+j.lat,Ee.lng+j.lng])}var el={__proto__:null,simplify:xs,pointToSegmentDistance:ks,closestPointOnSegment:Ja,clipSegment:Ts,_getEdgeIntersection:Xi,_getBitCode:Pt,_sqClosestPointOnSegment:wi,isFlat:Re,_flat:Ss,polylineCenter:Ls},ur={project:function(e){return new R(e.lng,e.lat)},unproject:function(e){return new ae(e.y,e.x)},bounds:new ee([-180,-90],[180,90])},hr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var t=Math.PI/180,r=this.R,l=e.lat*t,c=this.R_MINOR/r,p=Math.sqrt(1-c*c),v=p*Math.sin(l),y=Math.tan(Math.PI/4-l/2)/Math.pow((1-v)/(1+v),p/2);return l=-r*Math.log(Math.max(y,1e-10)),new R(e.lng*t*r,l)},unproject:function(e){for(var t=180/Math.PI,r=this.R,l=this.R_MINOR/r,c=Math.sqrt(1-l*l),p=Math.exp(-e.y/r),v=Math.PI/2-2*Math.atan(p),y=0,b=.1,C;y<15&&Math.abs(b)>1e-7;y++)C=c*Math.sin(v),C=Math.pow((1-C)/(1+C),c/2),b=Math.PI/2-2*Math.atan(p*C)-v,v+=b;return new ae(v*t,e.x*t/r)}},tl={__proto__:null,LonLat:ur,Mercator:hr,SphericalMercator:ii},il=a({},Se,{code:"EPSG:3395",projection:hr,transformation:function(){var e=.5/(Math.PI*hr.R);return ut(e,.5,-e,.5)}()}),Cs=a({},Se,{code:"EPSG:4326",projection:ur,transformation:ut(1/180,1,-1/180,.5)}),nl=a({},$e,{projection:ur,transformation:ut(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var r=t.lng-e.lng,l=t.lat-e.lat;return Math.sqrt(r*r+l*l)},infinite:!0});$e.Earth=Se,$e.EPSG3395=il,$e.EPSG3857=ni,$e.EPSG900913=Di,$e.EPSG4326=Cs,$e.Simple=nl;var Ze=ge.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[f(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[f(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var r=this.getEvents();t.on(r,this),this.once("remove",function(){t.off(r,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});ne.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=f(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=f(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return f(e)in this._layers},eachLayer:function(e,t){for(var r in this._layers)e.call(t,this._layers[r]);return this},_addLayers:function(e){e=e?O(e)?e:[e]:[];for(var t=0,r=e.length;t<r;t++)this.addLayer(e[t])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[f(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=f(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,r=this._getZoomSpan();for(var l in this._zoomBoundLayers){var c=this._zoomBoundLayers[l].options;e=c.minZoom===void 0?e:Math.min(e,c.minZoom),t=c.maxZoom===void 0?t:Math.max(t,c.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Bt=Ze.extend({initialize:function(e,t){k(this,t),this._layers={};var r,l;if(e)for(r=0,l=e.length;r<l;r++)this.addLayer(e[r])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){var t=typeof e=="number"?e:this.getLayerId(e);return t in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t=Array.prototype.slice.call(arguments,1),r,l;for(r in this._layers)l=this._layers[r],l[e]&&l[e].apply(l,t);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var r in this._layers)e.call(t,this._layers[r]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return f(e)}}),rl=function(e,t){return new Bt(e,t)},et=Bt.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Bt.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Bt.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new _e;for(var t in this._layers){var r=this._layers[t];e.extend(r.getBounds?r.getBounds():r.getLatLng())}return e}}),sl=function(e,t){return new et(e,t)},Dt=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){k(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var r=this._getIconUrl(e);if(!r){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(r,t&&t.tagName==="IMG"?t:null);return this._setIconStyles(l,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(e,t){var r=this.options,l=r[t+"Size"];typeof l=="number"&&(l=[l,l]);var c=z(l),p=z(t==="shadow"&&r.shadowAnchor||r.iconAnchor||c&&c.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(r.className||""),p&&(e.style.marginLeft=-p.x+"px",e.style.marginTop=-p.y+"px"),c&&(e.style.width=c.x+"px",e.style.height=c.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return I.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function ol(e){return new Dt(e)}var bi=Dt.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof bi.imagePath!="string"&&(bi.imagePath=this._detectIconPath()),(this.options.imagePath||bi.imagePath)+Dt.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(r,l,c){var p=l.exec(r);return p&&p[c]};return e=t(e,/^url\((['"])?(.+)\1\)$/,2),e&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=re("div","leaflet-default-icon-path",document.body),t=pi(e,"background-image")||pi(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t),t)return t;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),Es=Ve.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new ht(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),G(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ve(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,r=t._map,l=this._marker.options.autoPanSpeed,c=this._marker.options.autoPanPadding,p=bt(t._icon),v=r.getPixelBounds(),y=r.getPixelOrigin(),b=fe(v.min._subtract(y).add(c),v.max._subtract(y).subtract(c));if(!b.contains(p)){var C=z((Math.max(b.max.x,p.x)-b.max.x)/(v.max.x-b.max.x)-(Math.min(b.min.x,p.x)-b.min.x)/(v.min.x-b.min.x),(Math.max(b.max.y,p.y)-b.max.y)/(v.max.y-b.max.y)-(Math.min(b.min.y,p.y)-b.min.y)/(v.min.y-b.min.y)).multiplyBy(l);r.panBy(C,{animate:!1}),this._draggable._newPos._add(C),this._draggable._startPos._add(C),ye(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=ie(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(pe(this._panRequest),this._panRequest=ie(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,r=t._shadow,l=bt(t._icon),c=t._map.layerPointToLatLng(l);r&&ye(r,l),t._latlng=c,e.latlng=c,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){pe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Qi=Ze.extend({options:{icon:new bi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){k(this,t),this._latlng=J(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=J(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=e.icon.createIcon(this._icon),l=!1;r!==this._icon&&(this._icon&&this._removeIcon(),l=!0,e.title&&(r.title=e.title),r.tagName==="IMG"&&(r.alt=e.alt||"")),G(r,t),e.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&F(r,"focus",this._panOnFocus,this);var c=e.icon.createShadow(this._shadow),p=!1;c!==this._shadow&&(this._removeShadow(),p=!0),c&&(G(c,t),c.alt=""),this._shadow=c,e.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),c&&p&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ce(this._icon,"focus",this._panOnFocus,this),me(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&me(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&ye(this._icon,e),this._shadow&&ye(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(G(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Es)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Es(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&ze(this._icon,e),this._shadow&&ze(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,r=t.iconSize?z(t.iconSize):z(0,0),l=t.iconAnchor?z(t.iconAnchor):z(0,0);e.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:r.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function al(e,t){return new Qi(e,t)}var ct=Ze.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return k(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),en=ct.extend({options:{fill:!0,radius:10},initialize:function(e,t){k(this,t),this._latlng=J(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=J(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return ct.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,r=this._clickTolerance(),l=[e+r,t+r];this._pxBounds=new ee(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ll(e,t){return new en(e,t)}var cr=en.extend({initialize:function(e,t,r){if(typeof t=="number"&&(t=a({},r,{radius:t})),k(this,t),this._latlng=J(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new _e(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:ct.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,r=this._map,l=r.options.crs;if(l.distance===Se.distance){var c=Math.PI/180,p=this._mRadius/Se.R/c,v=r.project([t+p,e]),y=r.project([t-p,e]),b=v.add(y).divideBy(2),C=r.unproject(b).lat,j=Math.acos((Math.cos(p*c)-Math.sin(t*c)*Math.sin(C*c))/(Math.cos(t*c)*Math.cos(C*c)))/c;(isNaN(j)||j===0)&&(j=p/Math.cos(Math.PI/180*t)),this._point=b.subtract(r.getPixelOrigin()),this._radius=isNaN(j)?0:b.x-r.project([C,e-j]).x,this._radiusY=b.y-v.y}else{var N=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(N).x}this._updateBounds()}});function ul(e,t,r){return new cr(e,t,r)}var tt=ct.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){k(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t=1/0,r=null,l=wi,c,p,v=0,y=this._parts.length;v<y;v++)for(var b=this._parts[v],C=1,j=b.length;C<j;C++){c=b[C-1],p=b[C];var N=l(e,c,p,!0);N<t&&(t=N,r=l(e,c,p))}return r&&(r.distance=Math.sqrt(t)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ls(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=J(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new _e,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Re(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],r=Re(e),l=0,c=e.length;l<c;l++)r?(t[l]=J(e[l]),this._bounds.extend(t[l])):t[l]=this._convertLatLngs(e[l]);return t},_project:function(){var e=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new R(e,e);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,r){var l=e[0]instanceof ae,c=e.length,p,v;if(l){for(v=[],p=0;p<c;p++)v[p]=this._map.latLngToLayerPoint(e[p]),r.extend(v[p]);t.push(v)}else for(p=0;p<c;p++)this._projectLatlngs(e[p],t,r)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var t=this._parts,r,l,c,p,v,y,b;for(r=0,c=0,p=this._rings.length;r<p;r++)for(b=this._rings[r],l=0,v=b.length;l<v-1;l++)y=Ts(b[l],b[l+1],e,l,!0),y&&(t[c]=t[c]||[],t[c].push(y[0]),(y[1]!==b[l+1]||l===v-2)&&(t[c].push(y[1]),c++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,r=0,l=e.length;r<l;r++)e[r]=xs(e[r],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var r,l,c,p,v,y,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,p=this._parts.length;r<p;r++)for(y=this._parts[r],l=0,v=y.length,c=v-1;l<v;c=l++)if(!(!t&&l===0)&&ks(e,y[c],y[l])<=b)return!0;return!1}});function hl(e,t){return new tt(e,t)}tt._flat=Ss;var Nt=tt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bs(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=tt.prototype._convertLatLngs.call(this,e),r=t.length;return r>=2&&t[0]instanceof ae&&t[0].equals(t[r-1])&&t.pop(),t},_setLatLngs:function(e){tt.prototype._setLatLngs.call(this,e),Re(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Re(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,r=new R(t,t);if(e=new ee(e.min.subtract(r),e.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,c=this._rings.length,p;l<c;l++)p=ws(this._rings[l],e,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t=!1,r,l,c,p,v,y,b,C;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(p=0,b=this._parts.length;p<b;p++)for(r=this._parts[p],v=0,C=r.length,y=C-1;v<C;y=v++)l=r[v],c=r[y],l.y>e.y!=c.y>e.y&&e.x<(c.x-l.x)*(e.y-l.y)/(c.y-l.y)+l.x&&(t=!t);return t||tt.prototype._containsPoint.call(this,e,!0)}});function cl(e,t){return new Nt(e,t)}var it=et.extend({initialize:function(e,t){k(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t=O(e)?e:e.features,r,l,c;if(t){for(r=0,l=t.length;r<l;r++)c=t[r],(c.geometries||c.geometry||c.features||c.coordinates)&&this.addData(c);return this}var p=this.options;if(p.filter&&!p.filter(e))return this;var v=tn(e,p);return v?(v.feature=sn(e),v.defaultOptions=v.options,this.resetStyle(v),p.onEachFeature&&p.onEachFeature(e,v),this.addLayer(v)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=a({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&(typeof t=="function"&&(t=t(e.feature)),e.setStyle(t))}});function tn(e,t){var r=e.type==="Feature"?e.geometry:e,l=r?r.coordinates:null,c=[],p=t&&t.pointToLayer,v=t&&t.coordsToLatLng||dr,y,b,C,j;if(!l&&!r)return null;switch(r.type){case"Point":return y=v(l),As(p,e,y,t);case"MultiPoint":for(C=0,j=l.length;C<j;C++)y=v(l[C]),c.push(As(p,e,y,t));return new et(c);case"LineString":case"MultiLineString":return b=nn(l,r.type==="LineString"?0:1,v),new tt(b,t);case"Polygon":case"MultiPolygon":return b=nn(l,r.type==="Polygon"?1:2,v),new Nt(b,t);case"GeometryCollection":for(C=0,j=r.geometries.length;C<j;C++){var N=tn({geometry:r.geometries[C],type:"Feature",properties:e.properties},t);N&&c.push(N)}return new et(c);case"FeatureCollection":for(C=0,j=r.features.length;C<j;C++){var X=tn(r.features[C],t);X&&c.push(X)}return new et(c);default:throw new Error("Invalid GeoJSON object.")}}function As(e,t,r,l){return e?e(t,r):new Qi(r,l&&l.markersInheritOptions&&l)}function dr(e){return new ae(e[1],e[0],e[2])}function nn(e,t,r){for(var l=[],c=0,p=e.length,v;c<p;c++)v=t?nn(e[c],t-1,r):(r||dr)(e[c]),l.push(v);return l}function fr(e,t){return e=J(e),e.alt!==void 0?[w(e.lng,t),w(e.lat,t),w(e.alt,t)]:[w(e.lng,t),w(e.lat,t)]}function rn(e,t,r,l){for(var c=[],p=0,v=e.length;p<v;p++)c.push(t?rn(e[p],Re(e[p])?0:t-1,r,l):fr(e[p],l));return!t&&r&&c.length>0&&c.push(c[0].slice()),c}function Zt(e,t){return e.feature?a({},e.feature,{geometry:t}):sn(t)}function sn(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var pr={toGeoJSON:function(e){return Zt(this,{type:"Point",coordinates:fr(this.getLatLng(),e)})}};Qi.include(pr),cr.include(pr),en.include(pr),tt.include({toGeoJSON:function(e){var t=!Re(this._latlngs),r=rn(this._latlngs,t?1:0,!1,e);return Zt(this,{type:(t?"Multi":"")+"LineString",coordinates:r})}}),Nt.include({toGeoJSON:function(e){var t=!Re(this._latlngs),r=t&&!Re(this._latlngs[0]),l=rn(this._latlngs,r?2:t?1:0,!0,e);return t||(l=[l]),Zt(this,{type:(r?"Multi":"")+"Polygon",coordinates:l})}}),Bt.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(r){t.push(r.toGeoJSON(e).geometry.coordinates)}),Zt(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t==="MultiPoint")return this.toMultiPoint(e);var r=t==="GeometryCollection",l=[];return this.eachLayer(function(c){if(c.toGeoJSON){var p=c.toGeoJSON(e);if(r)l.push(p.geometry);else{var v=sn(p);v.type==="FeatureCollection"?l.push.apply(l,v.features):l.push(v)}}}),r?Zt(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function Os(e,t){return new it(e,t)}var dl=Os,on=Ze.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,r){this._url=e,this._bounds=he(t),k(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(G(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){me(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&zt(this._image),this},bringToBack:function(){return this._map&&Rt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=he(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",t=this._image=e?this._url:re("img");if(G(t,"leaflet-image-layer"),this._zoomAnimated&&G(t,"leaflet-zoom-animated"),this.options.className&&G(t,this.options.className),t.onselectstart=g,t.onmousemove=g,t.onload=h(this.fire,this,"load"),t.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(t.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=t.src;return}t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;wt(this._image,r,t)},_reset:function(){var e=this._image,t=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=t.getSize();ye(e,t.min),e.style.width=r.x+"px",e.style.height=r.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),fl=function(e,t,r){return new on(e,t,r)},js=on.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",t=this._image=e?this._url:re("video");if(G(t,"leaflet-image-layer"),this._zoomAnimated&&G(t,"leaflet-zoom-animated"),this.options.className&&G(t,this.options.className),t.onselectstart=g,t.onmousemove=g,t.onloadeddata=h(this.fire,this,"load"),e){for(var r=t.getElementsByTagName("source"),l=[],c=0;c<r.length;c++)l.push(r[c].src);this._url=r.length>0?l:[t.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var v=re("source");v.src=this._url[p],t.appendChild(v)}}});function pl(e,t,r){return new js(e,t,r)}var $s=on.extend({_initImage:function(){var e=this._image=this._url;G(e,"leaflet-image-layer"),this._zoomAnimated&&G(e,"leaflet-zoom-animated"),this.options.className&&G(e,this.options.className),e.onselectstart=g,e.onmousemove=g}});function ml(e,t,r){return new $s(e,t,r)}var Ge=Ze.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof ae||O(e))?(this._latlng=J(e),k(this,t)):(k(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(G(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(h(me,void 0,this._container),200)):me(this._container),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=J(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zt(this._container),this},bringToBack:function(){return this._map&&Rt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof et){t=null;var r=this._source._layers;for(var l in r)if(r[l]._map){t=r[l];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else if(t.getBounds)e=t.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof t=="string")e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=z(this.options.offset),r=this._getAnchor();this._zoomAnimated?ye(this._container,e.add(r)):t=t.add(e).add(r);var l=this._containerBottom=-t.y,c=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=l+"px",this._container.style.left=c+"px"}},_getAnchor:function(){return[0,0]}});ne.include({_initOverlay:function(e,t,r,l){var c=t;return c instanceof e||(c=new e(l).setContent(t)),r&&c.setLatLng(r),c}}),Ze.include({_initOverlay:function(e,t,r,l){var c=r;return c instanceof e?(k(c,l),c._source=this):(c=t&&!l?t:new e(l,this),c.setContent(r)),c}});var an=Ge.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ge.prototype.openOn.call(this,e)},onAdd:function(e){Ge.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ct||this._source.on("preclick",xt))},onRemove:function(e){Ge.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ct||this._source.off("preclick",xt))},getEvents:function(){var e=Ge.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=re("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=re("div",e+"-content-wrapper",t);if(this._contentNode=re("div",e+"-content",r),vi(t),nr(this._contentNode),F(t,"contextmenu",xt),this._tipContainer=re("div",e+"-tip-container",t),this._tip=re("div",e+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=re("a",e+"-close-button",t);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',F(l,"click",function(c){Pe(c),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var r=e.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),t.width=r+1+"px",t.whiteSpace="",t.height="";var l=e.offsetHeight,c=this.options.maxHeight,p="leaflet-popup-scrolled";c&&l>c?(t.height=c+"px",G(e,p)):ve(e,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),r=this._getAnchor();ye(this._container,t.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,t=parseInt(pi(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+t,l=this._containerWidth,c=new R(this._containerLeft,-r-this._containerBottom);c._add(bt(this._container));var p=e.layerPointToContainerPoint(c),v=z(this.options.autoPanPadding),y=z(this.options.autoPanPaddingTopLeft||v),b=z(this.options.autoPanPaddingBottomRight||v),C=e.getSize(),j=0,N=0;p.x+l+b.x>C.x&&(j=p.x+l-C.x+b.x),p.x-j-y.x<0&&(j=p.x-y.x),p.y+r+b.y>C.y&&(N=p.y+r-C.y+b.y),p.y-N-y.y<0&&(N=p.y-y.y),(j||N)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([j,N]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_l=function(e,t){return new an(e,t)};ne.mergeOptions({closePopupOnClick:!0}),ne.include({openPopup:function(e,t,r){return this._initOverlay(an,e,t,r).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Ze.include({bindPopup:function(e,t){return this._popup=this._initOverlay(an,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof et||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){kt(e);var t=e.layer||e.target;if(this._popup._source===t&&!(t instanceof ct)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=t,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var ln=Ge.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ge.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ge.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ge.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",t=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=re("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,r,l=this._map,c=this._container,p=l.latLngToContainerPoint(l.getCenter()),v=l.layerPointToContainerPoint(e),y=this.options.direction,b=c.offsetWidth,C=c.offsetHeight,j=z(this.options.offset),N=this._getAnchor();y==="top"?(t=b/2,r=C):y==="bottom"?(t=b/2,r=0):y==="center"?(t=b/2,r=C/2):y==="right"?(t=0,r=C/2):y==="left"?(t=b,r=C/2):v.x<p.x?(y="right",t=0,r=C/2):(y="left",t=b+(j.x+N.x)*2,r=C/2),e=e.subtract(z(t,r,!0)).add(j).add(N),ve(c,"leaflet-tooltip-right"),ve(c,"leaflet-tooltip-left"),ve(c,"leaflet-tooltip-top"),ve(c,"leaflet-tooltip-bottom"),G(c,"leaflet-tooltip-"+y),ye(c,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&ze(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),gl=function(e,t){return new ln(e,t)};ne.include({openTooltip:function(e,t,r){return this._initOverlay(ln,e,t,r).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Ze.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ln,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var t=e?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[t](r),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof et||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&(F(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),F(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var t=e.latlng,r,l;this._tooltip.options.sticky&&e.originalEvent&&(r=this._map.mouseEventToContainerPoint(e.originalEvent),l=this._map.containerPointToLayerPoint(r),t=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(t)}});var Is=Dt.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&e.tagName==="DIV"?e:document.createElement("div"),r=this.options;if(r.html instanceof Element?(Vi(t),t.appendChild(r.html)):t.innerHTML=r.html!==!1?r.html:"",r.bgPos){var l=z(r.bgPos);t.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function vl(e){return new Is(e)}Dt.Default=bi;var xi=Ze.extend({options:{tileSize:256,opacity:1,updateWhenIdle:I.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){k(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),me(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Rt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof R?e:new R(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t=this.getPane().children,r=-e(-1/0,1/0),l=0,c=t.length,p;l<c;l++)p=t[l].style.zIndex,t[l]!==this._container&&p&&(r=e(r,+p));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!I.ielt9){ze(this._container,this.options.opacity);var e=+new Date,t=!1,r=!1;for(var l in this._tiles){var c=this._tiles[l];if(!(!c.current||!c.loaded)){var p=Math.min(1,(e-c.loaded)/200);ze(c.el,p),p<1?t=!0:(c.active?r=!0:this._onOpaqueTile(c),c.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),t&&(pe(this._fadeFrame),this._fadeFrame=ie(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=re("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===e?(this._levels[r].el.style.zIndex=t-Math.abs(e-r),this._onUpdateLevel(r)):(me(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var l=this._levels[e],c=this._map;return l||(l=this._levels[e]={},l.el=re("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=t,l.origin=c.project(c.unproject(c.getPixelOrigin()),e).round(),l.zoom=e,this._setZoomTransform(l,c.getCenter(),c.getZoom()),g(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var e,t,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var l=t.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)me(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,r,l){var c=Math.floor(e/2),p=Math.floor(t/2),v=r-1,y=new R(+c,+p);y.z=+v;var b=this._tileCoordsToKey(y),C=this._tiles[b];return C&&C.active?(C.retain=!0,!0):(C&&C.loaded&&(C.retain=!0),v>l?this._retainParent(c,p,v,l):!1)},_retainChildren:function(e,t,r,l){for(var c=2*e;c<2*e+2;c++)for(var p=2*t;p<2*t+2;p++){var v=new R(c,p);v.z=r+1;var y=this._tileCoordsToKey(v),b=this._tiles[y];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);r+1<l&&this._retainChildren(c,p,r+1,l)}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return t.minNativeZoom!==void 0&&e<t.minNativeZoom?t.minNativeZoom:t.maxNativeZoom!==void 0&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,r,l){var c=Math.round(t);this.options.maxZoom!==void 0&&c>this.options.maxZoom||this.options.minZoom!==void 0&&c<this.options.minZoom?c=void 0:c=this._clampZoom(c);var p=this.options.updateWhenZooming&&c!==this._tileZoom;(!l||p)&&(this._tileZoom=c,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),c!==void 0&&this._update(e),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var r in this._levels)this._setZoomTransform(this._levels[r],e,t)},_setZoomTransform:function(e,t,r){var l=this._map.getZoomScale(r,e.zoom),c=e.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(t,r)).round();I.any3d?wt(e.el,c,l):ye(e.el,c)},_resetGrid:function(){var e=this._map,t=e.options.crs,r=this._tileSize=this.getTileSize(),l=this._tileZoom,c=this._map.getPixelWorldBounds(this._tileZoom);c&&(this._globalTileRange=this._pxBoundsToTileRange(c)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],l).x/r.x),Math.ceil(e.project([0,t.wrapLng[1]],l).x/r.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],l).y/r.x),Math.ceil(e.project([t.wrapLat[1],0],l).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var t=this._map,r=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),l=t.getZoomScale(r,this._tileZoom),c=t.project(e,this._tileZoom).floor(),p=t.getSize().divideBy(l*2);return new ee(c.subtract(p),c.add(p))},_update:function(e){var t=this._map;if(t){var r=this._clampZoom(t.getZoom());if(e===void 0&&(e=t.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(e),c=this._pxBoundsToTileRange(l),p=c.getCenter(),v=[],y=this.options.keepBuffer,b=new ee(c.getBottomLeft().subtract([y,-y]),c.getTopRight().add([y,-y]));if(!(isFinite(c.min.x)&&isFinite(c.min.y)&&isFinite(c.max.x)&&isFinite(c.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var C in this._tiles){var j=this._tiles[C].coords;(j.z!==this._tileZoom||!b.contains(new R(j.x,j.y)))&&(this._tiles[C].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(e,r);return}for(var N=c.min.y;N<=c.max.y;N++)for(var X=c.min.x;X<=c.max.x;X++){var Le=new R(X,N);if(Le.z=this._tileZoom,!!this._isValidTile(Le)){var xe=this._tiles[this._tileCoordsToKey(Le)];xe?xe.current=!0:v.push(Le)}}if(v.sort(function(Ee,Ft){return Ee.distanceTo(p)-Ft.distanceTo(p)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Be=document.createDocumentFragment();for(X=0;X<v.length;X++)this._addTile(v[X],Be);this._level.el.appendChild(Be)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var r=this._globalTileRange;if(!t.wrapLng&&(e.x<r.min.x||e.x>r.max.x)||!t.wrapLat&&(e.y<r.min.y||e.y>r.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(e);return he(this.options.bounds).overlaps(l)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,r=this.getTileSize(),l=e.scaleBy(r),c=l.add(r),p=t.unproject(l,e.z),v=t.unproject(c,e.z);return[p,v]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),r=new _e(t[0],t[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),r=new R(+t[0],+t[1]);return r.z=+t[2],r},_removeTile:function(e){var t=this._tiles[e];t&&(me(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){G(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=g,e.onmousemove=g,I.ielt9&&this.options.opacity<1&&ze(e,this.options.opacity)},_addTile:function(e,t){var r=this._getTilePos(e),l=this._tileCoordsToKey(e),c=this.createTile(this._wrapCoords(e),h(this._tileReady,this,e));this._initTile(c),this.createTile.length<2&&ie(h(this._tileReady,this,e,null,c)),ye(c,r),this._tiles[l]={el:c,coords:e,current:!0},t.appendChild(c),this.fire("tileloadstart",{tile:c,coords:e})},_tileReady:function(e,t,r){t&&this.fire("tileerror",{error:t,tile:r,coords:e});var l=this._tileCoordsToKey(e);r=this._tiles[l],r&&(r.loaded=+new Date,this._map._fadeAnimated?(ze(r.el,0),pe(this._fadeFrame),this._fadeFrame=ie(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),t||(G(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),I.ielt9||!this._map._fadeAnimated?ie(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new R(this._wrapX?_(e.x,this._wrapX):e.x,this._wrapY?_(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new ee(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function yl(e){return new xi(e)}var Ut=xi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,t=k(this,t),t.detectRetina&&I.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),typeof t.subdomains=="string"&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&t===void 0&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var r=document.createElement("img");return F(r,"load",h(this._tileOnLoad,this,t,r)),F(r,"error",h(this._tileOnError,this,t,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(e),r},getTileUrl:function(e){var t={r:I.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return S(this._url,a(t,this.options))},_tileOnLoad:function(e,t){I.ielt9?setTimeout(h(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,r){var l=this.options.errorTileUrl;l&&t.getAttribute("src")!==l&&(t.src=l),e(r,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,r=this.options.zoomReverse,l=this.options.zoomOffset;return r&&(e=t-e),e+l},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=g,t.onerror=g,!t.complete)){t.src=$;var r=this._tiles[e].coords;me(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:r})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",$),xi.prototype._removeTile.call(this,e)},_tileReady:function(e,t,r){if(!(!this._map||r&&r.getAttribute("src")===$))return xi.prototype._tileReady.call(this,e,t,r)}});function Ms(e,t){return new Ut(e,t)}var zs=Ut.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=a({},this.defaultWmsParams);for(var l in t)l in this.options||(r[l]=t[l]);t=k(this,t);var c=t.detectRetina&&I.retina?2:1,p=this.getTileSize();r.width=p.x*c,r.height=p.y*c,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Ut.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),r=this._crs,l=fe(r.project(t[0]),r.project(t[1])),c=l.min,p=l.max,v=(this._wmsVersion>=1.3&&this._crs===Cs?[c.y,c.x,p.y,p.x]:[c.x,c.y,p.x,p.y]).join(","),y=Ut.prototype.getTileUrl.call(this,e);return y+x(this.wmsParams,y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(e,t){return a(this.wmsParams,e),t||this.redraw(),this}});function wl(e,t){return new zs(e,t)}Ut.WMS=zs,Ms.wms=wl;var nt=Ze.extend({options:{padding:.1},initialize:function(e){k(this,e),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),G(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var r=this._map.getZoomScale(t,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),c=this._map.project(this._center,t),p=l.multiplyBy(-r).add(c).subtract(this._map._getNewPixelOrigin(e,t));I.any3d?wt(this._container,p,r):ye(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),r=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new ee(r,r.add(t.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Rs=nt.extend({options:{tolerance:0},getEvents:function(){var e=nt.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){nt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");F(e,"mousemove",this._onMouseMove,this),F(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),F(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){pe(this._redrawRequest),delete this._ctx,me(this._container),ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var t in this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){nt.prototype._update.call(this);var e=this._bounds,t=this._container,r=e.getSize(),l=I.retina?2:1;ye(t,e.min),t.width=l*r.x,t.height=l*r.y,t.style.width=r.x+"px",t.style.height=r.y+"px",I.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){nt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[f(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,r=t.next,l=t.prev;r?r.prev=l:this._drawLast=l,l?l.next=r:this._drawFirst=r,delete e._order,delete this._layers[f(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var t=e.options.dashArray.split(/[, ]+/),r=[],l,c;for(c=0;c<t.length;c++){if(l=Number(t[c]),isNaN(l))return;r.push(l)}e.options._dashArray=r}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||ie(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var r=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)e=l.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var r,l,c,p,v=e._parts,y=v.length,b=this._ctx;if(y){for(b.beginPath(),r=0;r<y;r++){for(l=0,c=v[r].length;l<c;l++)p=v[r][l],b[l?"lineTo":"moveTo"](p.x,p.y);t&&b.closePath()}this._fillStroke(b,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var t=e._point,r=this._ctx,l=Math.max(Math.round(e._radius),1),c=(Math.max(Math.round(e._radiusY),1)||l)/l;c!==1&&(r.save(),r.scale(1,c)),r.beginPath(),r.arc(t.x,t.y/c,l,0,Math.PI*2,!1),c!==1&&r.restore(),this._fillStroke(r,e)}},_fillStroke:function(e,t){var r=t.options;r.fill&&(e.globalAlpha=r.fillOpacity,e.fillStyle=r.fillColor||r.color,e.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=r.opacity,e.lineWidth=r.weight,e.strokeStyle=r.color,e.lineCap=r.lineCap,e.lineJoin=r.lineJoin,e.stroke())},_onClick:function(e){for(var t=this._map.mouseEventToLayerPoint(e),r,l,c=this._drawFirst;c;c=c.next)r=c.layer,r.options.interactive&&r._containsPoint(t)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(r))&&(l=r);this._fireEvent(l?[l]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(ve(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var r,l,c=this._drawFirst;c;c=c.next)r=c.layer,r.options.interactive&&r._containsPoint(t)&&(l=r);l!==this._hoveredLayer&&(this._handleMouseOut(e),l&&(G(this._container,"leaflet-interactive"),this._fireEvent([l],e,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,r){this._map._fireDOMEvent(t,r||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var r=t.next,l=t.prev;if(r)r.prev=l;else return;l?l.next=r:r&&(this._drawFirst=r),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e)}},_bringToBack:function(e){var t=e._order;if(t){var r=t.next,l=t.prev;if(l)l.next=r;else return;r?r.prev=l:l&&(this._drawLast=l),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e)}}});function Bs(e){return I.canvas?new Rs(e):null}var ki=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),bl={_initContainer:function(){this._container=re("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(nt.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=ki("shape");G(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=ki("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;me(t),e.removeInteractiveTarget(t),delete this._layers[f(e)]},_updateStyle:function(e){var t=e._stroke,r=e._fill,l=e.options,c=e._container;c.stroked=!!l.stroke,c.filled=!!l.fill,l.stroke?(t||(t=e._stroke=ki("stroke")),c.appendChild(t),t.weight=l.weight+"px",t.color=l.color,t.opacity=l.opacity,l.dashArray?t.dashStyle=O(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=l.lineCap.replace("butt","flat"),t.joinstyle=l.lineJoin):t&&(c.removeChild(t),e._stroke=null),l.fill?(r||(r=e._fill=ki("fill")),c.appendChild(r),r.color=l.fillColor||l.color,r.opacity=l.fillOpacity):r&&(c.removeChild(r),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),r=Math.round(e._radius),l=Math.round(e._radiusY||r);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+r+","+l+" 0,"+65535*360)},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){zt(e._container)},_bringToBack:function(e){Rt(e._container)}},un=I.vml?ki:ri,Pi=nt.extend({_initContainer:function(){this._container=un("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=un("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){me(this._container),ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){nt.prototype._update.call(this);var e=this._bounds,t=e.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(t))&&(this._svgSize=t,r.setAttribute("width",t.x),r.setAttribute("height",t.y)),ye(r,e.min),r.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=un("path");e.options.className&&G(t,e.options.className),e.options.interactive&&G(t,"leaflet-interactive"),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){me(e._path),e.removeInteractiveTarget(e._path),delete this._layers[f(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,r=e.options;t&&(r.stroke?(t.setAttribute("stroke",r.color),t.setAttribute("stroke-opacity",r.opacity),t.setAttribute("stroke-width",r.weight),t.setAttribute("stroke-linecap",r.lineCap),t.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?t.setAttribute("stroke-dasharray",r.dashArray):t.removeAttribute("stroke-dasharray"),r.dashOffset?t.setAttribute("stroke-dashoffset",r.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),r.fill?(t.setAttribute("fill",r.fillColor||r.color),t.setAttribute("fill-opacity",r.fillOpacity),t.setAttribute("fill-rule",r.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,si(e._parts,t))},_updateCircle:function(e){var t=e._point,r=Math.max(Math.round(e._radius),1),l=Math.max(Math.round(e._radiusY),1)||r,c="a"+r+","+l+" 0 1,0 ",p=e._empty()?"M0 0":"M"+(t.x-r)+","+t.y+c+r*2+",0 "+c+-r*2+",0 ";this._setPath(e,p)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){zt(e._path)},_bringToBack:function(e){Rt(e._path)}});I.vml&&Pi.include(bl);function Ds(e){return I.svg||I.vml?new Pi(e):null}ne.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var t=this._paneRenderers[e];return t===void 0&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Bs(e)||Ds(e)}});var Ns=Nt.extend({initialize:function(e,t){Nt.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=he(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function xl(e,t){return new Ns(e,t)}Pi.create=un,Pi.pointsToPath=si,it.geometryToLayer=tn,it.coordsToLatLng=dr,it.coordsToLatLngs=nn,it.latLngToCoords=fr,it.latLngsToCoords=rn,it.getFeature=Zt,it.asFeature=sn,ne.mergeOptions({boxZoom:!0});var Zs=Ve.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){F(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){me(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),mi(),Kn(),this._startPoint=this._map.mouseEventToContainerPoint(e),F(document,{contextmenu:kt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=re("div","leaflet-zoom-box",this._container),G(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new ee(this._point,this._startPoint),r=t.getSize();ye(this._box,t.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(me(this._box),ve(this._container,"leaflet-crosshair")),_i(),Jn(),ce(document,{contextmenu:kt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var t=new _e(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ne.addInitHook("addHandler","boxZoom",Zs),ne.mergeOptions({doubleClickZoom:!0});var Us=Ve.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,r=t.getZoom(),l=t.options.zoomDelta,c=e.originalEvent.shiftKey?r-l:r+l;t.options.doubleClickZoom==="center"?t.setZoom(c):t.setZoomAround(e.containerPoint,c)}});ne.addInitHook("addHandler","doubleClickZoom",Us),ne.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fs=Ve.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new ht(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}G(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ve(this._map._container,"leaflet-grab"),ve(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=he(this._map.options.maxBounds);this._offsetLimit=fe(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),r=this._initialWorldOffset,l=this._draggable._newPos.x,c=(l-t+r)%e+t-r,p=(l+t+r)%e-t-r,v=Math.abs(c+r)<Math.abs(p+r)?c:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(e){var t=this._map,r=t.options,l=!r.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),l)t.fire("moveend");else{this._prunePositions(+new Date);var c=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,v=r.easeLinearity,y=c.multiplyBy(v/p),b=y.distanceTo([0,0]),C=Math.min(r.inertiaMaxSpeed,b),j=y.multiplyBy(C/b),N=C/(r.inertiaDeceleration*v),X=j.multiplyBy(-N/2).round();!X.x&&!X.y?t.fire("moveend"):(X=t._limitOffset(X,t.options.maxBounds),ie(function(){t.panBy(X,{duration:N,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});ne.addInitHook("addHandler","dragging",Fs),ne.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hs=Ve.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),F(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,r=e.scrollTop||t.scrollTop,l=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(l,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t=this._panKeys={},r=this.keyCodes,l,c;for(l=0,c=r.left.length;l<c;l++)t[r.left[l]]=[-1*e,0];for(l=0,c=r.right.length;l<c;l++)t[r.right[l]]=[e,0];for(l=0,c=r.down.length;l<c;l++)t[r.down[l]]=[0,e];for(l=0,c=r.up.length;l<c;l++)t[r.up[l]]=[0,-1*e]},_setZoomDelta:function(e){var t=this._zoomKeys={},r=this.keyCodes,l,c;for(l=0,c=r.zoomIn.length;l<c;l++)t[r.zoomIn[l]]=e;for(l=0,c=r.zoomOut.length;l<c;l++)t[r.zoomOut[l]]=-e},_addHooks:function(){F(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=e.keyCode,r=this._map,l;if(t in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(l=this._panKeys[t],e.shiftKey&&(l=z(l).multiplyBy(3)),r.options.maxBounds&&(l=r._limitOffset(z(l),r.options.maxBounds)),r.options.worldCopyJump){var c=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(l)));r.panTo(c)}else r.panBy(l)}else if(t in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t]);else if(t===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;kt(e)}}});ne.addInitHook("addHandler","keyboard",Hs),ne.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ws=Ve.extend({addHooks:function(){F(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=ms(e),r=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var l=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),l),kt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),r=this._map.options.zoomSnap||0;e._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),c=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,p=r?Math.ceil(c/r)*r:c,v=e._limitZoom(t+(this._delta>0?p:-p))-t;this._delta=0,this._startTime=null,v&&(e.options.scrollWheelZoom==="center"?e.setZoom(t+v):e.setZoomAround(this._lastMousePos,t+v))}});ne.addInitHook("addHandler","scrollWheelZoom",Ws);var kl=600;ne.mergeOptions({tapHold:I.touchNative&&I.safari&&I.mobile,tapTolerance:15});var qs=Ve.extend({addHooks:function(){F(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var t=e.touches[0];this._startPos=this._newPos=new R(t.clientX,t.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(F(document,"touchend",Pe),F(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),kl),F(document,"touchend touchcancel contextmenu",this._cancel,this),F(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){ce(document,"touchend",Pe),ce(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),ce(document,"touchend touchcancel contextmenu",this._cancel,this),ce(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new R(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var r=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});r._simulated=!0,t.target.dispatchEvent(r)}});ne.addInitHook("addHandler","tapHold",qs),ne.mergeOptions({touchZoom:I.touch,bounceAtZoomLimits:!0});var Vs=Ve.extend({addHooks:function(){G(this._map._container,"leaflet-touch-zoom"),F(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(!(!e.touches||e.touches.length!==2||t._animatingZoom||this._zooming)){var r=t.mouseEventToContainerPoint(e.touches[0]),l=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),t.options.touchZoom!=="center"&&(this._pinchStartLatLng=t.containerPointToLatLng(r.add(l)._divideBy(2))),this._startDist=r.distanceTo(l),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),F(document,"touchmove",this._onTouchMove,this),F(document,"touchend touchcancel",this._onTouchEnd,this),Pe(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var t=this._map,r=t.mouseEventToContainerPoint(e.touches[0]),l=t.mouseEventToContainerPoint(e.touches[1]),c=r.distanceTo(l)/this._startDist;if(this._zoom=t.getScaleZoom(c,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&c<1||this._zoom>t.getMaxZoom()&&c>1)&&(this._zoom=t._limitZoom(this._zoom)),t.options.touchZoom==="center"){if(this._center=this._startLatLng,c===1)return}else{var p=r._add(l)._divideBy(2)._subtract(this._centerPoint);if(c===1&&p.x===0&&p.y===0)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),pe(this._animRequest);var v=h(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ie(v,this,!0),Pe(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,pe(this._animRequest),ce(document,"touchmove",this._onTouchMove,this),ce(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ne.addInitHook("addHandler","touchZoom",Vs),ne.BoxZoom=Zs,ne.DoubleClickZoom=Us,ne.Drag=Fs,ne.Keyboard=Hs,ne.ScrollWheelZoom=Ws,ne.TapHold=qs,ne.TouchZoom=Vs,n.Bounds=ee,n.Browser=I,n.CRS=$e,n.Canvas=Rs,n.Circle=cr,n.CircleMarker=en,n.Class=Z,n.Control=Ne,n.DivIcon=Is,n.DivOverlay=Ge,n.DomEvent=Za,n.DomUtil=Da,n.Draggable=ht,n.Evented=ge,n.FeatureGroup=et,n.GeoJSON=it,n.GridLayer=xi,n.Handler=Ve,n.Icon=Dt,n.ImageOverlay=on,n.LatLng=ae,n.LatLngBounds=_e,n.Layer=Ze,n.LayerGroup=Bt,n.LineUtil=el,n.Map=ne,n.Marker=Qi,n.Mixin=Ga,n.Path=ct,n.Point=R,n.PolyUtil=Ka,n.Polygon=Nt,n.Polyline=tt,n.Popup=an,n.PosAnimation=_s,n.Projection=tl,n.Rectangle=Ns,n.Renderer=nt,n.SVG=Pi,n.SVGOverlay=$s,n.TileLayer=Ut,n.Tooltip=ln,n.Transformation=$t,n.Util=Qe,n.VideoOverlay=js,n.bind=h,n.bounds=fe,n.canvas=Bs,n.circle=ul,n.circleMarker=ll,n.control=yi,n.divIcon=vl,n.extend=a,n.featureGroup=sl,n.geoJSON=Os,n.geoJson=dl,n.gridLayer=yl,n.icon=ol,n.imageOverlay=fl,n.latLng=J,n.latLngBounds=he,n.layerGroup=rl,n.map=Ua,n.marker=al,n.point=z,n.polygon=cl,n.polyline=hl,n.popup=_l,n.rectangle=xl,n.setOptions=k,n.stamp=f,n.svg=Ds,n.svgOverlay=ml,n.tileLayer=Ms,n.tooltip=gl,n.transformation=ut,n.version=s,n.videoOverlay=pl;var Pl=window.L;n.noConflict=function(){return window.L=Pl,this},window.L=n})})(Nr,Nr.exports);var od=Nr.exports;const _n=nh(od);var ad=oe('<div class="p-6 bg-gray-50 dark:bg-gray-900 rounded-3xl"><h1 class="text-3xl font-bold text-center mb-6 text-gray-800 dark:text-white">PROGRAM</h1><div class="bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-6"><div class="flex justify-center items-center mb-4"><div id=map-container class="w-full h-96 bg-gray-300 dark:bg-gray-700 rounded-lg overflow-hidden border-4 border-gray-500"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="bg-gray-100 dark:bg-gray-600 p-4 rounded-lg shadow-md transition-transform transform hover:scale-105"><h2 class="text-lg font-semibold mb-2 text-gray-800 dark:text-white">Podaci o avionu</h2><p class="text-gray-700 dark:text-gray-300"><strong>Kut X do aviona: <!></strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Kut Y do aviona: <!></strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Koordinate aviona: <!>, <!></strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Zrana udaljenost: <!>m</strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Vaa Elevacija: <!>m</strong></p></div><div class="bg-gray-100 dark:bg-gray-600 p-4 rounded-lg shadow-md transition-transform transform hover:scale-105"><h2 class="text-lg font-semibold mb-2 text-gray-800 dark:text-white">Nagib ureaja</h2><p class="text-gray-700 dark:text-gray-300"><strong>Alpha (Z os): <!></strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Beta (X os): <!></strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Gamma (Y os): <!></strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Kut gledanja: <!> + 5.3</strong></p></div></div><div class="flex justify-center mt-6"><audio id=audiosuccess src=src/assets/bingo.mp3></audio><audio id=audiofail src=src/assets/fail.mp3></audio><button class="bg-blue-600 text-white font-semibold py-2 px-4 w-full rounded-lg shadow-md hover:bg-blue-700 transition duration-200">Skeniraj</button></div><div class="top-16 mt-2 col-span-1 md:col-span-2 flex justify-start w-full"><div class="space-y-2 w-full">'),ld=oe('<div><div class="whitespace-normal w-full">');const[ud,hd]=M(!1),[cd,wo]=M([]),[Gt,dd]=M(null),[Kt,fd]=M(null),[bo,pd]=M(0),[Tr,md]=M(0),[xo,_d]=M(0),[ko,Po]=M(null),[gd,vd]=M(null),[yd,wd]=M(null),[bd,xd]=M(null),[kd,Pd]=M(null),[Li,Td]=M(0),[Ci,Sd]=M(0),[Sr,To]=M(0),[So,Ld]=M(0),[Cd,Ed]=M(0),[Ad,Od]=M(0),[Qf,jd]=M(0),[ep,$d]=M(0),[tp,Id]=M(0),[Lo,Co]=M(0),[Md,zd]=M(0),[Rd,Bd]=M(0),[Dd,Nd]=M(0),[Zd,Ud]=M(0),[Fd,Hd]=M(0);function Wd(o){const i=new Date(o);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(i)}async function pt(o,i,n){const s={message:o,type:i};wo(a=>[...a,s]),setTimeout(()=>{wo(a=>a.filter(u=>u!==s))},n)}async function qd(o){o===!1&&hd(!0)}function Vd(o){const[i,n]=M(null),s=x=>{const T=_n.map(x,{zoomControl:!1,attributionControl:!1}).setView([51.505,-.09],13);_n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(T),navigator.geolocation?navigator.geolocation.getCurrentPosition(S=>{const{latitude:O,longitude:A}=S.coords;T.setView([O,A],13),_n.marker([O,A]).addTo(T).bindPopup("Vaa trenutna lokacija").openPopup()},S=>{console.error("Geolokacija nije dostupna: ",S)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):console.error("Geolokacija nije podrana u ovom pregledniku"),n(T)};Ln(()=>{i()&&i().remove()});const a=()=>{window.DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(x=>{x==="granted"?window.addEventListener("deviceorientationabsolute",T=>{if(T.alpha!==null){let S=T.alpha;S<0&&(S+=360),S=S.toFixed(2),Math.abs(Tr)<45&&Math.abs(xo)<45?Po(bo):console.log("Ignoring alpha changes due to significant tilt.")}else pt("Magnetic heading is not available","error",5e3)}):pt("Permission denied for device orientation","error",5e3)}).catch(x=>{console.error("Error requesting device orientation permission:",x),pt("Device orientation permission error","error",5e3)}):window.DeviceOrientationEvent?window.addEventListener("deviceorientationabsolute",x=>{if(x.alpha!==null){let T=x.alpha,S=x.beta,O=x.gamma;T=(T+360)%360,T<0&&(T+=360),(T>0&&T<180||T>0&&T>180)&&(T=360-T),T=T.toFixed(2),Math.abs(S)<45&&Math.abs(O)<45&&Po(T)}else pt("Nismo u mogunosti pronai Vau orijentaciju.","error",5e3)}):pt("DeviceOrientation nije podran.","error",5e3)};async function u(x,T,S,O){let A=Math.atan2(S-x,O-T);A=(A*(180/Math.PI)+360)%360,console.log("bearing je: ",A),Td(A)}function h(){return new Promise((x,T)=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(S=>{const O=S.coords.latitude,A=S.coords.longitude;dd(O),fd(A),console.log("LATITUDA I LONGITUDA KORISNIK: ",Gt(),Kt()),x()},S=>{console.error("Error fetching geolocation:",S),T(S)}):console.log("Geolocation is not supported")})}const d=x=>{pd(x.alpha),md(x.beta),_d(x.gamma)};Nl(()=>{pt("Kako bi ste koristili magnetometar, posjetite lokaciju chrome://flags ili edge://flags te dozvolite rad magnetometra!","info",1e4),a();const x=document.getElementById("map-container");return x&&s(x),window.addEventListener("deviceorientation",d),()=>{window.removeEventListener("deviceorientation",d)}});function f(x,T){vd(x+9.72009720099/60),wd(x-9.72009720099/60);const S=9.72009720099/60*Math.cos(x*Math.PI/180);xd(T+S),Pd(T-S),console.log("Okvir gledanja",gd(),yd(),bd(),kd())}async function m(x,T){try{const S=await sd(x,T);S!==null?Ld(S):console.log("API za elevaciju vratio je null vrijednost")}catch(S){console.error("Greka pri pokuaju dohvaanja elevacije: ",S)}}async function _(x,T,S,O,A,$,B,W){const q=S*(Math.PI/180),Y=O*(Math.PI/180),ie=x*(Math.PI/180),pe=T*(Math.PI/180),Qe=ie-q,Z=pe-Y,Q=Math.sin(Qe/2)**2+Math.cos(q)*Math.cos(ie)*Math.sin(Z/2)**2,ge=6371e3*(2*Math.asin(Math.sqrt(Q)));ge!=0?To(ge):ge===null?console.log("UdaljenostZRC je null, provjeriti funkciju skeniranje"):To(A);const R=A-B,Ce=Math.atan(Sr()/R)*(180/Math.PI);console.log("ZRACNA UDALJENOST JE:",Sr()),console.log("KUT Y JE",Ce),console.log("VISINA JE:",A),Sd(Ce),u(Gt(),Kt(),Ad(),Cd());const z=Ci()+5,ee=Ci()-5,fe=Li()+5,_e=Li()-5;if(console.log("Gornja i donja granica kuta x:",fe,_e),console.log("Gornja i donja granica kuta y:",z,ee),$>=ee&&$<=z&&W>=_e&&W<=fe){var he=document.getElementById("audiosuccess");he.play(),error?console.error("Greka pri spremanju podataka u bazu:",error.message):console.log("Podaci spremljeni u bazu"),error&&console.log(error,"Greka prilikom slanja u BP")}else{var he=document.getElementById("audiofail");he.play(),pt("Avion se ne nalazi u traenom zranom prostoru","error",5e3);let J=Math.min(Math.abs(Ci()-$),360-Math.abs(Ci()-$)),$e=Math.min(Math.abs(Li()-W),360-Math.abs(Li()-W)),Se=J+$e;Lo()===null?Co(Se):Lo()<Se&&(Co(Se),zd(Ci().toFixed(2)),Bd(Li().toFixed(2)),Nd(S.toFixed(2)),Ud(O.toFixed(2)),Hd(Sr().toFixed(2)))}}const[g,w]=M(!1),P="${flightRadarKey}",E=async()=>{w(!0);try{const T=await rd(P,"50.682,46.218,14.422,22.243");T!==null&&T.forEach(async S=>{const O=S.lat,A=S.lon,$=(S.alt/3.28).toFixed(2),B=Math.round(S.brz*1.852),W=S.modelA,U=S.call;Jd(O,A,$,B,U,W),Od(O),Ed(A),jd($),$d(B),Id(W),_n.marker([O,A]).addTo(i()).bindPopup(`
            <div class="text-xs p-2 max-w-xs">
              <strong>Let:</strong> ${U}<br>
              <strong>Zrakoplov:</strong> ${W}<br>
              <strong>Altituda:</strong> ${$} m
            </div>  `).openPopup(),_(Gt(),Kt(),O,A,$,Tr(),So(),ko()),console.log("Podaci o avionu:: ",S)})}catch(x){console.error("Failed to fetch flight data:",x)}finally{w(!1)}};async function k(){await h(),f(Gt(),Kt()),await m(Gt(),Kt()),await E(),console.log("Korisnikova lokacija: ",Gt(),Kt())}return(()=>{var x=ad(),T=x.firstChild,S=T.nextSibling,O=S.firstChild,A=O.nextSibling,$=A.firstChild,B=$.firstChild,W=B.nextSibling,U=W.firstChild,q=U.firstChild,Y=q.nextSibling;Y.nextSibling;var ie=W.nextSibling,pe=ie.firstChild,Qe=pe.firstChild,Z=Qe.nextSibling;Z.nextSibling;var Q=ie.nextSibling,V=Q.firstChild,ge=V.firstChild,R=ge.nextSibling,Ce=R.nextSibling,z=Ce.nextSibling;z.nextSibling;var ee=Q.nextSibling,fe=ee.firstChild,_e=fe.firstChild,he=_e.nextSibling;he.nextSibling;var ae=ee.nextSibling,J=ae.firstChild,$e=J.firstChild,Se=$e.nextSibling;Se.nextSibling;var Bi=$.nextSibling,ii=Bi.firstChild,$t=ii.nextSibling,ut=$t.firstChild,ni=ut.firstChild,Di=ni.nextSibling;Di.nextSibling;var ri=$t.nextSibling,si=ri.firstChild,oi=si.firstChild,gt=oi.nextSibling;gt.nextSibling;var Ni=ri.nextSibling,ai=Ni.firstChild,li=ai.firstChild,ui=li.nextSibling;ui.nextSibling;var Zi=Ni.nextSibling,Ui=Zi.firstChild,Dn=Ui.firstChild,It=Dn.nextSibling;It.nextSibling;var hi=A.nextSibling,Fi=hi.firstChild,Nn=Fi.nextSibling,Hi=Nn.nextSibling,Wi=hi.nextSibling,Zn=Wi.firstChild;return H(U,Rd,Y),H(pe,Md,Z),H(V,Dd,R),H(V,Zd,z),H(fe,Fd,he),H(J,So,Se),H(ut,()=>xo().toFixed(2),Di),H(si,()=>bo().toFixed(2),gt),H(ai,()=>Tr().toFixed(2),ui),H(Ui,ko,It),Hi.$$click=k,H(Zn,()=>cd().map((vt,ci)=>(()=>{var yt=ld(),Un=yt.firstChild;return Ye(yt,"key",ci),H(Un,()=>vt.message),be(()=>An(yt,`p-4 rounded ${vt.type==="error"?"bg-red-600":vt.type==="success"?"bg-green-700":vt.type==="info"?"bg-blue-400":""} text-white shadow-md`)),yt})())),x})()}De(["click"]);const Gd="https://jgzhrmujjmcuanvbufwh.supabase.co",Kd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnemhybXVqam1jdWFudmJ1ZndoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM3NjcyNDksImV4cCI6MjA0OTM0MzI0OX0.GX-LLe2w4zDA8_lHv8HVY15PikbGNo9Tnz-WzB-ZwvI",He=nd(Gd,Kd);async function Jd(o,i,n,s,a,u){const{error:h}=await He.from("AvioniNadjeno").insert([{latitude:o,longitude:i,altitude:n,speed:s,callsign:a,model:u}]);qd(ud()),h?console.error("Greka pri spremanju podataka u bazu:",h.message):(console.log("Podaci spremljeni u bazu"),pt("Podaci su spremljeni u bazu podataka.","success",5e3))}async function Yd(){const{data:o,error:i}=await He.from("AvioniNadjeno").select("*").order("id",{ascending:!1}).limit(5);return i?(console.error("Greka pri dohvaanju aviona:",i.message),[]):(console.log("Dohvaeni podaci:",o),o)}const ma=Ur();function lt(){return Cn(ma)}function Xd(o){const[i,n]=M(null),[s,a]=M(!0),u=async()=>{const{data:h,error:d}=await He.auth.getSession();d&&console.error("Error fetching session:",d),n(h),a(!1)};return He.auth.onAuthStateChange((h,d)=>{console.log(h,d),h==="SIGNED_IN"||h==="USER_UPDATED"?(n(d),a(!1)):h==="SIGNED_OUT"?(n(null),a(!1)):h==="INITIAL_SESSION"&&a(!1)}),u(),D(Wr,{get when(){return!s()},get children(){return D(ma.Provider,{value:i,get children(){return o.children}})}})}const Tn="/ZavrsniV2/assets/planefav-DkQTzJrY.png";var Qd=oe('<nav class="bg-white border-gray-200 dark:bg-gray-900"><div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"><a href=/Pocetna class="flex items-center space-x-3 rtl:space-x-reverse"><img class=h-8 alt="Flowbite Logo"><span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">Plane Spotter</span></a><button class="md:hidden p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-200"aria-label="Open mobile menu"><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16"></path></svg></button><div><ul class="flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700"><li><a href=/Pocetna class="block py-2 px-3 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500">Pocetna</a></li><li class=relative><button id=dropdownNavbarLink class="flex items-center justify-between w-full py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto dark:text-white md:dark:hover:text-blue-500 dark:focus:text-white dark:border-gray-700 dark:hover:bg-gray-700 md:dark:hover:bg-transparent">Izbornik<svg class="w-2.5 h-2.5 ms-2.5"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 10 6"><path stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m1 1 4 4 4-4"></path></svg></button></li><li><a href=/Onama class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto dark:text-white md:dark:hover:text-blue-500 dark:focus:text-white dark:border-gray-700 dark:hover:bg-gray-700 md:dark:hover:bg-transparent">O nama</a></li><li><a href=/Kontakt class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto dark:text-white md:dark:hover:text-blue-500 dark:focus:text-white dark:border-gray-700 dark:hover:bg-gray-700 md:dark:hover:bg-transparent">Kontakt</a></li><li><a href=/Racun class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto dark:text-white md:dark:hover:text-blue-500 dark:focus:text-white dark:border-gray-700 dark:hover:bg-gray-700 md:dark:hover:bg-transparent">Raun'),ef=oe('<div class="bg-gray-800 text-gray-100 min-h-screen"><div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8">'),tf=oe('<footer footer class="bg-white dark:bg-gray-900"><div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8"><div class="md:flex md:justify-between"><div class="mb-6 md:mb-0"><a href=https://flowbite.com/ class="flex items-center"><img class="h-8 me-3"alt="FlowBite Logo"><span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">Plane Spotter</span></a></div><div class="grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3"><div><h2 class="mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white">Izvori</h2><ul class="text-gray-500 dark:text-gray-400 font-medium"><li class=mb-4><a href=https://flowbite.com/ class=hover:underline>Flowbite</a></li><li><a href=https://tailwindcss.com/ class=hover:underline>Tailwind CSS</a></li></ul></div><div><h2 class="mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white">Pratite nas</h2><ul class="text-gray-500 dark:text-gray-400 font-medium"><li class=mb-4><a href=https://github.com/themesberg/flowbite class="hover:underline ">Github</a></li><li><a href=https://discord.gg/4eeurUVvTy class=hover:underline>Discord</a></li></ul></div><div><h2 class="mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white">Prava</h2><ul class="text-gray-500 dark:text-gray-400 font-medium"><li class=mb-4><a href=# class=hover:underline>Privacy Policy</a></li><li><a href=# class=hover:underline>Terms &amp; Conditions</a></li></ul></div></div></div><hr class="my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"><div class="sm:flex sm:items-center sm:justify-between"><span class="text-sm text-gray-500 sm:text-center dark:text-gray-400"> <a href=https://ss-obrtnicka-koprivnica.skole.hr/ class=hover:underline> OBSCK</a> Sva prada podrana.</span><div class="flex mt-4 sm:justify-center sm:mt-0"><a href=# class="text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5"><svg class="w-4 h-4"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"clip-rule=evenodd></path></svg><span class=sr-only>GitHub account</span></a><a href=# class="text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5"><svg class="w-4 h-4"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 8 19"><path fill-rule=evenodd d="M6.135 3H8V0H6.135a4.147 4.147 0 0 0-4.142 4.142V6H0v3h2v9.938h3V9h2.021l.592-3H5V3.591A.6.6 0 0 1 5.592 3h.543Z"clip-rule=evenodd></path></svg><span class=sr-only>Facebook page'),nf=oe('<div id=dropdownNavbar class="absolute left-0 top-full mt-1 z-10 font-normal bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600"><ul class="py-2 text-sm text-gray-700 dark:text-gray-400"aria-labelledby=dropdownNavbarLink><li><a href=/Program class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Program</a></li><li><a href=/Informacije class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Informacije</a></li><li><a href=/Upute class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Upute');function St(o){const[i,n]=M(!1),[s,a]=M(!1),[u,h]=M(!1),d=()=>{a(!s()),n(!1)},f=()=>{h(!u())};return lt(),[(()=>{var m=Qd(),_=m.firstChild,g=_.firstChild,w=g.firstChild,P=g.nextSibling,E=P.nextSibling,k=E.firstChild,x=k.firstChild,T=x.nextSibling,S=T.firstChild;return Ye(w,"src",Tn),P.$$click=f,S.$$click=d,H(T,(()=>{var O=le(()=>!!s());return()=>O()&&nf()})(),null),be(()=>An(E,`md:flex ${u()?"block":"hidden"} w-full md:w-auto`)),m})(),(()=>{var m=ef(),_=m.firstChild;return H(_,()=>o.children),m})(),(()=>{var m=tf(),_=m.firstChild,g=_.firstChild,w=g.firstChild,P=w.firstChild,E=P.firstChild,k=g.nextSibling,x=k.nextSibling,T=x.firstChild,S=T.firstChild,O=S.nextSibling;return Ye(E,"src",Tn),H(T,()=>new Date().getFullYear(),O),m})()]}De(["click"]);var rf=oe('<div class="bg-gray-900 text-gray-100 min-h-screen"><div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8"></div><footer class="bg-gray-900 dark:bg-gray-900"><div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8">');function gn(o){return lt(),(()=>{var i=rf(),n=i.firstChild;return H(n,()=>o.children),i})()}var sf=oe('<div class="flex items-center justify-center h-screen bg-gray-900 text-gray-100"><div class="text-center p-6 bg-gray-800 shadow-lg rounded-lg"><h1 class="text-3xl font-bold text-red-500">404 - Stranica nije pronaena</h1><p class="mt-4 text-gray-300">Ova stranica ne postoji. Provjerite URL ili se vratite na poetnu stranicu.</p><button class="mt-6 px-6 py-3 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition duration-300 ease-in-out transform hover:scale-105">Vrati se na poetnu');function of(){const o=()=>{window.location.href="/"};return(()=>{var i=sf(),n=i.firstChild,s=n.firstChild,a=s.nextSibling,u=a.nextSibling;return u.$$click=o,i})()}De(["click"]);var af=oe('<div class="flex items-center justify-center h-screen bg-gray-900 text-gray-100"><div class="text-center p-6 bg-gray-800 shadow-lg rounded-lg"><h1 class="text-3xl font-bold text-red-500">Autentifikacija potrebna</h1><p class="mt-4 text-gray-300">Morate se prijaviti kako biste pristupili ovoj stranici.</p><button class="mt-6 px-6 py-3 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition duration-300 ease-in-out transform hover:scale-105">Prijava');function lf(){const o=Xe(),i=()=>{o("/Prijava")};return(()=>{var n=af(),s=n.firstChild,a=s.firstChild,u=a.nextSibling,h=u.nextSibling;return h.$$click=i,n})()}De(["click"]);var uf=oe('<img class="w-8 h-8 mr-2"alt=logo>'),hf=oe('<section class="bg-gray-50 dark:bg-gray-900"><div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><div class="w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white">Registracija</h1><form class="space-y-4 md:space-y-6"><div><label for=email class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">E-mail</label><input type=email name=email id=email class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"placeholder=name@company.com required></div><div><label for=password class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Lozinka</label><input type=password name=password id=password placeholder= class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"required></div><div><label for=confirm-password class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Potvrdite lozinku</label><input type=password name=confirm-password id=confirm-password placeholder= class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"required></div><button type=submit class="w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"></button><p class="text-sm font-light text-gray-500 dark:text-gray-400">Ve imate raun? '),cf=oe('<div class="text-red-500 text-sm">'),df=oe('<div class="text-green-500 text-sm">Raun uspjeno registriran! Preusmjeravam na prijavu...');function ff(o){const i=Xe(),[n,s]=M({email:"",password:"",confirmPassword:"",error:"",loading:!1,success:!1}),a=async u=>{if(u.preventDefault(),s({...n(),loading:!0,error:"",success:!1}),n().password!==n().confirmPassword){s({...n(),error:"Lozinke se ne poklapaju!",loading:!1});return}try{const{user:h,error:d}=await He.auth.signUp({email:n().email,password:n().password});d?s({...n(),error:`Greka prilikom registracije: ${d.message}`,loading:!1}):(s({...n(),success:!0,loading:!1}),console.log("Korisnik uspjeno registriran:",h),i("/prijava"))}catch{s({...n(),error:"Dolo je do pogreke pri registraciji.",loading:!1})}};return(()=>{var u=hf(),h=u.firstChild,d=h.firstChild,f=d.firstChild,m=f.firstChild,_=m.nextSibling,g=_.firstChild,w=g.firstChild,P=w.nextSibling,E=g.nextSibling,k=E.firstChild,x=k.nextSibling,T=E.nextSibling,S=T.firstChild,O=S.nextSibling,A=T.nextSibling,$=A.nextSibling;return $.firstChild,H(h,D(no,{href:"/",className:"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white",get children(){return[(()=>{var B=uf();return Ye(B,"src",Tn),B})(),"Plane Spotter"]}}),d),_.addEventListener("submit",a),P.$$input=B=>s({...n(),email:B.target.value}),x.$$input=B=>s({...n(),password:B.target.value}),O.$$input=B=>s({...n(),confirmPassword:B.target.value}),H(_,(()=>{var B=le(()=>!!n().error);return()=>B()&&(()=>{var W=cf();return H(W,()=>n().error),W})()})(),A),H(_,(()=>{var B=le(()=>!!n().success);return()=>B()&&df()})(),A),H(A,()=>n().loading?"Registracija...":"Registracija"),H($,D(no,{href:"/prijava",className:"font-medium text-primary-600 hover:underline dark:text-primary-500",children:"Prijavite se ovdje."}),null),be(()=>A.disabled=n().loading),be(()=>P.value=n().email),be(()=>x.value=n().password),be(()=>O.value=n().confirmPassword),u})()}De(["input"]);var pf=oe('<section class="bg-gray-50 dark:bg-gray-900"><div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href=# class="flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white"><img class="w-8 h-8 mr-2"alt=logo>Plane Spotter</a><div class="w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white">Prijava</h1><form class="space-y-4 md:space-y-6"><div><label for=email class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">E-mail</label><input type=email name=email id=email class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"placeholder=name@company.com required></div><div><label for=password class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Lozinka</label><input type=password name=password id=password placeholder= class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"required></div><div class="flex items-center justify-between"><div class="flex items-start"><div class="flex items-center h-5"><input id=remember aria-describedby=remember type=checkbox class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800"></div><div class="ml-3 text-sm"><label for=remember class=" text-gray-500 dark:text-gray-300">Zapamti podatke</label></div></div><a href=# class="text-sm font-medium text-primary-600 hover:underline dark:text-primary-500">Zaboravljena lozinka?</a></div><button type=submit class="w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"></button><p class="text-sm font-light text-gray-500 dark:text-gray-400">Nemate raun? <a href=/ class="font-medium text-primary-600 hover:underline dark:text-primary-500">Registracija'),mf=oe('<div class="text-red-500 text-sm">');function _f(o){const[i,n]=M(""),[s,a]=M(""),[u,h]=M(""),[d,f]=M(!1),[m,_]=M(!1),g=Xe(),w=async P=>{P.preventDefault(),f(!0),h("");try{const{error:E}=await He.auth.signInWithPassword({email:i(),password:s()});E?(h("Neispravni podaci za prijavu."),console.log(E.message)):g("/pocetna")}catch(E){h("Dolo je do pogreke pri prijavi."),console.error(E)}finally{f(!1)}};return(()=>{var P=pf(),E=P.firstChild,k=E.firstChild,x=k.firstChild,T=k.nextSibling,S=T.firstChild,O=S.firstChild,A=O.nextSibling,$=A.firstChild,B=$.firstChild,W=B.nextSibling,U=$.nextSibling,q=U.firstChild,Y=q.nextSibling,ie=U.nextSibling,pe=ie.firstChild,Qe=pe.firstChild,Z=Qe.firstChild,Q=ie.nextSibling;return Ye(x,"src",Tn),A.addEventListener("submit",w),W.$$input=V=>n(V.target.value),Y.$$input=V=>a(V.target.value),Z.addEventListener("change",V=>_(V.target.checked)),H(A,(()=>{var V=le(()=>!!u());return()=>V()&&(()=>{var ge=mf();return H(ge,u),ge})()})(),Q),H(Q,()=>d()?"Prijava...":"Prijava"),be(()=>Q.disabled=d()),be(()=>W.value=i()),be(()=>Y.value=s()),be(()=>Z.checked=m()),P})()}De(["input"]);var gf=oe('<div class="min-h-screen bg-gradient-to-r from-blue-600 via-blue-500 to-blue-400 flex flex-col justify-center items-center text-white"><div class="text-center p-6"><h1 class="font-mono text-5xl font-bold mb-4">Dobrodoli na Planespotter</h1><p class="text-lg mb-8">Ova aplikacija omoguava skeniranje neba i praenje aviona u stvarnom vremenu. Saznajte vie o letovima u vaem podruju!');function vf(){const o=lt(),i=Xe();return ot(()=>{o()===null&&i("/AuthError")}),gf()}var yf=oe('<div class="mt-5 flex flex-column sm:flex-row flex-wrap space-y-4 sm:space-y-0 items-center justify-between pb-4"><div><button id=dropdownRadioButton data-dropdown-toggle=dropdownRadio class="inline-flex items-center text-gray-500 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-3 py-1.5 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"type=button><svg class="w-3 h-3 text-gray-500 dark:text-gray-400 me-3"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm3.982 13.982a1 1 0 0 1-1.414 0l-3.274-3.274A1.012 1.012 0 0 1 9 10V6a1 1 0 0 1 2 0v3.586l2.982 2.982a1 1 0 0 1 0 1.414Z"></path></svg>Last 30 days<svg class="w-2.5 h-2.5 ms-2.5"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 10 6"><path stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m1 1 4 4 4-4"></path></svg></button><div id=dropdownRadio class="z-10 hidden w-48 bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600"data-popper-reference-hidden=""data-popper-escaped=""data-popper-placement=top style="position:absolute;inset:auto auto 0px 0px;margin:0px;transform:translate3d(522.5px, 3847.5px, 0px);"><ul class="p-3 space-y-1 text-sm text-gray-700 dark:text-gray-200"aria-labelledby=dropdownRadioButton><li><div class="flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600"><input id=filter-radio-example-1 type=radio value=""name=filter-radio class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for=filter-radio-example-1 class="w-full ms-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300">Last day</label></div></li><li><div class="flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600"><input checked=""id=filter-radio-example-2 type=radio value=""name=filter-radio class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for=filter-radio-example-2 class="w-full ms-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300">Last 7 days</label></div></li><li><div class="flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600"><input id=filter-radio-example-3 type=radio value=""name=filter-radio class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for=filter-radio-example-3 class="w-full ms-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300">Last 30 days</label></div></li><li><div class="flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600"><input id=filter-radio-example-4 type=radio value=""name=filter-radio class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for=filter-radio-example-4 class="w-full ms-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300">Last month</label></div></li><li><div class="flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600"><input id=filter-radio-example-5 type=radio value=""name=filter-radio class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for=filter-radio-example-5 class="w-full ms-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300">Last year</label></div></li></ul></div></div><label for=table-search class=sr-only>Search</label><div class=relative><div class="absolute inset-y-0 left-0 rtl:inset-r-0 rtl:right-0 flex items-center ps-3 pointer-events-none"><svg class="w-5 h-5 text-gray-500 dark:text-gray-400"aria-hidden=true fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"clip-rule=evenodd></path></svg></div><input type=text id=table-search class="block p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"placeholder="Search for items">'),wf=oe('<div class="relative overflow-x-auto shadow-md sm:rounded-lg mt-5 border-2 border-gray-200 dark:border-gray-600"><table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"><caption class="p-5 text-lg font-semibold text-left rtl:text-right text-gray-900 bg-white dark:text-white dark:bg-gray-800">Prikaz pronaenih zrakoplova<p class="mt-1 text-sm font-normal text-gray-500 dark:text-gray-400">Ovdje moete detaljnije pregledati informacije o zrakoplovima koje ste pronali.</p></caption><thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"><tr><th scope=col class="px-6 py-3">ID</th><th scope=col class="px-6 py-3">Model</th><th scope=col class="px-6 py-3">Vrijeme</th><th scope=col class="px-6 py-3">Latituda</th><th scope=col class="px-6 py-3">Longituda</th><th scope=col class="px-6 py-3">Altituda (m)</th><th scope=col class="px-6 py-3">Brzina (km/h)</th><th scope=col class="px-6 py-3">Vie informacija</th></tr></thead><tbody>'),bf=oe('<tr><td colspan=7 class="text-center py-4">Trenutno nema aviona'),xf=oe('<tr class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"><td class="px-6 py-4 font-medium text-gray-900 dark:text-white"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4">'),kf=oe('<td class="px-6 py-4"><button class="bg-yellow-600 text-white font-semibold py-2 px-4 w-full rounded-lg shadow-md hover:bg-yellow-500 transition duration-200">Proui');function Pf(o){const i=lt(),n=Xe(),[s,a]=M(window.innerWidth<1024);ot(()=>{const h=()=>a(window.innerWidth<1024);return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)}),ot(()=>{i()===null&&n("/AuthError")});const[u]=Bl(Yd);return[le(()=>le(()=>!!s())()&&D(Vd,{})),yf(),(()=>{var h=wf(),d=h.firstChild,f=d.firstChild,m=f.nextSibling,_=m.nextSibling;return H(_,D(Xl,{get each(){return u()},get fallback(){return bf()},children:g=>(()=>{var w=xf(),P=w.firstChild,E=P.nextSibling,k=E.nextSibling,x=k.nextSibling,T=x.nextSibling,S=T.nextSibling,O=S.nextSibling;return H(P,()=>g.id),H(E,()=>g.model),H(k,()=>Wd(g.time)),H(x,()=>g.latitude),H(T,()=>g.longitude),H(S,()=>g.altitude),H(O,()=>g.speed),H(w,(()=>{var A=kf(),$=A.firstChild;return $.$$click=()=>fetchFlightInfo(g.model),A})(),null),w})()})),h})()]}De(["click"]);var Tf=oe('<div class=p-8><h1 class="font-mono text-4xl mb-6">INFORMACIJE O APLIKACIJI</h1><div class=space-y-6><div><p>Ova aplikacija koristi <a href=https://www.flightradar24.com/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">Flightradar24 API</a> za skeniranje neba i prikazivanje informacija o avionima u stvarnom vremenu. Koritenjem najnovijih podataka o letovima, omoguuje korisnicima praenje avionskih ruta, visine, brzine i ostalih vanih parametara. Aplikacija omoguuje jednostavno pretraivanje i filtriranje letova na temelju razliitih kriterija.</p></div><div><p><a href=https://solidjs.com/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">SolidJS</a> je koriten za optimalne performanse aplikacije, dok su za dizajn koriteni <a href=https://tailwindcss.com/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">TailwindCSS</a> i <a href=https://flowbite.com/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">Flowbite</a>, to omoguava moderni izgled i jednostavno korisniko iskustvo.</p></div><div><p class="text-lg text-gray-700 dark:text-gray-300">Flightradar24 je jedan od najpoznatijih globalnih servisa za praenje letova, a kroz nau aplikaciju, korisnici mogu uivati u brzom pristupu podacima o avionima koji lete u njihovoj blizini. Informacije o svakom letu ukljuuju podatke o tipu aviona, visini, poziciji, brzini leta i drugim detaljima.</p></div><div><p class="text-lg text-gray-700 dark:text-gray-300">Aplikacija je dizajnirana uz pomo SolidJS-a za optimalne performanse, dok su za dizajn koriteni TailwindCSS i Flowbite, to omoguava moderni izgled i jednostavno korisniko iskustvo.');function Sf(o){const i=lt(),n=Xe();return ot(()=>{i()===null&&n("/AuthError")}),Tf()}const Lf="/ZavrsniV2/assets/logo-ChWoxeul.png";var Cf=oe('<div class=p-8><h1 class="font-mono text-4xl mb-6">O NAMA</h1><div class=space-y-6><div class="flex justify-center mb-10"><a href=https://ss-obrtnicka-koprivnica.skole.hr/><img alt=Logo class="w-40 h-auto rounded-full shadow-md transform hover:scale-110 transition-transform duration-300"></a></div><div><h2 class="text-xl font-semibold">kola</h2><p>Obrtnika kola Koprivnica</p></div><div><h2 class="text-xl font-semibold">Mentor</h2><p>Tomislav Jakupi</p></div><div><h2 class="text-xl font-semibold">Uenici</h2><p class="text-lg text-gray-700 dark:text-gray-300">Valentin Funtak <br>Noa Golubi</p></div><div><p class="text-lg text-gray-700 dark:text-gray-300">');function Ef(o){const i=lt(),n=Xe();ot(()=>{i()===null&&n("/AuthError")});const s=()=>{const{error:a}=He.auth.signOut();n("/Prijava"),a&&alert("Naalost Vas nemoemo odjaviti:",a)};return(()=>{var a=Cf(),u=a.firstChild,h=u.nextSibling,d=h.firstChild,f=d.firstChild,m=f.firstChild;return f.$$click=s,Ye(m,"src",Lf),a})()}De(["click"]);var Af=oe('<div class=p-8><h1 class="font-mono text-4xl mb-6">KONTAKT</h1><div class=space-y-6><div><h2 class="text-xl font-semibold">Obrtnika kola Koprivnica</h2><p>Posjetite <a href=https://ss-obrtnicka-koprivnica.skole.hr/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">slubenu stranicu kole</a> za vie informacija.</p></div><div><h2 class="text-xl font-semibold">GitHub rauni</h2><ul class=space-y-2><li class="flex items-center"><a href=https://github.com/valentinfuntak class="text-gray-500 hover:text-gray-900 dark:hover:text-white flex items-center"target=_blank rel="noopener noreferrer"><svg class="w-4 h-4 mr-2"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"clip-rule=evenodd></path></svg>Valentin Funtak</a></li><li class="flex items-center"><a href=https://github.com/NoaGolubic class="text-gray-500 hover:text-gray-900 dark:hover:text-white flex items-center"target=_blank rel="noopener noreferrer"><svg class="w-4 h-4 mr-2"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"clip-rule=evenodd></path></svg>Noa Golubi</a></li></ul></div><div><h2 class="text-xl font-semibold">Repozitorij zavrnog rada</h2><ul class=space-y-2><li class="flex items-center"><a href=https://github.com/valentinfuntak/ZavrsniV2 class="text-gray-500 hover:text-gray-900 dark:hover:text-white flex items-center"target=_blank rel="noopener noreferrer"><svg class="w-4 h-4 mr-2"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"clip-rule=evenodd></path></svg>Zavrni rad</a></li></ul></div><div><h2 class="text-xl font-semibold">Kontakt e-mail</h2><ul class=space-y-2><li>Valentin Funtak: <a href=mailto:valentinfuntakk@gmail.com class="text-blue-500 hover:underline">valentinfuntakk@gmail.com</a></li><li>Noa Golubi: <a href=mailto:noagolubic030606@gmail.com class="text-blue-500 hover:underline">noagolubic030606@gmail.com');function Of(o){const i=lt(),n=Xe();ot(()=>{i()===null&&n("/AuthError")});const s=()=>{const{error:a}=He.auth.signOut();n("/Prijava"),a&&alert("Naalost Vas nemoemo odjaviti:",a)};return(()=>{var a=Af(),u=a.firstChild,h=u.nextSibling,d=h.firstChild,f=d.firstChild,m=f.nextSibling,_=m.firstChild,g=_.nextSibling,w=d.nextSibling,P=w.firstChild,E=P.nextSibling,k=E.firstChild,x=k.firstChild,T=k.nextSibling,S=T.firstChild,O=w.nextSibling,A=O.firstChild,$=A.nextSibling,B=$.firstChild,W=B.firstChild;return g.$$click=s,x.$$click=s,S.$$click=s,W.$$click=s,a})()}De(["click"]);var jf=oe('<div class="max-w-screen-lg mx-auto p-6 bg-white shadow-md rounded-lg"><div class="flex flex-col sm:flex-row justify-between items-start space-y-6 sm:space-y-0 sm:space-x-4 mb-0"><div class=flex-1><h1 class="font-sans text-3xl sm:text-4xl mb-3 text-blue-600">Raun</h1><p class="text-lg font-semibold text-gray-700">Korisnik: </p></div></div><div class=" top-16 left-0 right-0 flex justify-start w-full"><div class="space-y-2 w-full">'),$f=oe('<p class="text-lg mt-2 text-gray-700"><strong>Email:</strong> '),If=oe('<div class="flex flex-col items-start sm:items-end space-y-4 sm:space-y-4"><button class="w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition">Promjeni email</button><button class="w-full bg-yellow-600 text-white py-2 px-4 rounded hover:bg-yellow-700 transition">Promjeni lozinku</button><button class="w-full bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 transition">Odjava'),Mf=oe('<div class="mt-6 bg-white p-6 shadow-md rounded-lg"><h2 class="font-sans text-xl text-gray-800">Promjena e-maila</h2><div class=mt-4><input type=email class="border-2 border-gray-300 p-2 rounded-md w-full text-black"placeholder="Unesite novu e-mail adresu"><button class="mt-4 w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition">Potvrdi promjenu emaila'),zf=oe('<div><div class="whitespace-normal w-full">');function Rf(o){const i=lt(),n=Xe();ot(()=>{i()===null&&n("/AuthError")});const[s,a]=M(""),[u,h]=M(!1),[d,f]=M(!1),[m,_]=M([]),g=(k,x,T)=>{const S={message:k,type:x};_(O=>[...O,S]),setTimeout(()=>{_(O=>O.filter(A=>A!==S))},T)},w=()=>{const{error:k}=He.auth.signOut();n("/Prijava"),k&&alert("Naalost Vas nemoemo odjaviti:",k)},P=async()=>{const k=i().user?.email;if(k){const{error:x}=await He.auth.resetPasswordForEmail(k,{redirectTo:"https://yourapp.com/update-password"});x?g("Greka pri slanju e-maila za resetiranje lozinke: "+x.message,"error",5e3):g("E-mail za resetiranje lozinke poslan!","success",5e3)}},E=async()=>{const k=s();if(k){const{data:x,error:T}=await He.auth.updateUser({email:k});T?g("Greka pri promjeni emaila: "+T.message,"error",5e3):(h(!0),g("E-mail uspjeno promijenjen. Potvrdite promjenu putem poslanog e-maila!","success",5e3))}};return(()=>{var k=jf(),x=k.firstChild,T=x.firstChild,S=T.firstChild,O=S.nextSibling;O.firstChild;var A=x.nextSibling,$=A.firstChild;return H(O,()=>i()?"Prijavljen":"Nije prijavljen",null),H(T,(()=>{var B=le(()=>!!i());return()=>B()&&(()=>{var W=$f(),U=W.firstChild;return U.nextSibling,H(W,()=>i().user?.email||"Nema emaila",null),W})()})(),null),H(x,(()=>{var B=le(()=>!!i());return()=>B()&&(()=>{var W=If(),U=W.firstChild,q=U.nextSibling,Y=q.nextSibling;return U.$$click=()=>f(!0),q.$$click=P,Y.$$click=w,W})()})(),null),H(k,(()=>{var B=le(()=>!!d());return()=>B()&&(()=>{var W=Mf(),U=W.firstChild,q=U.nextSibling,Y=q.firstChild,ie=Y.nextSibling;return Y.$$input=pe=>a(pe.target.value),ie.$$click=E,be(()=>Y.value=s()),W})()})(),A),H($,()=>m().map((B,W)=>(()=>{var U=zf(),q=U.firstChild;return Ye(U,"key",W),H(q,()=>B.message),be(()=>An(U,`p-4 mt-3 rounded ${B.type==="error"?"bg-red-600":B.type==="success"?"bg-green-700":B.type==="info"?"bg-blue-400":""} text-white shadow-md`)),U})())),k})()}De(["click","input"]);var Bf=oe('<div class=p-8><h1 class="font-mono text-4xl mb-12">Upute za koritenje</h1><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Koritenje karte</h2><p class="font-semibold mb-10">Kartu moete koristiti kako bi se mogli to lake pozicionirali.<br>Karta e uvjek prikazati va trenutani poloaj.<br>Karta se moe poveati i smanjiti gestikuliranjem.<br>Nakon pritiska na gumb "Skeniraj", na karti e se prikazati svi avioni<br>u okrugu od 30km.<br></p></div><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Alati za orijentaciju</h2><p class="font-semibold mb-10">U kuici pod nazivom "Nagib ureaja" moete vidjeti podatke o svojoj orijentaciji.<br>Ovi podaci mogu Vam biti od koristi prilikom ciljanja zrakoplova.<br>Postoje 3 osi, svaka od kojih ima svoj naziv te se njezin kut mjeri u stupnjevima.<br>Os Alpha mjeri pomak u dubinu, os Beta kruno horizontalno gibanje, a os Gamma vertikalno gibanje.<br>Kut gledanja oznauje va smjer promatranja s obzirom na magnetski sjever.<br>Kut gledanja takoer sadri dodatak, zbroj dodatka i smjera u stupnjevima udaljenost je od stvarnog sjevera.<br></p></div><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Podaci o avionu</h2><p class="font-semibold mb-10">U kuici pod nazivom "Podaci o avionu" moete pronai podatke o najbliem zrakoplov.<br>Vrijednosti ovih polja popunjavaju se kada korisnik ne pronae zrakoplov<br>nakon pritiska na gumb "Skeniraj".<br>Ovdje moete pronai podatke koji e vam pomoi da pronaete najblii zrakoplov.<br>Podaci ukljuuju: koordinate zrakoplova, Vau elevaciju, zranu udaljenost te pogodbene kuteve.<br>Pogodbeni kutevi "Kut X do aviona" i "Kut Y do aviona" moraju biti identini<br>Vaem smjeru (zajedno sa dodatkom) te kutu Gamma.<br>Tolerancija oba kuta je +/- 5.<br></p></div><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Tablini prikaz</h2><p class="font-semibold mb-10">U tablinom prikazu pojavit e se informacije o zadnjih 5 pronaenih zrakoplova.<br>Tablian prikaz nudi pregled dodatnih injenica o samom zrakoplovu.<br>Pritiskom na gumb "Proui" pokrenut ete AI asistenta koji e Vas<br>dodatno informirati o samom zrakoplovu.<br></p></div><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">este notifikacije</h2><p class="font-semibold mb-10">1) "Nismo u mogunosti pronai Vau orijentaciju" ili "DeviceOrientation nije podran":<br>Va ureaj naalost nije u mogunosti prikupiti orijentaciju.<br>2) "Avion se ne nalazi u traenom zranom prostoru":<br>Ureaj nije pravilno usmjeren prema zrakoplovu.<br>3) "Greka pri slanju e-maila za resetiranje lozinke":<br>Naalost nismo u mogunosti proslijediti e-mail, pokuajte ponovo kasnije<br></p></div><h2 class="text-xl text-yellow-600 font-semibold mb-5">elite nam postaviti pitanje?</h2><p class="font-semibold mb-10">Posjetite stranicu "kontakt" i kontaktirajte nas kako bi odgovorili na Vae pitanje!<br>Kontaktirati nas moete putem naih mail adresa.<br>Unaprijed zahvaljujemo na strpljenju!<br>');function Df(o){const i=lt(),n=Xe();return ot(()=>{i()===null&&n("/AuthError")}),Bf()}function Nf(){return D(Xd,{get children(){return D(Vu,{get children(){return[D(Ue,{path:"/",component:()=>D(gn,{get children(){return D(ff,{})}})}),D(Ue,{path:"/*",component:()=>D(gn,{get children(){return D(of,{})}})}),D(Ue,{path:"/AuthError",component:()=>D(gn,{get children(){return D(lf,{})}})}),D(Ue,{path:"/Prijava",component:()=>D(gn,{get children(){return D(_f,{})}})}),D(Ue,{path:"/Pocetna",component:()=>D(St,{get children(){return D(vf,{})}})}),D(Ue,{path:"/Program",component:()=>D(St,{get children(){return D(Pf,{})}})}),D(Ue,{path:"/Informacije",component:()=>D(St,{get children(){return D(Sf,{})}})}),D(Ue,{path:"/Onama",component:()=>D(St,{get children(){return D(Ef,{})}})}),D(Ue,{path:"/Kontakt",component:()=>D(St,{get children(){return D(Of,{})}})}),D(Ue,{path:"/Racun",component:()=>D(St,{get children(){return D(Rf,{})}})}),D(Ue,{path:"/Upute",component:()=>D(St,{get children(){return D(Df,{})}})})]}})}})}const Zf=document.getElementById("root");au(()=>D(Nf,{}),Zf);export{nh as g};
