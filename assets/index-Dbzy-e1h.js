(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();const $l=(o,i)=>o===i,wn=Symbol("solid-proxy"),Eo=typeof Proxy=="function",Il=Symbol("solid-track"),bn={equals:$l};let qo=Ro;const ut=1,xn=2,Oo={owned:null,cleanups:null,context:null,owner:null},gr={};var ae=null;let _r=null,Rl=null,ue=null,Te=null,at=null,Sn=0;function Oi(o,i){const n=ue,s=ae,a=o.length===0,u=i===void 0?s:i,h=a?Oo:{owned:null,cleanups:null,context:u?u.context:null,owner:u},d=a?o:()=>o(()=>qe(()=>$i(h)));ae=h,ue=null;try{return Qe(d,!0)}finally{ue=n,ae=s}}function $(o,i){i=i?Object.assign({},bn,i):bn;const n={value:o,observers:null,observerSlots:null,comparator:i.equals||void 0},s=a=>(typeof a=="function"&&(a=a(n.value)),Io(n,a));return[$o.bind(n),s]}function zl(o,i,n){const s=En(o,i,!0,ut);ri(s)}function be(o,i,n){const s=En(o,i,!1,ut);ri(s)}function lt(o,i,n){qo=Hl;const s=En(o,i,!1,ut);s.user=!0,at?at.push(s):ri(s)}function le(o,i,n){n=n?Object.assign({},bn,n):bn;const s=En(o,i,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,ri(s),$o.bind(s)}function Bl(o){return o&&typeof o=="object"&&"then"in o}function Dl(o,i,n){let s,a,u;s=!0,a=o,u={};let h=null,d=gr,f=!1,m="initialValue"in u,g=typeof s=="function"&&le(s);const _=new Set,[w,k]=(u.storage||$)(u.initialValue),[E,x]=$(void 0),[C,A]=$(void 0,{equals:!1}),[P,T]=$(m?"ready":"unresolved");function q(N,U,Y,re){return h===N&&(h=null,re!==void 0&&(m=!0),(N===d||U===d)&&u.onHydrated&&queueMicrotask(()=>u.onHydrated(re,{value:U})),d=gr,j(U,Y)),U}function j(N,U){Qe(()=>{U===void 0&&k(()=>N),T(U!==void 0?"errored":m?"ready":"unresolved"),x(U);for(const Y of _.keys())Y.decrement();_.clear()},!1)}function I(){const N=Fl,U=w(),Y=E();if(Y!==void 0&&!h)throw Y;return ue&&ue.user,U}function Q(N=!0){if(N!==!1&&f)return;f=!1;const U=g?g():s;if(U==null||U===!1){q(h,qe(w));return}const Y=d!==gr?d:qe(()=>a(U,{value:w(),refetching:N}));return Bl(Y)?(h=Y,"value"in Y?(Y.status==="success"?q(h,Y.value,void 0,U):q(h,void 0,Lr(Y.value),U),Y):(f=!0,queueMicrotask(()=>f=!1),Qe(()=>{T(m?"refreshing":"pending"),A()},!1),Y.then(re=>q(Y,re,void 0,U),re=>q(Y,void 0,Lr(re),U)))):(q(h,Y,void 0,U),Y)}return Object.defineProperties(I,{state:{get:()=>P()},error:{get:()=>E()},loading:{get(){const N=P();return N==="pending"||N==="refreshing"}},latest:{get(){if(!m)return I();const N=E();if(N&&!h)throw N;return w()}}}),g?zl(()=>Q(!1)):Q(!1),[I,{refetch:Q,mutate:k}]}function Nl(o){return Qe(o,!1)}function qe(o){if(ue===null)return o();const i=ue;ue=null;try{return o()}finally{ue=i}}function Ur(o,i,n){const s=Array.isArray(o);let a,u=n&&n.defer;return h=>{let d;if(s){d=Array(o.length);for(let m=0;m<o.length;m++)d[m]=o[m]()}else d=o();if(u)return u=!1,h;const f=qe(()=>i(d,a,h));return a=d,f}}function Zl(o){lt(()=>qe(o))}function Ln(o){return ae===null||(ae.cleanups===null?ae.cleanups=[o]:ae.cleanups.push(o)),o}function jo(){return ae}function Mo(o,i){const n=ae,s=ue;ae=o,ue=null;try{return Qe(i,!0)}catch(a){Gr(a)}finally{ae=n,ue=s}}function Ul(o){const i=ue,n=ae;return Promise.resolve().then(()=>{ue=i,ae=n;let s;return Qe(o,!1),ue=ae=null,s?s.done:void 0})}function Fr(o,i){const n=Symbol("context");return{id:n,Provider:Kl(n),defaultValue:o}}function Cn(o){let i;return ae&&ae.context&&(i=ae.context[o.id])!==void 0?i:o.defaultValue}function Wr(o){const i=le(o),n=le(()=>Cr(i()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}let Fl;function $o(){if(this.sources&&this.state)if(this.state===ut)ri(this);else{const o=Te;Te=null,Qe(()=>An(this),!1),Te=o}if(ue){const o=this.observers?this.observers.length:0;ue.sources?(ue.sources.push(this),ue.sourceSlots.push(o)):(ue.sources=[this],ue.sourceSlots=[o]),this.observers?(this.observers.push(ue),this.observerSlots.push(ue.sources.length-1)):(this.observers=[ue],this.observerSlots=[ue.sources.length-1])}return this.value}function Io(o,i,n){let s=o.value;return(!o.comparator||!o.comparator(s,i))&&(o.value=i,o.observers&&o.observers.length&&Qe(()=>{for(let a=0;a<o.observers.length;a+=1){const u=o.observers[a],h=_r&&_r.running;h&&_r.disposed.has(u),(h?!u.tState:!u.state)&&(u.pure?Te.push(u):at.push(u),u.observers&&zo(u)),h||(u.state=ut)}if(Te.length>1e6)throw Te=[],new Error},!1)),i}function ri(o){if(!o.fn)return;$i(o);const i=Sn;Wl(o,o.value,i)}function Wl(o,i,n){let s;const a=ae,u=ue;ue=ae=o;try{s=o.fn(i)}catch(h){return o.pure&&(o.state=ut,o.owned&&o.owned.forEach($i),o.owned=null),o.updatedAt=n+1,Gr(h)}finally{ue=u,ae=a}(!o.updatedAt||o.updatedAt<=n)&&(o.updatedAt!=null&&"observers"in o?Io(o,s):o.value=s,o.updatedAt=n)}function En(o,i,n,s=ut,a){const u={fn:o,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:i,owner:ae,context:ae?ae.context:null,pure:n};return ae===null||ae!==Oo&&(ae.owned?ae.owned.push(u):ae.owned=[u]),u}function kn(o){if(o.state===0)return;if(o.state===xn)return An(o);if(o.suspense&&qe(o.suspense.inFallback))return o.suspense.effects.push(o);const i=[o];for(;(o=o.owner)&&(!o.updatedAt||o.updatedAt<Sn);)o.state&&i.push(o);for(let n=i.length-1;n>=0;n--)if(o=i[n],o.state===ut)ri(o);else if(o.state===xn){const s=Te;Te=null,Qe(()=>An(o,i[0]),!1),Te=s}}function Qe(o,i){if(Te)return o();let n=!1;i||(Te=[]),at?n=!0:at=[],Sn++;try{const s=o();return Gl(n),s}catch(s){n||(at=null),Te=null,Gr(s)}}function Gl(o){if(Te&&(Ro(Te),Te=null),o)return;const i=at;at=null,i.length&&Qe(()=>qo(i),!1)}function Ro(o){for(let i=0;i<o.length;i++)kn(o[i])}function Hl(o){let i,n=0;for(i=0;i<o.length;i++){const s=o[i];s.user?o[n++]=s:kn(s)}for(i=0;i<n;i++)kn(o[i])}function An(o,i){o.state=0;for(let n=0;n<o.sources.length;n+=1){const s=o.sources[n];if(s.sources){const a=s.state;a===ut?s!==i&&(!s.updatedAt||s.updatedAt<Sn)&&kn(s):a===xn&&An(s,i)}}}function zo(o){for(let i=0;i<o.observers.length;i+=1){const n=o.observers[i];n.state||(n.state=xn,n.pure?Te.push(n):at.push(n),n.observers&&zo(n))}}function $i(o){let i;if(o.sources)for(;o.sources.length;){const n=o.sources.pop(),s=o.sourceSlots.pop(),a=n.observers;if(a&&a.length){const u=a.pop(),h=n.observerSlots.pop();s<a.length&&(u.sourceSlots[h]=s,a[s]=u,n.observerSlots[s]=h)}}if(o.tOwned){for(i=o.tOwned.length-1;i>=0;i--)$i(o.tOwned[i]);delete o.tOwned}if(o.owned){for(i=o.owned.length-1;i>=0;i--)$i(o.owned[i]);o.owned=null}if(o.cleanups){for(i=o.cleanups.length-1;i>=0;i--)o.cleanups[i]();o.cleanups=null}o.state=0}function Lr(o){return o instanceof Error?o:new Error(typeof o=="string"?o:"Unknown error",{cause:o})}function Gr(o,i=ae){throw Lr(o)}function Cr(o){if(typeof o=="function"&&!o.length)return Cr(o());if(Array.isArray(o)){const i=[];for(let n=0;n<o.length;n++){const s=Cr(o[n]);Array.isArray(s)?i.push.apply(i,s):i.push(s)}return i}return o}function Kl(o,i){return function(s){let a;return be(()=>a=qe(()=>(ae.context={...ae.context,[o]:s.value},Wr(()=>s.children))),void 0),a}}const Vl=Symbol("fallback");function Xs(o){for(let i=0;i<o.length;i++)o[i]()}function Jl(o,i,n={}){let s=[],a=[],u=[],h=0,d=i.length>1?[]:null;return Ln(()=>Xs(u)),()=>{let f=o()||[],m=f.length,g,_;return f[Il],qe(()=>{let k,E,x,C,A,P,T,q,j;if(m===0)h!==0&&(Xs(u),u=[],s=[],a=[],h=0,d&&(d=[])),n.fallback&&(s=[Vl],a[0]=Oi(I=>(u[0]=I,n.fallback())),h=1);else if(h===0){for(a=new Array(m),_=0;_<m;_++)s[_]=f[_],a[_]=Oi(w);h=m}else{for(x=new Array(m),C=new Array(m),d&&(A=new Array(m)),P=0,T=Math.min(h,m);P<T&&s[P]===f[P];P++);for(T=h-1,q=m-1;T>=P&&q>=P&&s[T]===f[q];T--,q--)x[q]=a[T],C[q]=u[T],d&&(A[q]=d[T]);for(k=new Map,E=new Array(q+1),_=q;_>=P;_--)j=f[_],g=k.get(j),E[_]=g===void 0?-1:g,k.set(j,_);for(g=P;g<=T;g++)j=s[g],_=k.get(j),_!==void 0&&_!==-1?(x[_]=a[g],C[_]=u[g],d&&(A[_]=d[g]),_=E[_],k.set(j,_)):u[g]();for(_=P;_<m;_++)_ in x?(a[_]=x[_],u[_]=C[_],d&&(d[_]=A[_],d[_](_))):a[_]=Oi(w);a=a.slice(0,h=m),s=f.slice(0)}return a});function w(k){if(u[_]=k,d){const[E,x]=$(_);return d[_]=x,i(f[_],E)}return i(f[_])}}}function z(o,i){return qe(()=>o(i||{}))}function dn(){return!0}const Er={get(o,i,n){return i===wn?n:o.get(i)},has(o,i){return i===wn?!0:o.has(i)},set:dn,deleteProperty:dn,getOwnPropertyDescriptor(o,i){return{configurable:!0,enumerable:!0,get(){return o.get(i)},set:dn,deleteProperty:dn}},ownKeys(o){return o.keys()}};function vr(o){return(o=typeof o=="function"?o():o)?o:{}}function Yl(){for(let o=0,i=this.length;o<i;++o){const n=this[o]();if(n!==void 0)return n}}function qr(...o){let i=!1;for(let h=0;h<o.length;h++){const d=o[h];i=i||!!d&&wn in d,o[h]=typeof d=="function"?(i=!0,le(d)):d}if(Eo&&i)return new Proxy({get(h){for(let d=o.length-1;d>=0;d--){const f=vr(o[d])[h];if(f!==void 0)return f}},has(h){for(let d=o.length-1;d>=0;d--)if(h in vr(o[d]))return!0;return!1},keys(){const h=[];for(let d=0;d<o.length;d++)h.push(...Object.keys(vr(o[d])));return[...new Set(h)]}},Er);const n={},s=Object.create(null);for(let h=o.length-1;h>=0;h--){const d=o[h];if(!d)continue;const f=Object.getOwnPropertyNames(d);for(let m=f.length-1;m>=0;m--){const g=f[m];if(g==="__proto__"||g==="constructor")continue;const _=Object.getOwnPropertyDescriptor(d,g);if(!s[g])s[g]=_.get?{enumerable:!0,configurable:!0,get:Yl.bind(n[g]=[_.get.bind(d)])}:_.value!==void 0?_:void 0;else{const w=n[g];w&&(_.get?w.push(_.get.bind(d)):_.value!==void 0&&w.push(()=>_.value))}}}const a={},u=Object.keys(s);for(let h=u.length-1;h>=0;h--){const d=u[h],f=s[d];f&&f.get?Object.defineProperty(a,d,f):a[d]=f?f.value:void 0}return a}function Ql(o,...i){if(Eo&&wn in o){const a=new Set(i.length>1?i.flat():i[0]),u=i.map(h=>new Proxy({get(d){return h.includes(d)?o[d]:void 0},has(d){return h.includes(d)&&d in o},keys(){return h.filter(d=>d in o)}},Er));return u.push(new Proxy({get(h){return a.has(h)?void 0:o[h]},has(h){return a.has(h)?!1:h in o},keys(){return Object.keys(o).filter(h=>!a.has(h))}},Er)),u}const n={},s=i.map(()=>({}));for(const a of Object.getOwnPropertyNames(o)){const u=Object.getOwnPropertyDescriptor(o,a),h=!u.get&&!u.set&&u.enumerable&&u.writable&&u.configurable;let d=!1,f=0;for(const m of i)m.includes(a)&&(d=!0,h?s[f][a]=u.value:Object.defineProperty(s[f],a,u)),++f;d||(h?n[a]=u.value:Object.defineProperty(n,a,u))}return[...s,n]}const Xl=o=>`Stale read from <${o}>.`;function eu(o){const i="fallback"in o&&{fallback:()=>o.fallback};return le(Jl(()=>o.each,o.children,i||void 0))}function Hr(o){const i=o.keyed,n=le(()=>o.when,void 0,{equals:(s,a)=>i?s===a:!s==!a});return le(()=>{const s=n();if(s){const a=o.children;return typeof a=="function"&&a.length>0?qe(()=>a(i?s:()=>{if(!qe(n))throw Xl("Show");return o.when})):a}return o.fallback},void 0,void 0)}const tu=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],iu=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...tu]),nu=new Set(["innerHTML","textContent","innerText","children"]),ru=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),su=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function ou(o,i){const n=su[o];return typeof n=="object"?n[i]?n.$:void 0:n}const au=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]);function lu(o,i,n){let s=n.length,a=i.length,u=s,h=0,d=0,f=i[a-1].nextSibling,m=null;for(;h<a||d<u;){if(i[h]===n[d]){h++,d++;continue}for(;i[a-1]===n[u-1];)a--,u--;if(a===h){const g=u<s?d?n[d-1].nextSibling:n[u-d]:f;for(;d<u;)o.insertBefore(n[d++],g)}else if(u===d)for(;h<a;)(!m||!m.has(i[h]))&&i[h].remove(),h++;else if(i[h]===n[u-1]&&n[d]===i[a-1]){const g=i[--a].nextSibling;o.insertBefore(n[d++],i[h++].nextSibling),o.insertBefore(n[--u],g),i[a]=n[u]}else{if(!m){m=new Map;let _=d;for(;_<u;)m.set(n[_],_++)}const g=m.get(i[h]);if(g!=null)if(d<g&&g<u){let _=h,w=1,k;for(;++_<a&&_<u&&!((k=m.get(i[_]))==null||k!==g+w);)w++;if(w>g-d){const E=i[h];for(;d<g;)o.insertBefore(n[d++],E)}else o.replaceChild(n[d++],i[h++])}else h++;else i[h++].remove()}}}const eo="_$DX_DELEGATE";function uu(o,i,n,s={}){let a;return Oi(u=>{a=u,i===document?o():W(i,o(),i.firstChild?null:void 0,n)},s.owner),()=>{a(),i.textContent=""}}function oe(o,i,n){let s;const a=()=>{const h=document.createElement("template");return h.innerHTML=o,h.content.firstChild},u=()=>(s||(s=a())).cloneNode(!0);return u.cloneNode=u,u}function De(o,i=window.document){const n=i[eo]||(i[eo]=new Set);for(let s=0,a=o.length;s<a;s++){const u=o[s];n.has(u)||(n.add(u),i.addEventListener(u,vu))}}function Be(o,i,n){n==null?o.removeAttribute(i):o.setAttribute(i,n)}function hu(o,i,n){n?o.setAttribute(i,""):o.removeAttribute(i)}function qn(o,i){i==null?o.removeAttribute("class"):o.className=i}function cu(o,i,n,s){if(s)Array.isArray(n)?(o[`$$${i}`]=n[0],o[`$$${i}Data`]=n[1]):o[`$$${i}`]=n;else if(Array.isArray(n)){const a=n[0];o.addEventListener(i,n[0]=u=>a.call(o,n[1],u))}else o.addEventListener(i,n,typeof n!="function"&&n)}function du(o,i,n={}){const s=Object.keys(i||{}),a=Object.keys(n);let u,h;for(u=0,h=a.length;u<h;u++){const d=a[u];!d||d==="undefined"||i[d]||(to(o,d,!1),delete n[d])}for(u=0,h=s.length;u<h;u++){const d=s[u],f=!!i[d];!d||d==="undefined"||n[d]===f||!f||(to(o,d,!0),n[d]=f)}return n}function fu(o,i,n){if(!i)return n?Be(o,"style"):i;const s=o.style;if(typeof i=="string")return s.cssText=i;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),i||(i={});let a,u;for(u in n)i[u]==null&&s.removeProperty(u),delete n[u];for(u in i)a=i[u],a!==n[u]&&(s.setProperty(u,a),n[u]=a);return n}function pu(o,i={},n,s){const a={};return be(()=>a.children=Ii(o,i.children,a.children)),be(()=>typeof i.ref=="function"&&mu(i.ref,o)),be(()=>gu(o,i,n,!0,a,!0)),a}function mu(o,i,n){return qe(()=>o(i,n))}function W(o,i,n,s){if(n!==void 0&&!s&&(s=[]),typeof i!="function")return Ii(o,i,s,n);be(a=>Ii(o,i(),a,n),s)}function gu(o,i,n,s,a={},u=!1){i||(i={});for(const h in a)if(!(h in i)){if(h==="children")continue;a[h]=io(o,h,null,a[h],n,u,i)}for(const h in i){if(h==="children")continue;const d=i[h];a[h]=io(o,h,d,a[h],n,u,i)}}function _u(o){return o.toLowerCase().replace(/-([a-z])/g,(i,n)=>n.toUpperCase())}function to(o,i,n){const s=i.trim().split(/\s+/);for(let a=0,u=s.length;a<u;a++)o.classList.toggle(s[a],n)}function io(o,i,n,s,a,u,h){let d,f,m,g,_;if(i==="style")return fu(o,n,s);if(i==="classList")return du(o,n,s);if(n===s)return s;if(i==="ref")u||n(o);else if(i.slice(0,3)==="on:"){const w=i.slice(3);s&&o.removeEventListener(w,s,typeof s!="function"&&s),n&&o.addEventListener(w,n,typeof n!="function"&&n)}else if(i.slice(0,10)==="oncapture:"){const w=i.slice(10);s&&o.removeEventListener(w,s,!0),n&&o.addEventListener(w,n,!0)}else if(i.slice(0,2)==="on"){const w=i.slice(2).toLowerCase(),k=au.has(w);if(!k&&s){const E=Array.isArray(s)?s[0]:s;o.removeEventListener(w,E)}(k||n)&&(cu(o,w,n,k),k&&De([w]))}else i.slice(0,5)==="attr:"?Be(o,i.slice(5),n):i.slice(0,5)==="bool:"?hu(o,i.slice(5),n):(_=i.slice(0,5)==="prop:")||(m=nu.has(i))||(g=ou(i,o.tagName))||(f=iu.has(i))||(d=o.nodeName.includes("-")||"is"in h)?(_&&(i=i.slice(5),f=!0),i==="class"||i==="className"?qn(o,n):d&&!f&&!m?o[_u(i)]=n:o[g||i]=n):Be(o,ru[i]||i,n);return n}function vu(o){let i=o.target;const n=`$$${o.type}`,s=o.target,a=o.currentTarget,u=f=>Object.defineProperty(o,"target",{configurable:!0,value:f}),h=()=>{const f=i[n];if(f&&!i.disabled){const m=i[`${n}Data`];if(m!==void 0?f.call(i,m,o):f.call(i,o),o.cancelBubble)return}return i.host&&typeof i.host!="string"&&!i.host._$host&&i.contains(o.target)&&u(i.host),!0},d=()=>{for(;h()&&(i=i._$host||i.parentNode||i.host););};if(Object.defineProperty(o,"currentTarget",{configurable:!0,get(){return i||document}}),o.composedPath){const f=o.composedPath();u(f[0]);for(let m=0;m<f.length-2&&(i=f[m],!!h());m++){if(i._$host){i=i._$host,d();break}if(i.parentNode===a)break}}else d();u(s)}function Ii(o,i,n,s,a){for(;typeof n=="function";)n=n();if(i===n)return n;const u=typeof i,h=s!==void 0;if(o=h&&n[0]&&n[0].parentNode||o,u==="string"||u==="number"){if(u==="number"&&(i=i.toString(),i===n))return n;if(h){let d=n[0];d&&d.nodeType===3?d.data!==i&&(d.data=i):d=document.createTextNode(i),n=Vt(o,n,s,d)}else n!==""&&typeof n=="string"?n=o.firstChild.data=i:n=o.textContent=i}else if(i==null||u==="boolean")n=Vt(o,n,s);else{if(u==="function")return be(()=>{let d=i();for(;typeof d=="function";)d=d();n=Ii(o,d,n,s)}),()=>n;if(Array.isArray(i)){const d=[],f=n&&Array.isArray(n);if(Or(d,i,n,a))return be(()=>n=Ii(o,d,n,s,!0)),()=>n;if(d.length===0){if(n=Vt(o,n,s),h)return n}else f?n.length===0?no(o,d,s):lu(o,n,d):(n&&Vt(o),no(o,d));n=d}else if(i.nodeType){if(Array.isArray(n)){if(h)return n=Vt(o,n,s,i);Vt(o,n,null,i)}else n==null||n===""||!o.firstChild?o.appendChild(i):o.replaceChild(i,o.firstChild);n=i}}return n}function Or(o,i,n,s){let a=!1;for(let u=0,h=i.length;u<h;u++){let d=i[u],f=n&&n[o.length],m;if(!(d==null||d===!0||d===!1))if((m=typeof d)=="object"&&d.nodeType)o.push(d);else if(Array.isArray(d))a=Or(o,d,f)||a;else if(m==="function")if(s){for(;typeof d=="function";)d=d();a=Or(o,Array.isArray(d)?d:[d],Array.isArray(f)?f:[f])||a}else o.push(d),a=!0;else{const g=String(d);f&&f.nodeType===3&&f.data===g?o.push(f):o.push(document.createTextNode(g))}}return a}function no(o,i,n=null){for(let s=0,a=i.length;s<a;s++)o.insertBefore(i[s],n)}function Vt(o,i,n,s){if(n===void 0)return o.textContent="";const a=s||document.createTextNode("");if(i.length){let u=!1;for(let h=i.length-1;h>=0;h--){const d=i[h];if(a!==d){const f=d.parentNode===o;!u&&!h?f?o.replaceChild(a,d):o.insertBefore(a,n):f&&d.remove()}else u=!0}}else o.insertBefore(a,n);return[a]}const yu=!1;function Bo(){let o=new Set;function i(a){return o.add(a),()=>o.delete(a)}let n=!1;function s(a,u){if(n)return!(n=!1);const h={to:a,options:u,defaultPrevented:!1,preventDefault:()=>h.defaultPrevented=!0};for(const d of o)d.listener({...h,from:d.location,retry:f=>{f&&(n=!0),d.navigate(a,{...u,resolve:!1})}});return!h.defaultPrevented}return{subscribe:i,confirm:s}}let jr;function Kr(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),jr=window.history.state._depth}Kr();function wu(o){return{...o,_depth:window.history.state&&window.history.state._depth}}function bu(o,i){let n=!1;return()=>{const s=jr;Kr();const a=s==null?null:jr-s;if(n){n=!1;return}a&&i(a)?(n=!0,window.history.go(-a)):o()}}const xu=/^(?:[a-z0-9]+:)?\/\//i,ku=/^\/+|(\/)\/+$/g,Do="http://sr";function Ot(o,i=!1){const n=o.replace(ku,"$1");return n?i||/^[?#]/.test(n)?n:"/"+n:""}function yn(o,i,n){if(xu.test(i))return;const s=Ot(o),a=n&&Ot(n);let u="";return!a||i.startsWith("/")?u=s:a.toLowerCase().indexOf(s.toLowerCase())!==0?u=s+a:u=a,(u||"/")+Ot(i,!u)}function Au(o,i){if(o==null)throw new Error(i);return o}function Pu(o,i){return Ot(o).replace(/\/*(\*.*)?$/g,"")+Ot(i)}function No(o){const i={};return o.searchParams.forEach((n,s)=>{s in i?Array.isArray(i[s])?i[s].push(n):i[s]=[i[s],n]:i[s]=n}),i}function Tu(o,i,n){const[s,a]=o.split("/*",2),u=s.split("/").filter(Boolean),h=u.length;return d=>{const f=d.split("/").filter(Boolean),m=f.length-h;if(m<0||m>0&&a===void 0&&!i)return null;const g={path:h?"":"/",params:{}},_=w=>n===void 0?void 0:n[w];for(let w=0;w<h;w++){const k=u[w],E=k[0]===":",x=E?f[w]:f[w].toLowerCase(),C=E?k.slice(1):k.toLowerCase();if(E&&yr(x,_(C)))g.params[C]=x;else if(E||!yr(x,C))return null;g.path+=`/${x}`}if(a){const w=m?f.slice(-m).join("/"):"";if(yr(w,_(a)))g.params[a]=w;else return null}return g}}function yr(o,i){const n=s=>s===o;return i===void 0?!0:typeof i=="string"?n(i):typeof i=="function"?i(o):Array.isArray(i)?i.some(n):i instanceof RegExp?i.test(o):!1}function Su(o){const[i,n]=o.pattern.split("/*",2),s=i.split("/").filter(Boolean);return s.reduce((a,u)=>a+(u.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function Zo(o){const i=new Map,n=jo();return new Proxy({},{get(s,a){return i.has(a)||Mo(n,()=>i.set(a,le(()=>o()[a]))),i.get(a)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(o())}})}function Uo(o){let i=/(\/?\:[^\/]+)\?/.exec(o);if(!i)return[o];let n=o.slice(0,i.index),s=o.slice(i.index+i[0].length);const a=[n,n+=i[1]];for(;i=/^(\/\:[^\/]+)\?/.exec(s);)a.push(n+=i[1]),s=s.slice(i[0].length);return Uo(s).reduce((u,h)=>[...u,...a.map(d=>d+h)],[])}const Lu=100,Fo=Fr(),Vr=Fr(),On=()=>Au(Cn(Fo),"<A> and 'use' router primitives can be only used inside a Route."),Cu=()=>Cn(Vr)||On().base,Eu=o=>{const i=Cu();return le(()=>i.resolvePath(o()))},qu=o=>{const i=On();return le(()=>{const n=o();return n!==void 0?i.renderPath(n):n})},Xe=()=>On().navigatorFactory(),Ou=()=>On().location;function ju(o,i=""){const{component:n,preload:s,load:a,children:u,info:h}=o,d=!u||Array.isArray(u)&&!u.length,f={key:o,component:n,preload:s||a,info:h};return Wo(o.path).reduce((m,g)=>{for(const _ of Uo(g)){const w=Pu(i,_);let k=d?w:w.split("/*",1)[0];k=k.split("/").map(E=>E.startsWith(":")||E.startsWith("*")?E:encodeURIComponent(E)).join("/"),m.push({...f,originalPath:g,pattern:k,matcher:Tu(k,!d,o.matchFilters)})}return m},[])}function Mu(o,i=0){return{routes:o,score:Su(o[o.length-1])*1e4-i,matcher(n){const s=[];for(let a=o.length-1;a>=0;a--){const u=o[a],h=u.matcher(n);if(!h)return null;s.unshift({...h,route:u})}return s}}}function Wo(o){return Array.isArray(o)?o:[o]}function Go(o,i="",n=[],s=[]){const a=Wo(o);for(let u=0,h=a.length;u<h;u++){const d=a[u];if(d&&typeof d=="object"){d.hasOwnProperty("path")||(d.path="");const f=ju(d,i);for(const m of f){n.push(m);const g=Array.isArray(d.children)&&d.children.length===0;if(d.children&&!g)Go(d.children,m.pattern,n,s);else{const _=Mu([...n],s.length);s.push(_)}n.pop()}}}return n.length?s:s.sort((u,h)=>h.score-u.score)}function wr(o,i){for(let n=0,s=o.length;n<s;n++){const a=o[n].matcher(i);if(a)return a}return[]}function $u(o,i,n){const s=new URL(Do),a=le(g=>{const _=o();try{return new URL(_,s)}catch{return console.error(`Invalid path ${_}`),g}},s,{equals:(g,_)=>g.href===_.href}),u=le(()=>a().pathname),h=le(()=>a().search,!0),d=le(()=>a().hash),f=()=>"",m=Ur(h,()=>No(a()));return{get pathname(){return u()},get search(){return h()},get hash(){return d()},get state(){return i()},get key(){return f()},query:n?n(m):Zo(m)}}let Et;function Iu(){return Et}function Ru(o,i,n,s={}){const{signal:[a,u],utils:h={}}=o,d=h.parsePath||(Z=>Z),f=h.renderPath||(Z=>Z),m=h.beforeLeave||Bo(),g=yn("",s.base||"");if(g===void 0)throw new Error(`${g} is not a valid base path`);g&&!a().value&&u({value:g,replace:!0,scroll:!1});const[_,w]=$(!1);let k;const E=(Z,X)=>{X.value===x()&&X.state===A()||(k===void 0&&w(!0),Et=Z,k=X,Ul(()=>{k===X&&(C(k.value),P(k.state),j[1](G=>G.filter(_e=>_e.pending)))}).finally(()=>{k===X&&Nl(()=>{Et=void 0,Z==="navigate"&&pe(k),w(!1),k=void 0})}))},[x,C]=$(a().value),[A,P]=$(a().state),T=$u(x,A,h.queryWrapper),q=[],j=$([]),I=le(()=>typeof s.transformUrl=="function"?wr(i(),s.transformUrl(T.pathname)):wr(i(),T.pathname)),Q=()=>{const Z=I(),X={};for(let G=0;G<Z.length;G++)Object.assign(X,Z[G].params);return X},N=h.paramsWrapper?h.paramsWrapper(Q,i):Zo(Q),U={pattern:g,path:()=>g,outlet:()=>null,resolvePath(Z){return yn(g,Z)}};return be(Ur(a,Z=>E("native",Z),{defer:!0})),{base:U,location:T,params:N,isRouting:_,renderPath:f,parsePath:d,navigatorFactory:re,matches:I,beforeLeave:m,preloadRoute:We,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:j};function Y(Z,X,G){qe(()=>{if(typeof X=="number"){X&&(h.go?h.go(X):console.warn("Router integration does not support relative routing"));return}const _e=!X||X[0]==="?",{replace:B,resolve:Oe,scroll:R,state:te}={replace:!1,resolve:!_e,scroll:!0,...G},de=Oe?Z.resolvePath(X):yn(_e&&T.pathname||"",X);if(de===void 0)throw new Error(`Path '${X}' is not a routable path`);if(q.length>=Lu)throw new Error("Too many redirects");const me=x();(de!==me||te!==A())&&(yu||m.confirm(de,G)&&(q.push({value:me,replace:B,scroll:R,state:A()}),E("navigate",{value:de,state:te})))})}function re(Z){return Z=Z||Cn(Vr)||U,(X,G)=>Y(Z,X,G)}function pe(Z){const X=q[0];X&&(u({...Z,replace:X.replace,scroll:X.scroll}),q.length=0)}function We(Z,X){const G=wr(i(),Z.pathname),_e=Et;Et="preload";for(let B in G){const{route:Oe,params:R}=G[B];Oe.component&&Oe.component.preload&&Oe.component.preload();const{preload:te}=Oe;X&&te&&Mo(n(),()=>te({params:R,location:{pathname:Z.pathname,search:Z.search,hash:Z.hash,query:No(Z),state:null,key:""},intent:"preload"}))}Et=_e}}function zu(o,i,n,s){const{base:a,location:u,params:h}=o,{pattern:d,component:f,preload:m}=s().route,g=le(()=>s().path);f&&f.preload&&f.preload();const _=m?m({params:h,location:u,intent:Et||"initial"}):void 0;return{parent:i,pattern:d,path:g,outlet:()=>f?z(f,{params:h,location:u,data:_,get children(){return n()}}):n(),resolvePath(k){return yn(a.path(),k,g())}}}const Bu=o=>i=>{const{base:n}=i,s=Wr(()=>i.children),a=le(()=>Go(s(),i.base||""));let u;const h=Ru(o,a,()=>u,{base:n,singleFlight:i.singleFlight,transformUrl:i.transformUrl});return o.create&&o.create(h),z(Fo.Provider,{value:h,get children(){return z(Du,{routerState:h,get root(){return i.root},get preload(){return i.rootPreload||i.rootLoad},get children(){return[le(()=>(u=jo())&&null),z(Nu,{routerState:h,get branches(){return a()}})]}})}})};function Du(o){const i=o.routerState.location,n=o.routerState.params,s=le(()=>o.preload&&qe(()=>{o.preload({params:n,location:i,intent:Iu()||"initial"})}));return z(Hr,{get when(){return o.root},keyed:!0,get fallback(){return o.children},children:a=>z(a,{params:n,location:i,get data(){return s()},get children(){return o.children}})})}function Nu(o){const i=[];let n;const s=le(Ur(o.routerState.matches,(a,u,h)=>{let d=u&&a.length===u.length;const f=[];for(let m=0,g=a.length;m<g;m++){const _=u&&u[m],w=a[m];h&&_&&w.route.key===_.route.key?f[m]=h[m]:(d=!1,i[m]&&i[m](),Oi(k=>{i[m]=k,f[m]=zu(o.routerState,f[m-1]||o.routerState.base,ro(()=>s()[m+1]),()=>o.routerState.matches()[m])}))}return i.splice(a.length).forEach(m=>m()),h&&d?h:(n=f[0],f)}));return ro(()=>s()&&n)()}const ro=o=>()=>z(Hr,{get when(){return o()},keyed:!0,children:i=>z(Vr.Provider,{value:i,get children(){return i.outlet()}})}),ze=o=>{const i=Wr(()=>o.children);return qr(o,{get children(){return i()}})};function Zu([o,i],n,s){return[o,a=>i(s(a))]}function Uu(o){let i=!1;const n=a=>typeof a=="string"?{value:a}:a,s=Zu($(n(o.get()),{equals:(a,u)=>a.value===u.value&&a.state===u.state}),void 0,a=>(!i&&o.set(a),a));return o.init&&Ln(o.init((a=o.get())=>{i=!0,s[1](n(a)),i=!1})),Bu({signal:s,create:o.create,utils:o.utils})}function Fu(o,i,n){return o.addEventListener(i,n),()=>o.removeEventListener(i,n)}function Wu(o,i){const n=o&&document.getElementById(o);n?n.scrollIntoView():i&&window.scrollTo(0,0)}const Gu=new Map;function Hu(o=!0,i=!1,n="/_server",s){return a=>{const u=a.base.path(),h=a.navigatorFactory(a.base);let d,f;function m(x){return x.namespaceURI==="http://www.w3.org/2000/svg"}function g(x){if(x.defaultPrevented||x.button!==0||x.metaKey||x.altKey||x.ctrlKey||x.shiftKey)return;const C=x.composedPath().find(I=>I instanceof Node&&I.nodeName.toUpperCase()==="A");if(!C||i&&!C.hasAttribute("link"))return;const A=m(C),P=A?C.href.baseVal:C.href;if((A?C.target.baseVal:C.target)||!P&&!C.hasAttribute("state"))return;const q=(C.getAttribute("rel")||"").split(/\s+/);if(C.hasAttribute("download")||q&&q.includes("external"))return;const j=A?new URL(P,document.baseURI):new URL(P);if(!(j.origin!==window.location.origin||u&&j.pathname&&!j.pathname.toLowerCase().startsWith(u.toLowerCase())))return[C,j]}function _(x){const C=g(x);if(!C)return;const[A,P]=C,T=a.parsePath(P.pathname+P.search+P.hash),q=A.getAttribute("state");x.preventDefault(),h(T,{resolve:!1,replace:A.hasAttribute("replace"),scroll:!A.hasAttribute("noscroll"),state:q?JSON.parse(q):void 0})}function w(x){const C=g(x);if(!C)return;const[A,P]=C;a.preloadRoute(P,A.getAttribute("preload")!=="false")}function k(x){clearTimeout(d);const C=g(x);if(!C)return f=null;const[A,P]=C;f!==A&&(d=setTimeout(()=>{a.preloadRoute(P,A.getAttribute("preload")!=="false"),f=A},20))}function E(x){if(x.defaultPrevented)return;let C=x.submitter&&x.submitter.hasAttribute("formaction")?x.submitter.getAttribute("formaction"):x.target.getAttribute("action");if(!C)return;if(!C.startsWith("https://action/")){const P=new URL(C,Do);if(C=a.parsePath(P.pathname+P.search),!C.startsWith(n))return}if(x.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const A=Gu.get(C);if(A){x.preventDefault();const P=new FormData(x.target,x.submitter);A.call({r:a,f:x.target},x.target.enctype==="multipart/form-data"?P:new URLSearchParams(P))}}De(["click","submit"]),document.addEventListener("click",_),o&&(document.addEventListener("mousemove",k,{passive:!0}),document.addEventListener("focusin",w,{passive:!0}),document.addEventListener("touchstart",w,{passive:!0})),document.addEventListener("submit",E),Ln(()=>{document.removeEventListener("click",_),o&&(document.removeEventListener("mousemove",k),document.removeEventListener("focusin",w),document.removeEventListener("touchstart",w)),document.removeEventListener("submit",E)})}}function Ku(o){const i=o.replace(/^.*?#/,"");if(!i.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${i}`}return i}function Vu(o){const i=()=>window.location.hash.slice(1),n=Bo();return Uu({get:i,set({value:s,replace:a,scroll:u,state:h}){a?window.history.replaceState(wu(h),"","#"+s):window.history.pushState(h,"","#"+s);const d=s.indexOf("#"),f=d>=0?s.slice(d+1):"";Wu(f,u),Kr()},init:s=>Fu(window,"hashchange",bu(s,a=>!n.confirm(a&&a<0?a:i()))),create:Hu(o.preload,o.explicitLinks,o.actionBase),utils:{go:s=>window.history.go(s),renderPath:s=>`#${s}`,parsePath:Ku,beforeLeave:n}})(o)}var Ju=oe("<a>");function Mr(o){o=qr({inactiveClass:"inactive",activeClass:"active"},o);const[,i]=Ql(o,["href","state","class","activeClass","inactiveClass","end"]),n=Eu(()=>o.href),s=qu(n),a=Ou(),u=le(()=>{const h=n();if(h===void 0)return[!1,!1];const d=Ot(h.split(/[?#]/,1)[0]).toLowerCase(),f=decodeURI(Ot(a.pathname).toLowerCase());return[o.end?d===f:f.startsWith(d+"/")||f===d,d===f]});return(()=>{var h=Ju();return pu(h,qr(i,{get href(){return s()||o.href},get state(){return JSON.stringify(o.state)},get classList(){return{...o.class&&{[o.class]:!0},[o.inactiveClass]:!u()[0],[o.activeClass]:u()[0],...i.classList}},link:"",get"aria-current"(){return u()[1]?"page":void 0}}),!1),h})()}const Yu="modulepreload",Qu=function(o){return"/ZavrsniV2/"+o},so={},ii=function(i,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=Promise.allSettled(n.map(f=>{if(f=Qu(f),f in so)return;so[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":Yu,m||(_.as="script"),_.crossOrigin="",_.href=f,d&&_.setAttribute("nonce",d),document.head.appendChild(_),m)return new Promise((w,k)=>{_.addEventListener("load",w),_.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${f}`)))})}))}function u(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return a.then(h=>{for(const d of h||[])d.status==="rejected"&&u(d.reason);return i().catch(u)})},Xu=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...n)=>ii(async()=>{const{default:s}=await Promise.resolve().then(()=>si);return{default:s}},void 0).then(({default:s})=>s(...n)):i=fetch,(...n)=>i(...n)};class Jr extends Error{constructor(i,n="FunctionsError",s){super(i),this.name=n,this.context=s}}class eh extends Jr{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class th extends Jr{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class ih extends Jr{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var $r;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})($r||($r={}));var nh=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(g){try{m(s.next(g))}catch(_){h(_)}}function f(g){try{m(s.throw(g))}catch(_){h(_)}}function m(g){g.done?u(g.value):a(g.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};class rh{constructor(i,{headers:n={},customFetch:s,region:a=$r.Any}={}){this.url=i,this.headers=n,this.region=a,this.fetch=Xu(s)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,n={}){var s;return nh(this,void 0,void 0,function*(){try{const{headers:a,method:u,body:h}=n;let d={},{region:f}=n;f||(f=this.region),f&&f!=="any"&&(d["x-region"]=f);let m;h&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=h):typeof h=="string"?(d["Content-Type"]="text/plain",m=h):typeof FormData<"u"&&h instanceof FormData?m=h:(d["Content-Type"]="application/json",m=JSON.stringify(h)));const g=yield this.fetch(`${this.url}/${i}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:m}).catch(E=>{throw new eh(E)}),_=g.headers.get("x-relay-error");if(_&&_==="true")throw new th(g);if(!g.ok)throw new ih(g);let w=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return w==="application/json"?k=yield g.json():w==="application/octet-stream"?k=yield g.blob():w==="text/event-stream"?k=g:w==="multipart/form-data"?k=yield g.formData():k=yield g.text(),{data:k,error:null}}catch(a){return{data:null,error:a}}})}}var Me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sh(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function oh(o){if(o.__esModule)return o;var i=o.default;if(typeof i=="function"){var n=function s(){return this instanceof s?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};n.prototype=i.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(o).forEach(function(s){var a=Object.getOwnPropertyDescriptor(o,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return o[s]}})}),n}var Ee={},Yr={},jn={},zi={},Mn={},$n={},ah=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ni=ah();const lh=ni.fetch,Ho=ni.fetch.bind(ni),Ko=ni.Headers,uh=ni.Request,hh=ni.Response,si=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ko,Request:uh,Response:hh,default:Ho,fetch:lh},Symbol.toStringTag,{value:"Module"})),ch=oh(si);var In={};Object.defineProperty(In,"__esModule",{value:!0});let dh=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}};In.default=dh;var Vo=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty($n,"__esModule",{value:!0});const fh=Vo(ch),ph=Vo(In);let mh=class{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=fh.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=Object.assign({},this.headers),this.headers[i]=n,this}then(i,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var h,d,f;let m=null,g=null,_=null,w=u.status,k=u.statusText;if(u.ok){if(this.method!=="HEAD"){const A=await u.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=A:g=JSON.parse(A))}const x=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&C&&C.length>1&&(_=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,_=null,w=406,k="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await u.text();try{m=JSON.parse(x),Array.isArray(m)&&u.status===404&&(g=[],m=null,w=200,k="OK")}catch{u.status===404&&x===""?(w=204,k="No Content"):m={message:x}}if(m&&this.isMaybeSingle&&(!((f=m?.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,w=200,k="OK"),m&&this.shouldThrowOnError)throw new ph.default(m)}return{error:m,data:g,count:_,status:w,statusText:k}});return this.shouldThrowOnError||(a=a.catch(u=>{var h,d,f;return{error:{message:`${(h=u?.name)!==null&&h!==void 0?h:"FetchError"}: ${u?.message}`,details:`${(d=u?.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=u?.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),a.then(i,n)}};$n.default=mh;var gh=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Mn,"__esModule",{value:!0});const _h=gh($n);let vh=class extends _h.default{select(i){let n=!1;const s=(i??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:n=!0,nullsFirst:s,foreignTable:a,referencedTable:u=a}={}){const h=u?`${u}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${i}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,n,{foreignTable:s,referencedTable:a=s}={}){const u=typeof a>"u"?"offset":`${a}.offset`,h=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(h,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:n=!1,settings:s=!1,buffers:a=!1,wal:u=!1,format:h="text"}={}){var d;const f=[i?"analyze":null,n?"verbose":null,s?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${m}"; options=${f};`,h==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Mn.default=vh;var yh=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(zi,"__esModule",{value:!0});const wh=yh(Mn);let bh=class extends wh.default{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}in(i,n){const s=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:s,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const h=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${u}fts${h}.${n}`),this}match(i){return Object.entries(i).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(i,n,s){return this.url.searchParams.append(i,`not.${n}.${s}`),this}or(i,{foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,n,s){return this.url.searchParams.append(i,`${n}.${s}`),this}};zi.default=bh;var xh=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(jn,"__esModule",{value:!0});const Si=xh(zi);let kh=class{constructor(i,{headers:n={},schema:s,fetch:a}){this.url=i,this.headers=n,this.schema=s,this.fetch=a}select(i,{head:n=!1,count:s}={}){const a=n?"HEAD":"GET";let u=!1;const h=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",h),s&&(this.headers.Prefer=`count=${s}`),new Si.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:n,defaultToNull:s=!0}={}){const a="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),n&&u.push(`count=${n}`),s||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const h=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new Si.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:n,ignoreDuplicates:s=!1,count:a,defaultToNull:u=!0}={}){const h="POST",d=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),u||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(i)){const f=i.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(f.length>0){const m=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new Si.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:n}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new Si.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const n="DELETE",s=[];return i&&s.push(`count=${i}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Si.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};jn.default=kh;var Rn={},zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.version=void 0;zn.version="0.0.0-automated";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.DEFAULT_HEADERS=void 0;const Ah=zn;Rn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ah.version}`};var Jo=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Yr,"__esModule",{value:!0});const Ph=Jo(jn),Th=Jo(zi),Sh=Rn;let Lh=class Yo{constructor(i,{headers:n={},schema:s,fetch:a}={}){this.url=i,this.headers=Object.assign(Object.assign({},Sh.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=a}from(i){const n=new URL(`${this.url}/${i}`);return new Ph.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new Yo(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,n={},{head:s=!1,get:a=!1,count:u}={}){let h;const d=new URL(`${this.url}/rpc/${i}`);let f;s||a?(h=s?"HEAD":"GET",Object.entries(n).filter(([g,_])=>_!==void 0).map(([g,_])=>[g,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([g,_])=>{d.searchParams.append(g,_)})):(h="POST",f=n);const m=Object.assign({},this.headers);return u&&(m.Prefer=`count=${u}`),new Th.default({method:h,url:d,headers:m,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}};Yr.default=Lh;var oi=Me&&Me.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;const Qo=oi(Yr);Ee.PostgrestClient=Qo.default;const Xo=oi(jn);Ee.PostgrestQueryBuilder=Xo.default;const ea=oi(zi);Ee.PostgrestFilterBuilder=ea.default;const ta=oi(Mn);Ee.PostgrestTransformBuilder=ta.default;const ia=oi($n);Ee.PostgrestBuilder=ia.default;const na=oi(In);Ee.PostgrestError=na.default;var Ch=Ee.default={PostgrestClient:Qo.default,PostgrestQueryBuilder:Xo.default,PostgrestFilterBuilder:ea.default,PostgrestTransformBuilder:ta.default,PostgrestBuilder:ia.default,PostgrestError:na.default};const{PostgrestClient:Eh,PostgrestQueryBuilder:Xf,PostgrestFilterBuilder:ep,PostgrestTransformBuilder:tp,PostgrestBuilder:ip,PostgrestError:np}=Ch,qh="2.11.2",Oh={"X-Client-Info":`realtime-js/${qh}`},jh="1.0.0",ra=1e4,Mh=1e3;var ti;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(ti||(ti={}));var je;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(je||(je={}));var Ue;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Ue||(Ue={}));var Ir;(function(o){o.websocket="websocket"})(Ir||(Ir={}));var qt;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(qt||(qt={}));class $h{constructor(){this.HEADER_LENGTH=1}decode(i,n){return i.constructor===ArrayBuffer?n(this._binaryDecode(i)):n(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const n=new DataView(i),s=new TextDecoder;return this._decodeBroadcast(i,n,s)}_decodeBroadcast(i,n,s){const a=n.getUint8(1),u=n.getUint8(2);let h=this.HEADER_LENGTH+2;const d=s.decode(i.slice(h,h+a));h=h+a;const f=s.decode(i.slice(h,h+u));h=h+u;const m=JSON.parse(s.decode(i.slice(h,i.byteLength)));return{ref:null,topic:d,event:f,payload:m}}}class sa{constructor(i,n){this.callback=i,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(ce||(ce={}));const oo=(o,i,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(i).reduce((u,h)=>(u[h]=Ih(h,o,i,a),u),{})},Ih=(o,i,n,s)=>{const a=i.find(d=>d.name===o),u=a?.type,h=n[o];return u&&!s.includes(u)?oa(u,h):Rr(h)},oa=(o,i)=>{if(o.charAt(0)==="_"){const n=o.slice(1,o.length);return Dh(i,n)}switch(o){case ce.bool:return Rh(i);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return zh(i);case ce.json:case ce.jsonb:return Bh(i);case ce.timestamp:return Nh(i);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return Rr(i);default:return Rr(i)}},Rr=o=>o,Rh=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},zh=o=>{if(typeof o=="string"){const i=parseFloat(o);if(!Number.isNaN(i))return i}return o},Bh=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(i){return console.log(`JSON parse error: ${i}`),o}return o},Dh=(o,i)=>{if(typeof o!="string")return o;const n=o.length-1,s=o[n];if(o[0]==="{"&&s==="}"){let u;const h=o.slice(1,n);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(d=>oa(i,d))}return o},Nh=o=>typeof o=="string"?o.replace(" ","T"):o,aa=o=>{let i=o;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")};class br{constructor(i,n,s={},a=ra){this.channel=i,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,n){var s;return this._hasReceived(i)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:i,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:n}){this.recHooks.filter(s=>s.status===i).forEach(s=>s.callback(n))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var ao;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(ao||(ao={}));class ji{constructor(i,n){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:u,onLeave:h,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ji.syncState(this.state,a,u,h),this.pendingDiffs.forEach(f=>{this.state=ji.syncDiff(this.state,f,u,h)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},a=>{const{onJoin:u,onLeave:h,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ji.syncDiff(this.state,a,u,h),d())}),this.onJoin((a,u,h)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:h})}),this.onLeave((a,u,h)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,n,s,a){const u=this.cloneDeep(i),h=this.transformState(n),d={},f={};return this.map(u,(m,g)=>{h[m]||(f[m]=g)}),this.map(h,(m,g)=>{const _=u[m];if(_){const w=g.map(C=>C.presence_ref),k=_.map(C=>C.presence_ref),E=g.filter(C=>k.indexOf(C.presence_ref)<0),x=_.filter(C=>w.indexOf(C.presence_ref)<0);E.length>0&&(d[m]=E),x.length>0&&(f[m]=x)}else d[m]=g}),this.syncDiff(u,{joins:d,leaves:f},s,a)}static syncDiff(i,n,s,a){const{joins:u,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(u,(d,f)=>{var m;const g=(m=i[d])!==null&&m!==void 0?m:[];if(i[d]=this.cloneDeep(f),g.length>0){const _=i[d].map(k=>k.presence_ref),w=g.filter(k=>_.indexOf(k.presence_ref)<0);i[d].unshift(...w)}s(d,g,f)}),this.map(h,(d,f)=>{let m=i[d];if(!m)return;const g=f.map(_=>_.presence_ref);m=m.filter(_=>g.indexOf(_.presence_ref)<0),i[d]=m,a(d,m,f),m.length===0&&delete i[d]}),i}static map(i,n){return Object.getOwnPropertyNames(i).map(s=>n(s,i[s]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((n,s)=>{const a=i[s];return"metas"in a?n[s]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[s]=a,n},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lo;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(lo||(lo={}));var uo;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(uo||(uo={}));var ot;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(ot||(ot={}));class Qr{constructor(i,n={config:{}},s){this.topic=i,this.params=n,this.socket=s,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new br(this,Ue.join,this.params,this.timeout),this.rejoinTimer=new sa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ue.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new ji(this),this.broadcastEndpointURL=aa(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(i,n=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:h,private:d}}=this.params;this._onError(g=>i?.(ot.CHANNEL_ERROR,g)),this._onClose(()=>i?.(ot.CLOSED));const f={},m={broadcast:u,presence:h,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&a!==void 0?a:[],private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var _;if(this.socket.setAuth(),g===void 0){i?.(ot.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,k=(_=w?.length)!==null&&_!==void 0?_:0,E=[];for(let x=0;x<k;x++){const C=w[x],{filter:{event:A,schema:P,table:T,filter:q}}=C,j=g&&g[x];if(j&&j.event===A&&j.schema===P&&j.table===T&&j.filter===q)E.push(Object.assign(Object.assign({},C),{id:j.id}));else{this.unsubscribe(),i?.(ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,i&&i(ot.SUBSCRIBED);return}}).receive("error",g=>{i?.(ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{i?.(ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,n={}){return await this.send({type:"presence",event:"track",payload:i},n.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,n,s){return this._on(i,n,s)}async send(i,n={}){var s,a;if(!this._canPush()&&i.type==="broadcast"){const{event:u,payload:h}=i,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,d,f;const m=this._push(i.type,i,n.timeout||this.timeout);i.type==="broadcast"&&!(!((f=(d=(h=this.params)===null||h===void 0?void 0:h.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ue.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const a=new br(this,Ue.leave,{},i);a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(i,n,s){const a=new AbortController,u=setTimeout(()=>a.abort(),s),h=await this.socket.fetch(i,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(u),h}_push(i,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new br(this,i,n,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(i,n,s){return n}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,n,s){var a,u;const h=i.toLocaleLowerCase(),{close:d,error:f,leave:m,join:g}=Ue;if(s&&[d,f,m,g].indexOf(h)>=0&&s!==this._joinRef())return;let w=this._onMessage(h,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(k=>{var E,x,C;return((E=k.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(x=k.filter)===null||x===void 0?void 0:x.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===h}).map(k=>k.callback(w,s)):(u=this.bindings[h])===null||u===void 0||u.filter(k=>{var E,x,C,A,P,T;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in k){const q=k.id,j=(E=k.filter)===null||E===void 0?void 0:E.event;return q&&((x=n.ids)===null||x===void 0?void 0:x.includes(q))&&(j==="*"||j?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const q=(P=(A=k?.filter)===null||A===void 0?void 0:A.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return q==="*"||q===((T=n?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===h}).map(k=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:x,table:C,commit_timestamp:A,type:P,errors:T}=E;w=Object.assign(Object.assign({},{schema:x,table:C,commit_timestamp:A,eventType:P,new:{},old:{},errors:T}),this._getPayloadRecords(E))}k.callback(w,s)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,n,s){const a=i.toLocaleLowerCase(),u={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(i,n){const s=i.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&Qr.isEqual(a.filter,n))}),this}static isEqual(i,n){if(Object.keys(i).length!==Object.keys(n).length)return!1;for(const s in i)if(i[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(Ue.close,{},i)}_onError(i){this._on(Ue.error,{},n=>i(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const n={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(n.new=oo(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(n.old=oo(i.columns,i.old_record)),n}}const Zh=()=>{},Uh=typeof WebSocket<"u",Fh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wh{constructor(i,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Oh,this.params={},this.timeout=ra,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Zh,this.conn=null,this.sendBuffer=[],this.serializer=new $h,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let h;return u?h=u:typeof fetch>"u"?h=(...d)=>ii(async()=>{const{default:f}=await Promise.resolve().then(()=>si);return{default:f}},void 0).then(({default:f})=>f(...d)):h=fetch,(...d)=>h(...d)},this.endPoint=`${i}/${Ir.websocket}`,this.httpEndpoint=aa(i),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(s=n?.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n?.encode?n.encode:(u,h)=>h(JSON.stringify(u)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sa(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Uh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Gh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ii(async()=>{const{default:i}=await import("./browser-DzgrhGQl.js").then(n=>n.b);return{default:i}},[]).then(({default:i})=>{this.conn=new i(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jh}))}disconnect(i,n){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(i){const n=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const i=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),i}log(i,n,s){this.logger(i,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ti.connecting:return qt.Connecting;case ti.open:return qt.Open;case ti.closing:return qt.Closing;default:return qt.Closed}}isConnected(){return this.connectionState()===qt.Open}channel(i,n={config:{}}){const s=new Qr(`realtime:${i}`,n,this);return this.channels.push(s),s}push(i){const{topic:n,event:s,payload:a,ref:u}=i,h=()=>{this.encode(i,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${s} (${u})`,a),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(i=null){let n=i||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(Ue.access_token,{access_token:n})})}}async sendHeartbeat(){var i;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(i=this.conn)===null||i===void 0||i.close(Mh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let n=this.channels.find(s=>s.topic===i&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${i}"`),n.unsubscribe())}_remove(i){this.channels=this.channels.filter(n=>n._joinRef()!==i._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_onConnMessage(i){this.decode(i.data,n=>{let{topic:s,event:a,payload:u,ref:h}=n;h&&h===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${s} ${a} ${h&&"("+h+")"||""}`,u),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,u,h)),this.stateChangeCallbacks.message.forEach(d=>d(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(i=>i())}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(i))}_onConnError(i){this.log("transport",i.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(Ue.error))}_appendParams(i,n){if(Object.keys(n).length===0)return i;const s=i.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${i}${s}${a}`}_workerObjectUrl(i){let n;if(i)n=i;else{const s=new Blob([Fh],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class Gh{constructor(i,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ti.connecting,this.send=()=>{},this.url=null,this.url=i,this.close=s.close}}class Xr extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function ke(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class Hh extends Xr{constructor(i,n){super(i),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class zr extends Xr{constructor(i,n){super(i),this.name="StorageUnknownError",this.originalError=n}}var Kh=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(g){try{m(s.next(g))}catch(_){h(_)}}function f(g){try{m(s.throw(g))}catch(_){h(_)}}function m(g){g.done?u(g.value):a(g.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};const la=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...n)=>ii(async()=>{const{default:s}=await Promise.resolve().then(()=>si);return{default:s}},void 0).then(({default:s})=>s(...n)):i=fetch,(...n)=>i(...n)},Vh=()=>Kh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ii(()=>Promise.resolve().then(()=>si),void 0)).Response:Response}),Br=o=>{if(Array.isArray(o))return o.map(n=>Br(n));if(typeof o=="function"||o!==Object(o))return o;const i={};return Object.entries(o).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));i[a]=Br(s)}),i};var jt=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(g){try{m(s.next(g))}catch(_){h(_)}}function f(g){try{m(s.throw(g))}catch(_){h(_)}}function m(g){g.done?u(g.value):a(g.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};const xr=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Jh=(o,i,n)=>jt(void 0,void 0,void 0,function*(){const s=yield Vh();o instanceof s&&!n?.noResolveJson?o.json().then(a=>{i(new Hh(xr(a),o.status||500))}).catch(a=>{i(new zr(xr(a),a))}):i(new zr(xr(o),o))}),Yh=(o,i,n,s)=>{const a={method:o,headers:i?.headers||{}};return o==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},i?.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),n))};function Bi(o,i,n,s,a,u){return jt(this,void 0,void 0,function*(){return new Promise((h,d)=>{o(n,Yh(i,s,a,u)).then(f=>{if(!f.ok)throw f;return s?.noResolveJson?f:f.json()}).then(f=>h(f)).catch(f=>Jh(f,d,s))})})}function Pn(o,i,n,s){return jt(this,void 0,void 0,function*(){return Bi(o,"GET",i,n,s)})}function _t(o,i,n,s,a){return jt(this,void 0,void 0,function*(){return Bi(o,"POST",i,s,a,n)})}function Qh(o,i,n,s,a){return jt(this,void 0,void 0,function*(){return Bi(o,"PUT",i,s,a,n)})}function Xh(o,i,n,s){return jt(this,void 0,void 0,function*(){return Bi(o,"HEAD",i,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function ua(o,i,n,s,a){return jt(this,void 0,void 0,function*(){return Bi(o,"DELETE",i,s,a,n)})}var Ce=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(g){try{m(s.next(g))}catch(_){h(_)}}function f(g){try{m(s.throw(g))}catch(_){h(_)}}function m(g){g.done?u(g.value):a(g.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};const ec={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ho={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tc{constructor(i,n={},s,a){this.url=i,this.headers=n,this.bucketId=s,this.fetch=la(a)}uploadOrUpdate(i,n,s,a){return Ce(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},ho),a);let d=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(h.upsert)});const f=h.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),f&&u.append("metadata",this.encodeMetadata(f)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.append("cacheControl",h.cacheControl),f&&u.append("metadata",this.encodeMetadata(f))):(u=s,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(d=Object.assign(Object.assign({},d),a.headers));const m=this._removeEmptyFolders(n),g=this._getFinalPath(m),_=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:i,body:u,headers:d},h?.duplex?{duplex:h.duplex}:{})),w=yield _.json();return _.ok?{data:{path:m,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(u){if(ke(u))return{data:null,error:u};throw u}})}upload(i,n,s){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,n,s)})}uploadToSignedUrl(i,n,s,a){return Ce(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(i),h=this._getFinalPath(u),d=new URL(this.url+`/object/upload/sign/${h}`);d.searchParams.set("token",n);try{let f;const m=Object.assign({upsert:ho.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",m.cacheControl)):(f=s,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const _=yield this.fetch(d.toString(),{method:"PUT",body:f,headers:g}),w=yield _.json();return _.ok?{data:{path:u,fullPath:w.Key},error:null}:{data:null,error:w}}catch(f){if(ke(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(i,n){return Ce(this,void 0,void 0,function*(){try{let s=this._getFinalPath(i);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const u=yield _t(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),h=new URL(this.url+u.url),d=h.searchParams.get("token");if(!d)throw new Xr("No token returned by API");return{data:{signedUrl:h.toString(),path:i,token:d},error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}update(i,n,s){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,n,s)})}move(i,n,s){return Ce(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}})}copy(i,n,s){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield _t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}})}createSignedUrl(i,n,s){return Ce(this,void 0,void 0,function*(){try{let a=this._getFinalPath(i),u=yield _t(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const h=s?.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}})}createSignedUrls(i,n,s){return Ce(this,void 0,void 0,function*(){try{const a=yield _t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:i},{headers:this.headers}),u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}})}download(i,n){return Ce(this,void 0,void 0,function*(){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),h=u?`?${u}`:"";try{const d=this._getFinalPath(i);return{data:yield(yield Pn(this.fetch,`${this.url}/${a}/${d}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(ke(d))return{data:null,error:d};throw d}})}info(i){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(i);try{const s=yield Pn(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Br(s),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}exists(i){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(i);try{return yield Xh(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(ke(s)&&s instanceof zr){const a=s.originalError;if([400,404].includes(a?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(i,n){const s=this._getFinalPath(i),a=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&a.push(u);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&a.push(f);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${m}`)}}}remove(i){return Ce(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}list(i,n,s){return Ce(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},ec),n),{prefix:i||""});return{data:yield _t(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}}const ic="2.7.1",nc={"X-Client-Info":`storage-js/${ic}`};var Jt=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(g){try{m(s.next(g))}catch(_){h(_)}}function f(g){try{m(s.throw(g))}catch(_){h(_)}}function m(g){g.done?u(g.value):a(g.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};class rc{constructor(i,n={},s){this.url=i,this.headers=Object.assign(Object.assign({},nc),n),this.fetch=la(s)}listBuckets(){return Jt(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(ke(i))return{data:null,error:i};throw i}})}getBucket(i){return Jt(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}createBucket(i,n={public:!1}){return Jt(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}updateBucket(i,n){return Jt(this,void 0,void 0,function*(){try{return{data:yield Qh(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}emptyBucket(i){return Jt(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}deleteBucket(i){return Jt(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}}class sc extends rc{constructor(i,n={},s){super(i,n,s)}from(i){return new tc(this.url,this.headers,i,this.fetch)}}const oc="2.47.14";let qi="";typeof Deno<"u"?qi="deno":typeof document<"u"?qi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qi="react-native":qi="node";const ac={"X-Client-Info":`supabase-js-${qi}/${oc}`},lc={headers:ac},uc={schema:"public"},hc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cc={};var dc=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(g){try{m(s.next(g))}catch(_){h(_)}}function f(g){try{m(s.throw(g))}catch(_){h(_)}}function m(g){g.done?u(g.value):a(g.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};const fc=o=>{let i;return o?i=o:typeof fetch>"u"?i=Ho:i=fetch,(...n)=>i(...n)},pc=()=>typeof Headers>"u"?Ko:Headers,mc=(o,i,n)=>{const s=fc(n),a=pc();return(u,h)=>dc(void 0,void 0,void 0,function*(){var d;const f=(d=yield i())!==null&&d!==void 0?d:o;let m=new a(h?.headers);return m.has("apikey")||m.set("apikey",o),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),s(u,Object.assign(Object.assign({},h),{headers:m}))})};var gc=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(g){try{m(s.next(g))}catch(_){h(_)}}function f(g){try{m(s.throw(g))}catch(_){h(_)}}function m(g){g.done?u(g.value):a(g.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};function _c(o){return o.replace(/\/$/,"")}function vc(o,i){const{db:n,auth:s,realtime:a,global:u}=o,{db:h,auth:d,realtime:f,global:m}=i,g={db:Object.assign(Object.assign({},h),n),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},f),a),global:Object.assign(Object.assign({},m),u),accessToken:()=>gc(this,void 0,void 0,function*(){return""})};return o.accessToken?g.accessToken=o.accessToken:delete g.accessToken,g}const ha="2.67.3",yc="http://localhost:9999",wc="supabase.auth.token",bc={"X-Client-Info":`gotrue-js/${ha}`},co=10,Dr="X-Supabase-Api-Version",ca={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function xc(o){return Math.round(Date.now()/1e3)+o}function kc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const i=Math.random()*16|0;return(o=="x"?i:i&3|8).toString(16)})}const Ye=()=>typeof window<"u"&&typeof document<"u",Lt={tested:!1,writable:!1},Mi=()=>{if(!Ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Lt.tested)return Lt.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Lt.tested=!0,Lt.writable=!0}catch{Lt.tested=!0,Lt.writable=!1}return Lt.writable};function Ac(o){const i={},n=new URL(o);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,u)=>{i[u]=a})}catch{}return n.searchParams.forEach((s,a)=>{i[a]=s}),i}const da=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...n)=>ii(async()=>{const{default:s}=await Promise.resolve().then(()=>si);return{default:s}},void 0).then(({default:s})=>s(...n)):i=fetch,(...n)=>i(...n)},Pc=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",fa=async(o,i,n)=>{await o.setItem(i,JSON.stringify(n))},fn=async(o,i)=>{const n=await o.getItem(i);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pn=async(o,i)=>{await o.removeItem(i)};function Tc(o){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",s,a,u,h,d,f,m,g=0;for(o=o.replace("-","+").replace("_","/");g<o.length;)h=i.indexOf(o.charAt(g++)),d=i.indexOf(o.charAt(g++)),f=i.indexOf(o.charAt(g++)),m=i.indexOf(o.charAt(g++)),s=h<<2|d>>4,a=(d&15)<<4|f>>2,u=(f&3)<<6|m,n=n+String.fromCharCode(s),f!=64&&a!=0&&(n=n+String.fromCharCode(a)),m!=64&&u!=0&&(n=n+String.fromCharCode(u));return n}class Bn{constructor(){this.promise=new Bn.promiseConstructor((i,n)=>{this.resolve=i,this.reject=n})}}Bn.promiseConstructor=Promise;function fo(o){const i=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=o.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!i.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=n[1];return JSON.parse(Tc(s))}async function Sc(o){return await new Promise(i=>{setTimeout(()=>i(null),o)})}function Lc(o,i){return new Promise((s,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await o(u);if(!i(u,null,h)){s(h);return}}catch(h){if(!i(u,h)){a(h);return}}})()})}function Cc(o){return("0"+o.toString(16)).substr(-2)}function Ec(){const i=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let u=0;u<56;u++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(i),Array.from(i,Cc).join("")}async function qc(o){const n=new TextEncoder().encode(o),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}function Oc(o){return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jc(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const n=await qc(o);return Oc(n)}async function Yt(o,i,n=!1){const s=Ec();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await fa(o,`${i}-code-verifier`,a);const u=await jc(s);return[u,s===u?"plain":"s256"]}const Mc=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $c(o){const i=o.headers.get(Dr);if(!i||!i.match(Mc))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}let es=class extends Error{constructor(i,n,s){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}};function K(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class Ic extends es{constructor(i,n,s){super(i,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Rc(o){return K(o)&&o.name==="AuthApiError"}class pa extends es{constructor(i,n){super(i),this.name="AuthUnknownError",this.originalError=n}}class Mt extends es{constructor(i,n,s,a){super(i,s,a),this.name=n,this.status=s}}class mt extends Mt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zc(o){return K(o)&&o.name==="AuthSessionMissingError"}class kr extends Mt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mn extends Mt{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class gn extends Mt{constructor(i,n=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Bc(o){return K(o)&&o.name==="AuthImplicitGrantRedirectError"}class po extends Mt{constructor(i,n=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nr extends Mt{constructor(i,n){super(i,"AuthRetryableFetchError",n,void 0)}}function Ar(o){return K(o)&&o.name==="AuthRetryableFetchError"}class mo extends Mt{constructor(i,n,s){super(i,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}var Dc=function(o,i){var n={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.indexOf(s)<0&&(n[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(o);a<s.length;a++)i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(o,s[a])&&(n[s[a]]=o[s[a]]);return n};const Ct=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Nc=[502,503,504];async function go(o){var i;if(!Pc(o))throw new Nr(Ct(o),0);if(Nc.includes(o.status))throw new Nr(Ct(o),o.status);let n;try{n=await o.json()}catch(u){throw new pa(Ct(u),u)}let s;const a=$c(o);if(a&&a.getTime()>=ca["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new mo(Ct(n),o.status,((i=n.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(s==="session_not_found")throw new mt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new mo(Ct(n),o.status,n.weak_password.reasons);throw new Ic(Ct(n),o.status||500,s)}const Zc=(o,i,n,s)=>{const a={method:o,headers:i?.headers||{}};return o==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function ee(o,i,n,s){var a;const u=Object.assign({},s?.headers);u[Dr]||(u[Dr]=ca["2024-01-01"].name),s?.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const h=(a=s?.query)!==null&&a!==void 0?a:{};s?.redirectTo&&(h.redirect_to=s.redirectTo);const d=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",f=await Uc(o,i,n+d,{headers:u,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(f):{data:Object.assign({},f),error:null}}async function Uc(o,i,n,s,a,u){const h=Zc(i,s,a,u);let d;try{d=await o(n,Object.assign({},h))}catch(f){throw console.error(f),new Nr(Ct(f),0)}if(d.ok||await go(d),s?.noResolveJson)return d;try{return await d.json()}catch(f){await go(f)}}function gt(o){var i;let n=null;Hc(o)&&(n=Object.assign({},o),o.expires_at||(n.expires_at=xc(o.expires_in)));const s=(i=o.user)!==null&&i!==void 0?i:o;return{data:{session:n,user:s},error:null}}function _o(o){const i=gt(o);return!i.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(i.data.weak_password=o.weak_password),i}function vt(o){var i;return{data:{user:(i=o.user)!==null&&i!==void 0?i:o},error:null}}function Fc(o){return{data:o,error:null}}function Wc(o){const{action_link:i,email_otp:n,hashed_token:s,redirect_to:a,verification_type:u}=o,h=Dc(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:i,email_otp:n,hashed_token:s,redirect_to:a,verification_type:u},f=Object.assign({},h);return{data:{properties:d,user:f},error:null}}function Gc(o){return o}function Hc(o){return o.access_token&&o.refresh_token&&o.expires_in}var Kc=function(o,i){var n={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.indexOf(s)<0&&(n[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(o);a<s.length;a++)i.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(o,s[a])&&(n[s[a]]=o[s[a]]);return n};class Vc{constructor({url:i="",headers:n={},fetch:s}){this.url=i,this.headers=n,this.fetch=da(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,n="global"){try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}async inviteUserByEmail(i,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async generateLink(i){try{const{options:n}=i,s=Kc(i,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s?.newEmail,delete a.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Wc,redirectTo:n?.redirectTo})}catch(n){if(K(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(i){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:vt})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async listUsers(i){var n,s,a,u,h,d,f;try{const m={nextPage:null,lastPage:0,total:0},g=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=i?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(u=(a=i?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Gc});if(g.error)throw g.error;const _=await g.json(),w=(h=g.headers.get("x-total-count"))!==null&&h!==void 0?h:0,k=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return k.length>0&&(k.forEach(E=>{const x=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);m[`${C}Page`]=x}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(K(m))return{data:{users:[]},error:m};throw m}}async getUserById(i){try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:vt})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async updateUserById(i,n){try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:n,headers:this.headers,xform:vt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async deleteUser(i,n=!1){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:n},xform:vt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async _listFactors(i){try{const{data:n,error:s}=await ee(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteFactor(i){try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}const Jc={getItem:o=>Mi()?globalThis.localStorage.getItem(o):null,setItem:(o,i)=>{Mi()&&globalThis.localStorage.setItem(o,i)},removeItem:o=>{Mi()&&globalThis.localStorage.removeItem(o)}};function vo(o={}){return{getItem:i=>o[i]||null,setItem:(i,n)=>{o[i]=n},removeItem:i=>{delete o[i]}}}function Yc(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qt={debug:!!(globalThis&&Mi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ma extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class Qc extends ma{}async function Xc(o,i,n){Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,i);const s=new globalThis.AbortController;return i>0&&setTimeout(()=>{s.abort(),Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,a.name);try{return await n()}finally{Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,a.name)}}else{if(i===0)throw Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new Qc(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Qt.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Yc();const ed={url:yc,storageKey:wc,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bc,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Li=30*1e3,yo=3;async function wo(o,i,n){return await n()}class Ri{constructor(i){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ri.nextInstanceID,Ri.nextInstanceID+=1,this.instanceID>0&&Ye()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},ed),i);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Vc({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=da(a.fetch),this.lock=a.lock||wo,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ye()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Xc:this.lock=wo,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Mi()?this.storage=Jc:(this.memoryStorage={},this.storage=vo(this.memoryStorage)):(this.memoryStorage={},this.storage=vo(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ha}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const n=Ac(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Ye()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:u}=await this._getSessionFromURL(n,s);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Bc(u)){const f=(i=u.details)===null||i===void 0?void 0:i.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",h,"redirect type",d),await this._saveSession(h),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return K(n)?{error:n}:{error:new pa("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var n,s,a;try{const u=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=i?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=i?.options)===null||a===void 0?void 0:a.captchaToken}},xform:gt}),{data:h,error:d}=u;if(d||!h)return{data:{user:null,session:null},error:d};const f=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(u){if(K(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(i){var n,s,a;try{let u;if("email"in i){const{email:g,password:_,options:w}=i;let k=null,E=null;this.flowType==="pkce"&&([k,E]=await Yt(this.storage,this.storageKey)),u=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:_,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:k,code_challenge_method:E},xform:gt})}else if("phone"in i){const{phone:g,password:_,options:w}=i;u=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:_,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:gt})}else throw new mn("You must provide either an email or phone number and a password");const{data:h,error:d}=u;if(d||!h)return{data:{user:null,session:null},error:d};const f=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(u){if(K(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(i){try{let n;if("email"in i){const{email:u,password:h,options:d}=i;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:_o})}else if("phone"in i){const{phone:u,password:h,options:d}=i;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:_o})}else throw new mn("You must provide either an email or phone number and a password");const{data:s,error:a}=n;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new kr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(i){var n,s,a,u;return await this._handleProviderSignIn(i.provider,{redirectTo:(n=i.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=i.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=i.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=i.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async _exchangeCodeForSession(i){const n=await fn(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{const{data:u,error:h}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:s},xform:gt});if(await pn(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new kr}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:h})}catch(u){if(K(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(i){try{const{options:n,provider:s,token:a,access_token:u,nonce:h}=i,d=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:gt}),{data:f,error:m}=d;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new kr}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:m})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(i){var n,s,a,u,h;try{if("email"in i){const{email:d,options:f}=i;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Yt(this.storage,this.storageKey));const{error:_}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in i){const{phone:d,options:f}=i,{data:m,error:g}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(u=f?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(h=f?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:g}}throw new mn("You must provide either an email or phone number.")}catch(d){if(K(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(i){var n,s;try{let a,u;"options"in i&&(a=(n=i.options)===null||n===void 0?void 0:n.redirectTo,u=(s=i.options)===null||s===void 0?void 0:s.captchaToken);const{data:h,error:d}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:gt});if(d)throw d;if(!h)throw new Error("An error occurred on token verification.");const f=h.session,m=h.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:m,session:f},error:null}}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(i){var n,s,a;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await Yt(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(s=(n=i.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=i?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:Fc})}catch(u){if(K(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:n},error:s}=i;if(s)throw s;if(!n)throw new mt;const{error:a}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const n=`${this.url}/resend`;if("email"in i){const{email:s,type:a,options:u}=i,{error:h}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in i){const{phone:s,type:a,options:u}=i,{data:h,error:d}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:d}}throw new mn("You must provide either an email or phone number and a type")}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(i,n){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await i(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const n=await fn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?i=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const s=i.expires_at?i.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",i.expires_at),!s){if(this.storage.isServer){let h=this.suppressGetSessionWarning;i=new Proxy(i,{get:(f,m,g)=>(!h&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,m,g))})}return{data:{session:i},error:null}}const{session:a,error:u}=await this._callRefreshToken(i.refresh_token);return u?{data:{session:null},error:u}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:vt}):await this._useSession(async n=>{var s,a,u;const{data:h,error:d}=n;if(d)throw d;return!(!((s=h.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(a=h.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0,xform:vt})})}catch(n){if(K(n))return zc(n)&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(i,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,n))}async _updateUser(i,n={}){try{return await this._useSession(async s=>{const{data:a,error:u}=s;if(u)throw u;if(!a.session)throw new mt;const h=a.session;let d=null,f=null;this.flowType==="pkce"&&i.email!=null&&([d,f]=await Yt(this.storage,this.storageKey));const{data:m,error:g}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:d,code_challenge_method:f}),jwt:h.access_token,xform:vt});if(g)throw g;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}_decodeJWT(i){return fo(i)}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new mt;const n=Date.now()/1e3;let s=n,a=!0,u=null;const h=fo(i.access_token);if(h.exp&&(s=h.exp,a=s<=n),a){const{session:d,error:f}=await this._callRefreshToken(i.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:f}=await this._getUser(i.access_token);if(f)throw f;u={access_token:i.access_token,refresh_token:i.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(K(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async n=>{var s;if(!i){const{data:h,error:d}=n;if(d)throw d;i=(s=h.session)!==null&&s!==void 0?s:void 0}if(!i?.refresh_token)throw new mt;const{session:a,error:u}=await this._callRefreshToken(i.refresh_token);return u?{data:{user:null,session:null},error:u}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(i,n){try{if(!Ye())throw new gn("No browser detected.");if(i.error||i.error_description||i.error_code)throw new gn(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new po("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gn("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new po("No code detected.");const{data:P,error:T}=await this._exchangeCodeForSession(i.code);if(T)throw T;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:u,refresh_token:h,expires_in:d,expires_at:f,token_type:m}=i;if(!u||!d||!h||!m)throw new gn("No session defined in URL");const g=Math.round(Date.now()/1e3),_=parseInt(d);let w=g+_;f&&(w=parseInt(f));const k=w-g;k*1e3<=Li&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${_}s`);const E=w-_;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,g);const{data:x,error:C}=await this._getUser(u);if(C)throw C;const A={provider_token:s,provider_refresh_token:a,access_token:u,expires_in:_,expires_at:w,refresh_token:h,token_type:m,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:i.type},error:null}}catch(s){if(K(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const n=await fn(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&n)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:u}=n;if(u)return{error:u};const h=(s=a.session)===null||s===void 0?void 0:s.access_token;if(h){const{error:d}=await this.admin.signOut(h,i);if(d&&!(Rc(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return i!=="others"&&(await this._removeSession(),await pn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const n=kc(),s={id:n,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(i){return await this._useSession(async n=>{var s,a;try{const{data:{session:u},error:h}=n;if(h)throw h;await((s=this.stateChangeEmitters.get(i))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",i,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(i))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",u),console.error(u)}})}async resetPasswordForEmail(i,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Yt(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(K(u))return{data:null,error:u};throw u}}async getUserIdentities(){var i;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(i=n.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async linkIdentity(i){var n;try{const{data:s,error:a}=await this._useSession(async u=>{var h,d,f,m,g;const{data:_,error:w}=u;if(w)throw w;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(h=i.options)===null||h===void 0?void 0:h.redirectTo,scopes:(d=i.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=i.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",k,{headers:this.headers,jwt:(g=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return Ye()&&!(!((n=i.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:i.provider,url:s?.url},error:null}}catch(s){if(K(s))return{data:{provider:i.provider,url:null},error:s};throw s}}async unlinkIdentity(i){try{return await this._useSession(async n=>{var s,a;const{data:u,error:h}=n;if(h)throw h;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(a=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _refreshAccessToken(i){const n=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Lc(async a=>(a>0&&await Sc(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:gt})),(a,u)=>{const h=200*Math.pow(2,a);return u&&Ar(u)&&Date.now()+h-s<Li})}catch(s){if(this._debug(n,"error",s),K(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",n,"url",s),Ye()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:i,url:s},error:null}}async _recoverAndRefresh(){var i;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await fn(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),u=((i=s.expires_at)!==null&&i!==void 0?i:1/0)<a+co;if(this._debug(n,`session has${u?"":" not"} expired with margin of ${co}s`),u){if(this.autoRefreshToken&&s.refresh_token){const{error:h}=await this._callRefreshToken(s.refresh_token);h&&(console.error(h),Ar(h)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(i){var n,s;if(!i)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Bn;const{data:u,error:h}=await this._refreshAccessToken(i);if(h)throw h;if(!u.session)throw new mt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={session:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(a,"error",u),K(u)){const h={session:null,error:u};return Ar(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(i,n,s=!0){const a=`#_notifyAllSubscribers(${i})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:i,session:n});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(i,n)}catch(f){u.push(f)}});if(await Promise.all(h),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0,await fa(this.storage,this.storageKey,i)}async _removeSession(){this._debug("#_removeSession()"),await pn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&Ye()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),Li);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-i)/Li);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Li}ms, refresh threshold is ${yo} ticks`),a<=yo&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof ma)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const n=`#_onVisibilityChanged(${i})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[u,h]=await Yt(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});a.push(d.toString())}if(s?.queryParams){const u=new URLSearchParams(s.queryParams);a.push(u.toString())}return s?.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${i}?${a.join("&")}`}async _unenroll(i){try{return await this._useSession(async n=>{var s;const{data:a,error:u}=n;return u?{data:null,error:u}:await ee(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _enroll(i){try{return await this._useSession(async n=>{var s,a;const{data:u,error:h}=n;if(h)return{data:null,error:h};const d=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:f,error:m}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(i.factorType==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:u}=n;if(u)return{data:null,error:u};const{data:h,error:d}=await ee(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:d})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:u}=n;return u?{data:null,error:u}:await ee(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(i){const{data:n,error:s}=await this._challenge({factorId:i.factorId});return s?{data:null,error:s}:await this._verify({factorId:i.factorId,challengeId:n.id,code:i.code})}async _listFactors(){const{data:{user:i},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=i?.factors||[],a=s.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=s.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:s,totp:a,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var n,s;const{data:{session:a},error:u}=i;if(u)return{data:null,error:u};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const h=this._decodeJWT(a.access_token);let d=null;h.aal&&(d=h.aal);let f=d;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const g=h.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}}Ri.nextInstanceID=0;const td=Ri;class id extends td{constructor(i){super(i)}}var nd=function(o,i,n,s){function a(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function d(g){try{m(s.next(g))}catch(_){h(_)}}function f(g){try{m(s.throw(g))}catch(_){h(_)}}function m(g){g.done?u(g.value):a(g.value).then(d,f)}m((s=s.apply(o,i||[])).next())})};class rd{constructor(i,n,s){var a,u,h;if(this.supabaseUrl=i,this.supabaseKey=n,!i)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const d=_c(i);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:uc,realtime:cc,auth:Object.assign(Object.assign({},hc),{storageKey:f}),global:lc},g=vc(s??{},m);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=g.auth)!==null&&h!==void 0?h:{},this.headers,g.global.fetch),this.fetch=mc(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new Eh(`${d}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new rh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new sc(this.storageUrl,this.headers,this.fetch)}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},s={}){return this.rest.rpc(i,n,s)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,n;return nd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:s,storage:a,storageKey:u,flowType:h,lock:d,debug:f},m,g){var _;const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new id({url:this.authUrl,headers:Object.assign(Object.assign({},w),m),storageKey:u,autoRefreshToken:i,persistSession:n,detectSessionInUrl:s,storage:a,flowType:h,lock:d,debug:f,fetch:g,hasCustomAuthorizationHeader:(_="Authorization"in this.headers)!==null&&_!==void 0?_:!1})}_initRealtimeClient(i){return new Wh(this.realtimeUrl,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(i,n,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sd=(o,i,n)=>new rd(o,i,n);async function od(o,i){const a="https://fr24api.flightradar24.com/api/sandbox/live/flight-positions/full",u={Accept:"application/json",Authorization:"Bearer 9d64c490-73c1-4abc-b7b7-efe16ecf1a6a|GWNYeAKtJ1cXb1wM4fhW3SPeKTbeGABtWTxnaTEh4f35fc6d","Accept-Version":"v1"};try{if(i!==null){const h=await fetch(`${a}?bounds=${i}`,{method:"GET",headers:u});if(!h.ok){const f=await h.text();throw new Error(`Error ${h.status}: ${f}`)}const d=await h.json();if(d!==null)return d.data.map(m=>({lat:m.lat,lon:m.lon,alt:m.alt,call:m.callsign,brz:m.gspeed,modelA:m.type}))}}catch(h){throw console.error("Greška pri dohvaćanju podataka o letovima:",h),h}}async function ad(o,i){const n=`https://api.open-meteo.com/v1/elevation?latitude=${o}&longitude=${i}`;try{if(o===null||i===null)return console.log("API nije uspio dohvatiti latitudu ili longitudu"),null;const s=await fetch(n);if(!s.ok){const u=await s.text();throw new Error(`Error ${s.status}: ${u}`)}const a=await s.json();return a!==null?(console.log("Prikupljena elevacija:",a.elevation),a.elevation):(console.log("API nije pronašao podatke za elevaciju."),null)}catch(s){throw console.error("Greška pri dohvaćanju podataka o elevaciji:",s),s}}const ld="/ZavrsniV2/assets/bingo-By8HdSJr.mp3",ud="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAAJAAAPfAA8PDw8PDw8PDw8PFJSUlJSUlJSUlJSXFxcXFxcXFxcXFyBgYGBgYGBgYGBgba2tra2tra2tra20NDQ0NDQ0NDQ0NDj4+Pj4+Pj4+Pj4/Dw8PDw8PDw8PDw//////////////8AAABQTEFNRTMuMTAwBLkAAAAAAAAAABUgJAN7QQAB4AAAD3wjY5PZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//vQxAAACYwDcfQQACTDw2m3PbBRREZwAEl/LLJPhg+D7ww0HwfD6z+fDHKawfBAEHKAfgh/B8EHf/Lg+D4Pg+CAIO/iAEAxWD4Pg+CAIAgCAJg+D4Pg/1AmD4Pg/9IPg+dmgABQICBfQAgCCUAgmkCQAG9XqMgKmBcBwYEoHhgRAYygwFwPEQDAaCvMLAJgwBQEjHrI7EgQzRodMMAYD5kKgpiQE/JUJ2SqliTjUbDEcUkGcuC1puxhQK/MfXMauII90gWHz5BwOCVbi7yAZfKKo6TBcCUechmJiAe9rguurmGZpSyVQTQ5pTCALiEtvvqx46UOSbuYuTLa1Z2YRL71zN9oDjdjCtTZKUmTAE7q1LodlFeafLGta7lWf6DF65f//+AgGGb0m943J59ZLR65+X61v0C6n6//7v8iQLIgzm////fdbuS7LH68q//+lbWl3ld3zNO2W4YTMbZWteR9rcwz6slrlrd6vWyy3jjrLL//////////HWW98z5n3///////////+pr//7ySjFi/Ff2HYAAmnmCPkRNFql1Bp/gqAIbQzkqVdzDjEUoAW5iwSGAtiNCFGQXxMLR90MZTLnOlCIBYB0WTdv//1IQWQAQtP///5EA+Ck3Rf/9DjigilIm////NN////Ix4Kx3///yE4Nf/kd+WVAAqinhBgKPvwWxEgLkKcjS0TEyQYBLvGDgJGDoknNLFGGYAoKLXfhwH/pLcDRCcwkYx5DXZTBzQqgCx9erqsCzM0f+PCUBEMnI///9jhSD1t5z5rehzqaaaOjURQcllN//+j1YeGzt///XHSOr/g0JQ0t6AABddwAABj3U3BAiHY0qinMW6NgU9UDC4DnOdQQExKAEQcEMPAUF+2tvpBttgVbdmWo3KrTiQKGAScJGiRqJpYhAAFI4AH7tNcrl6mUl6kHQUCCRjE5MEMXw1lzXTCPBGOCS50Zfp7YepHLv55WE4UAMrVZmFIAABj7QAAAzi45D46Go7j4EDQx4BRJhAA8HApYy4sKTDA9IdMQJu4wDQgzAyC6pZxLzrLH0bd22tv2j+kuX7QFsnfhgD+R+flUgjksyr18sK8/tYoIGe3KgACsqoYP/7cMTYAAzBk039tQAB0qunvdQeXEATRiABfGAkBCYZIephHgaGGQGMGBEmBsAwYFQJhg+gjmCYAAYTYDhjTDIHPZQGYhwARg9hRmBmCAAgMSgEEwKQVTBNASMLwRYw0gMDCjFhMhsfEwujWjNCBBNBo1owMSSTH9E3MM8HMzRFjhiYBRRMXkkaLRkcwmSQeYKFBiYPGFAIKg0wuCWRO6yQvuYDAKXYUBRhYLBwURvV+tNZxgQMGJBIYYAifqWZgILGHAkHB8LAYwUAi5BgIOGNiQZQIxi4DAEMmNhMJBUaCZiYpGYjgZwAxq+DmTZQd6OxyyUGGkOZvGoKFRkw9GeC0Y0AwJBaZwKAYgDBjIgGPhgDhYlWxIwECA4IX0AQBWCAAQKMscMwOSYUzQUaYtACAC3kCsPf5QD/+yDE/IBIAFcprPjK6NCG5X2fYUVS+JLCPyxN6EhEwGyoKMJLbuMFAQOMGRXmNSHCJGgWA4CYMKHAxAAAwhrqRcDKBtnR4R8jLW4spg3jDH4pWBtsCACtKEtrRaNryKjkoru8iYgEZorYnQwstmgu0YtggAXQqdTduwAFGQBBUmYE//ugxPiACzRhI+17Ki+SPeMl7mqoMaAcIwpjASsKl60EiHkht/6affRnDiTMvgBrkyxCKw/HHcsVL1fHOYjFivflEOVoYnJXL4Aa5JnbeRlbL1GjCABGTKE5jiQ0AXwmpd6qKoWBBxGMxemQQEGJ5XAJmwcOLXQEDJgQA5fUwME0yDnY/d2gaxIIEUIA0VBYxtAEzgCMyzFA0xQY0MT00iQUwfXg5VtoyElElMtOBzzCvgGUwNAGSMC1AmDNcYDIZNTLITDCwWzEkmjGAMTCUNjCsEgIBBgCC5g0BpVAZm4WAVDrUehQ4MAJKcwKAFNUKgApaIQEMEQSDAKW2W9fCGwACpgqCQGBZJ8mAEEgAYIgIIgJMGgbMHABMDAFMBgBMGw2MTxEDBfMQh3MlihCt3GMfSmZCWmLQqg4IDEUSjD0DRQHzEoJS6gVAIwMAgwpAowdCgLgWpqEASGAECgFBgTgYMi/wWANpEFJ5FkS4KsDNdhUAlJRtMGo1xA8MApkiUZfFlS5pE9KVq2VMXqLjJFCIATBINSobhigMJhyDZgYDKFgNAAvktEuy4Cw0Oq3LWbq4vGlPel6807H2WoTlGSzq7EFmyIrPOoC1hFKD8k9UflDS7L2ICjAMAFRMpgWGlpGAYDA4BioBJhIEZgWMxiWXqMZgkAoFAFMJdTd0iX5pH6ZU/VqAWuw//vAxNOAPHXvHg7/sgK0vSh9wdbRY6zortjbEYIa9BMJpojORmJQ9nS0tBFo65U9DMCvs5UfYbBytrNWVFsiz5ggF5hcYwsPoQLAiBBJYiBS+9POTCAYCeiR2NGAwGZ0DQQWWW+gBiiKSVTd1esSaTRPrGHKpZqNV3dRFHQAY7F5uAEHABat5H1gz+yqljW8gMHBVLwzyGpNz/+Ic573agmTgmYGhQ0A0NAvkQ0NmFGTPIl44mytFS1tb7pvutzNkNRgggrUVyfIuRgNwCAwhISRumpAwMEHrTL5ubp2QQQQb6f//VzMuCbwMhhoPXKo7DT///////VmgyxkVzNS7rvL2DAAewCCGdF5VYGDcu8uynV2O2WfOhZycXGCnWXZH3YEIAhQVDADxjFEazCUDERU1l0vdKZ/7RifTbzxPoom55B6X6CdetqVZifWZEeJYCRtA10Wg1WBYiMkVSseVfWj61KSSSS60UW/0UUUazImiBEGIsTwiQGTSAW+h3hPQyRPJJJF4vGqPWyNaKKPWiklqSdJX/11mQSDgaYCMiYnS0rXr+v///9etqnRMisJQGmRQuGaF1VVmwAAKAFW7SquoC9oVAAsDbUFqZfYht/GdqAAEBmJhQeTfB9MdGEgCoM5MNR2f3hYKDJIrqTIrNk7ra36S+r+mgbkwLnBs6B+N4WyJUwWy2//T9VmQVRczpJp/1IMy3G6AmqDIwjodx4413XuvUyr7OilutSbVO6KVS1HUDybFc1KwYpBsHiyiHFYyOsmyVnRSW1S7f////TSEFhFzRAso5kJiZoAAL0BgjP95//c/7vm6isjEGqNy7XjDpugnOKAFDIN5gdp/mE+EsYIgDoCAeQApnOy16K37I/FcoZDt1m1pMeTVdSZdKuio2LqjoJgA66DQBBxqmeLy27r9BFST1OiilrRRpJIo1JPopJHSdKJUHsAhYGwonIipxMumrVIosr/+4DE7gCW7e077taW4oo9pzw+UWxJJKtJLRRapFHUklXvWi2iiipIhwfEPYrUtkVNUW6X/////9H5dLo1nZgWFAAA4EZCGRHvNP+j3LLbSbUFwwpmgALJmDAUGNo/nnnQnrArmFYFBQBVTLRXk/salFGAN+ccKzqIfNV3dmeGIAA/AAApC8uLi3ME1mlrllscWJLbC8X0iLAEnQaCsYAafBjzA6mCuAwBgNRIApNVUzu0dS4AIu3xqBEYIoOgj0iQtT2YmXiUAAD/A3yHkEG4GAjSfi5qPSvVahNJESLKIp7rvxB50AhgMGmEAMc5yQcv4PbZ+6COSjG7LKmfcqljfc6enldykqY/hdp+6wxr09jX////hhWUeWeUdAcAlhfywhAAAAAABJWPmqWmHaRKjUAMAKNfxOSufWImGAmNQGmemIYTkNBMBBogNAIAUQiwLiAIMoCiKFKgZaaoGLx8BgMCgCBMAwEheQIgWP/7YMTtAFU55zPvDnao9g1lPB6JbQoKBAcT+A0MQMFBcG2gKAYXMTRWJkNjFwDwTIfOBhMRABAMCQMAwIDwsYWySnK5fMEDRYnIQmIUgpDSR/d7Nl4yNi6Ymht//SsTRfLRASYK5AimTn/R/8gJYJ8ixRLhdMjNIu////5wRAqZBsAiMGf//+osLgIiARGqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7QMTxAEkAaynjeKtpTRBlPp/ABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//tQxPOAGeVfLfmqggAAAD/DgAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==";var Zr={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(o,i){(function(n,s){s(i)})(Me,function(n){var s="1.9.4";function a(e){var t,r,l,c;for(r=1,l=arguments.length;r<l;r++){c=arguments[r];for(t in c)e[t]=c[t]}return e}var u=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function h(e,t){var r=Array.prototype.slice;if(e.bind)return e.bind.apply(e,r.call(arguments,1));var l=r.call(arguments,2);return function(){return e.apply(t,l.length?l.concat(r.call(arguments)):arguments)}}var d=0;function f(e){return"_leaflet_id"in e||(e._leaflet_id=++d),e._leaflet_id}function m(e,t,r){var l,c,p,v;return v=function(){l=!1,c&&(p.apply(r,c),c=!1)},p=function(){l?c=arguments:(e.apply(r,arguments),setTimeout(v,t),l=!0)},p}function g(e,t,r){var l=t[1],c=t[0],p=l-c;return e===l&&r?e:((e-c)%p+p)%p+c}function _(){return!1}function w(e,t){if(t===!1)return e;var r=Math.pow(10,t===void 0?6:t);return Math.round(e*r)/r}function k(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function E(e){return k(e).split(/\s+/)}function x(e,t){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?u(e.options):{});for(var r in t)e.options[r]=t[r];return e.options}function C(e,t,r){var l=[];for(var c in e)l.push(encodeURIComponent(r?c.toUpperCase():c)+"="+encodeURIComponent(e[c]));return(!t||t.indexOf("?")===-1?"?":"&")+l.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function P(e,t){return e.replace(A,function(r,l){var c=t[l];if(c===void 0)throw new Error("No value provided for variable "+r);return typeof c=="function"&&(c=c(t)),c})}var T=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function q(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var Q=0;function N(e){var t=+new Date,r=Math.max(0,16-(t-Q));return Q=t+r,window.setTimeout(e,r)}var U=window.requestAnimationFrame||I("RequestAnimationFrame")||N,Y=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function re(e,t,r){if(r&&U===N)e.call(t);else return U.call(window,h(e,t))}function pe(e){e&&Y.call(window,e)}var We={__proto__:null,extend:a,create:u,bind:h,get lastId(){return d},stamp:f,throttle:m,wrapNum:g,falseFn:_,formatNum:w,trim:k,splitWords:E,setOptions:x,getParamString:C,template:P,isArray:T,indexOf:q,emptyImageUrl:j,requestFn:U,cancelFn:Y,requestAnimFrame:re,cancelAnimFrame:pe};function Z(){}Z.extend=function(e){var t=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=t.__super__=this.prototype,l=u(r);l.constructor=t,t.prototype=l;for(var c in this)Object.prototype.hasOwnProperty.call(this,c)&&c!=="prototype"&&c!=="__super__"&&(t[c]=this[c]);return e.statics&&a(t,e.statics),e.includes&&(X(e.includes),a.apply(null,[l].concat(e.includes))),a(l,e),delete l.statics,delete l.includes,l.options&&(l.options=r.options?u(r.options):{},a(l.options,e.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,v=l._initHooks.length;p<v;p++)l._initHooks[p].call(this)}},t},Z.include=function(e){var t=this.prototype.options;return a(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},Z.mergeOptions=function(e){return a(this.prototype.options,e),this},Z.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),r=typeof e=="function"?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function X(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=T(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(e,t,r){if(typeof e=="object")for(var l in e)this._on(l,e[l],t);else{e=E(e);for(var c=0,p=e.length;c<p;c++)this._on(e[c],t,r)}return this},off:function(e,t,r){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var l in e)this._off(l,e[l],t);else{e=E(e);for(var c=arguments.length===1,p=0,v=e.length;p<v;p++)c?this._off(e[p]):this._off(e[p],t,r)}return this},_on:function(e,t,r,l){if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}if(this._listens(e,t,r)===!1){r===this&&(r=void 0);var c={fn:t,ctx:r};l&&(c.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(c)}},_off:function(e,t,r){var l,c,p;if(this._events&&(l=this._events[e],!!l)){if(arguments.length===1){if(this._firingCount)for(c=0,p=l.length;c<p;c++)l[c].fn=_;delete this._events[e];return}if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}var v=this._listens(e,t,r);if(v!==!1){var y=l[v];this._firingCount&&(y.fn=_,this._events[e]=l=l.slice()),l.splice(v,1)}}},fire:function(e,t,r){if(!this.listens(e,r))return this;var l=a({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var c=this._events[e];if(c){this._firingCount=this._firingCount+1||1;for(var p=0,v=c.length;p<v;p++){var y=c[p],b=y.fn;y.once&&this.off(e,b,y.ctx),b.call(y.ctx||this,l)}this._firingCount--}}return r&&this._propagateEvent(l),this},listens:function(e,t,r,l){typeof e!="string"&&console.warn('"string" type argument expected');var c=t;typeof t!="function"&&(l=!!t,c=void 0,r=void 0);var p=this._events&&this._events[e];if(p&&p.length&&this._listens(e,c,r)!==!1)return!0;if(l){for(var v in this._eventParents)if(this._eventParents[v].listens(e,t,r,l))return!0}return!1},_listens:function(e,t,r){if(!this._events)return!1;var l=this._events[e]||[];if(!t)return!!l.length;r===this&&(r=void 0);for(var c=0,p=l.length;c<p;c++)if(l[c].fn===t&&l[c].ctx===r)return c;return!1},once:function(e,t,r){if(typeof e=="object")for(var l in e)this._on(l,e[l],t,!0);else{e=E(e);for(var c=0,p=e.length;c<p;c++)this._on(e[c],t,r,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[f(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[f(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,a({layer:e.target,propagatedFrom:e.target},e),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var _e=Z.extend(G);function B(e,t,r){this.x=r?Math.round(e):e,this.y=r?Math.round(t):t}var Oe=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(e){return this.clone()._add(R(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(R(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new B(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new B(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Oe(this.x),this.y=Oe(this.y),this},distanceTo:function(e){e=R(e);var t=e.x-this.x,r=e.y-this.y;return Math.sqrt(t*t+r*r)},equals:function(e){return e=R(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=R(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function R(e,t,r){return e instanceof B?e:T(e)?new B(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new B(e.x,e.y):new B(e,t,r)}function te(e,t){if(e)for(var r=t?[e,t]:e,l=0,c=r.length;l<c;l++)this.extend(r[l])}te.prototype={extend:function(e){var t,r;if(!e)return this;if(e instanceof B||typeof e[0]=="number"||"x"in e)t=r=R(e);else if(e=de(e),t=e.min,r=e.max,!t||!r)return this;return!this.min&&!this.max?(this.min=t.clone(),this.max=r.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(e){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,r;return typeof e[0]=="number"||e instanceof B?e=R(e):e=de(e),e instanceof te?(t=e.min,r=e.max):t=r=e,t.x>=this.min.x&&r.x<=this.max.x&&t.y>=this.min.y&&r.y<=this.max.y},intersects:function(e){e=de(e);var t=this.min,r=this.max,l=e.min,c=e.max,p=c.x>=t.x&&l.x<=r.x,v=c.y>=t.y&&l.y<=r.y;return p&&v},overlaps:function(e){e=de(e);var t=this.min,r=this.max,l=e.min,c=e.max,p=c.x>t.x&&l.x<r.x,v=c.y>t.y&&l.y<r.y;return p&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var t=this.min,r=this.max,l=Math.abs(t.x-r.x)*e,c=Math.abs(t.y-r.y)*e;return de(R(t.x-l,t.y-c),R(r.x+l,r.y+c))},equals:function(e){return e?(e=de(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function de(e,t){return!e||e instanceof te?e:new te(e,t)}function me(e,t){if(e)for(var r=t?[e,t]:e,l=0,c=r.length;l<c;l++)this.extend(r[l])}me.prototype={extend:function(e){var t=this._southWest,r=this._northEast,l,c;if(e instanceof ie)l=e,c=e;else if(e instanceof me){if(l=e._southWest,c=e._northEast,!l||!c)return this}else return e?this.extend(V(e)||fe(e)):this;return!t&&!r?(this._southWest=new ie(l.lat,l.lng),this._northEast=new ie(c.lat,c.lng)):(t.lat=Math.min(l.lat,t.lat),t.lng=Math.min(l.lng,t.lng),r.lat=Math.max(c.lat,r.lat),r.lng=Math.max(c.lng,r.lng)),this},pad:function(e){var t=this._southWest,r=this._northEast,l=Math.abs(t.lat-r.lat)*e,c=Math.abs(t.lng-r.lng)*e;return new me(new ie(t.lat-l,t.lng-c),new ie(r.lat+l,r.lng+c))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof ie||"lat"in e?e=V(e):e=fe(e);var t=this._southWest,r=this._northEast,l,c;return e instanceof me?(l=e.getSouthWest(),c=e.getNorthEast()):l=c=e,l.lat>=t.lat&&c.lat<=r.lat&&l.lng>=t.lng&&c.lng<=r.lng},intersects:function(e){e=fe(e);var t=this._southWest,r=this._northEast,l=e.getSouthWest(),c=e.getNorthEast(),p=c.lat>=t.lat&&l.lat<=r.lat,v=c.lng>=t.lng&&l.lng<=r.lng;return p&&v},overlaps:function(e){e=fe(e);var t=this._southWest,r=this._northEast,l=e.getSouthWest(),c=e.getNorthEast(),p=c.lat>t.lat&&l.lat<r.lat,v=c.lng>t.lng&&l.lng<r.lng;return p&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return e?(e=fe(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(e,t){return e instanceof me?e:new me(e,t)}function ie(e,t,r){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,r!==void 0&&(this.alt=+r)}ie.prototype={equals:function(e,t){if(!e)return!1;e=V(e);var r=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return r<=(t===void 0?1e-9:t)},toString:function(e){return"LatLng("+w(this.lat,e)+", "+w(this.lng,e)+")"},distanceTo:function(e){return Ge.distance(this,V(e))},wrap:function(){return Ge.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return fe([this.lat-t,this.lng-r],[this.lat+t,this.lng+r])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function V(e,t,r){return e instanceof ie?e:T(e)&&typeof e[0]!="object"?e.length===3?new ie(e[0],e[1],e[2]):e.length===2?new ie(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new ie(e.lat,"lng"in e?e.lng:e.lon,e.alt):t===void 0?null:new ie(e,t,r)}var Pe={latLngToPoint:function(e,t){var r=this.projection.project(e),l=this.scale(t);return this.transformation._transform(r,l)},pointToLatLng:function(e,t){var r=this.scale(t),l=this.transformation.untransform(e,r);return this.projection.unproject(l)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,r=this.scale(e),l=this.transformation.transform(t.min,r),c=this.transformation.transform(t.max,r);return new te(l,c)},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?g(e.lng,this.wrapLng,!0):e.lng,r=this.wrapLat?g(e.lat,this.wrapLat,!0):e.lat,l=e.alt;return new ie(r,t,l)},wrapLatLngBounds:function(e){var t=e.getCenter(),r=this.wrapLatLng(t),l=t.lat-r.lat,c=t.lng-r.lng;if(l===0&&c===0)return e;var p=e.getSouthWest(),v=e.getNorthEast(),y=new ie(p.lat-l,p.lng-c),b=new ie(v.lat-l,v.lng-c);return new me(y,b)}},Ge=a({},Pe,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var r=Math.PI/180,l=e.lat*r,c=t.lat*r,p=Math.sin((t.lat-e.lat)*r/2),v=Math.sin((t.lng-e.lng)*r/2),y=p*p+Math.cos(l)*Math.cos(c)*v*v,b=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return this.R*b}}),wt=6378137,bt={R:wt,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,r=this.MAX_LATITUDE,l=Math.max(Math.min(r,e.lat),-r),c=Math.sin(l*t);return new B(this.R*e.lng*t,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(e){var t=180/Math.PI;return new ie((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=wt*Math.PI;return new te([-e,-e],[e,e])}()};function et(e,t,r,l){if(T(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=t,this._c=r,this._d=l}et.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new B((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};function ht(e,t,r,l){return new et(e,t,r,l)}var $t=a({},Ge,{code:"EPSG:3857",projection:bt,transformation:function(){var e=.5/(Math.PI*bt.R);return ht(e,.5,-e,.5)}()}),Dn=a({},$t,{code:"EPSG:900913"});function ai(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function li(e,t){var r="",l,c,p,v,y,b;for(l=0,p=e.length;l<p;l++){for(y=e[l],c=0,v=y.length;c<v;c++)b=y[c],r+=(c?"L":"M")+b.x+" "+b.y;r+=t?M.svg?"z":"x":""}return r||"M0 0"}var It=document.documentElement.style,Rt="ActiveXObject"in window,Di=Rt&&!document.addEventListener,ui="msLaunchUri"in navigator&&!("documentMode"in document),zt=He("webkit"),Ni=He("android"),hi=He("android 2")||He("android 3"),Nn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Zi=Ni&&He("Google")&&Nn<537&&!("AudioNode"in window),ci=!!window.opera,di=!ui&&He("chrome"),fi=He("gecko")&&!zt&&!ci&&!Rt,Ui=!di&&He("safari"),pi=He("phantom"),Fi="OTransition"in It,Zn=navigator.platform.indexOf("Win")===0,Wi=Rt&&"transition"in It,ct="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!hi,Gi="MozPerspective"in It,Bt=!window.L_DISABLE_3D&&(Wi||ct||Gi)&&!Fi&&!pi,xt=typeof orientation<"u"||He("mobile"),va=xt&&zt,ya=xt&&ct,ts=!window.PointerEvent&&window.MSPointerEvent,is=!!(window.PointerEvent||ts),ns="ontouchstart"in window||!!window.TouchEvent,wa=!window.L_NO_TOUCH&&(ns||is),ba=xt&&ci,xa=xt&&fi,ka=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Aa=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",_,t),window.removeEventListener("testPassiveEventSupport",_,t)}catch{}return e}(),Pa=function(){return!!document.createElement("canvas").getContext}(),Un=!!(document.createElementNS&&ai("svg").createSVGRect),Ta=!!Un&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Sa=!Un&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&typeof t.adj=="object"}catch{return!1}}(),La=navigator.platform.indexOf("Mac")===0,Ca=navigator.platform.indexOf("Linux")===0;function He(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var M={ie:Rt,ielt9:Di,edge:ui,webkit:zt,android:Ni,android23:hi,androidStock:Zi,opera:ci,chrome:di,gecko:fi,safari:Ui,phantom:pi,opera12:Fi,win:Zn,ie3d:Wi,webkit3d:ct,gecko3d:Gi,any3d:Bt,mobile:xt,mobileWebkit:va,mobileWebkit3d:ya,msPointer:ts,pointer:is,touch:wa,touchNative:ns,mobileOpera:ba,mobileGecko:xa,retina:ka,passiveEvents:Aa,canvas:Pa,svg:Un,vml:Sa,inlineSvg:Ta,mac:La,linux:Ca},rs=M.msPointer?"MSPointerDown":"pointerdown",ss=M.msPointer?"MSPointerMove":"pointermove",os=M.msPointer?"MSPointerUp":"pointerup",as=M.msPointer?"MSPointerCancel":"pointercancel",Fn={touchstart:rs,touchmove:ss,touchend:os,touchcancel:as},ls={touchstart:$a,touchmove:Hi,touchend:Hi,touchcancel:Hi},Dt={},us=!1;function Ea(e,t,r){return t==="touchstart"&&Ma(),ls[t]?(r=ls[t].bind(this,r),e.addEventListener(Fn[t],r,!1),r):(console.warn("wrong event specified:",t),_)}function qa(e,t,r){if(!Fn[t]){console.warn("wrong event specified:",t);return}e.removeEventListener(Fn[t],r,!1)}function Oa(e){Dt[e.pointerId]=e}function ja(e){Dt[e.pointerId]&&(Dt[e.pointerId]=e)}function hs(e){delete Dt[e.pointerId]}function Ma(){us||(document.addEventListener(rs,Oa,!0),document.addEventListener(ss,ja,!0),document.addEventListener(os,hs,!0),document.addEventListener(as,hs,!0),us=!0)}function Hi(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){t.touches=[];for(var r in Dt)t.touches.push(Dt[r]);t.changedTouches=[t],e(t)}}function $a(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Ae(t),Hi(e,t)}function Ia(e){var t={},r,l;for(l in e)r=e[l],t[l]=r&&r.bind?r.bind(e):r;return e=t,t.type="dblclick",t.detail=2,t.isTrusted=!1,t._simulated=!0,t}var Ra=200;function za(e,t){e.addEventListener("dblclick",t);var r=0,l;function c(p){if(p.detail!==1){l=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var v=ms(p);if(!(v.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!v.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var y=Date.now();y-r<=Ra?(l++,l===2&&t(Ia(p))):l=1,r=y}}}return e.addEventListener("click",c),{dblclick:t,simDblclick:c}}function Ba(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var Wn=Ji(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mi=Ji(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),cs=mi==="webkitTransition"||mi==="OTransition"?mi+"End":"transitionend";function ds(e){return typeof e=="string"?document.getElementById(e):e}function gi(e,t){var r=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!r||r==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(e,null);r=l?l[t]:null}return r==="auto"?null:r}function se(e,t,r){var l=document.createElement(e);return l.className=t||"",r&&r.appendChild(l),l}function ge(e){var t=e.parentNode;t&&t.removeChild(e)}function Ki(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Nt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function Zt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function Gn(e,t){if(e.classList!==void 0)return e.classList.contains(t);var r=Vi(e);return r.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(r)}function H(e,t){if(e.classList!==void 0)for(var r=E(t),l=0,c=r.length;l<c;l++)e.classList.add(r[l]);else if(!Gn(e,t)){var p=Vi(e);Hn(e,(p?p+" ":"")+t)}}function ve(e,t){e.classList!==void 0?e.classList.remove(t):Hn(e,k((" "+Vi(e)+" ").replace(" "+t+" "," ")))}function Hn(e,t){e.className.baseVal===void 0?e.className=t:e.className.baseVal=t}function Vi(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function $e(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Da(e,t)}function Da(e,t){var r=!1,l="DXImageTransform.Microsoft.Alpha";try{r=e.filters.item(l)}catch{if(t===1)return}t=Math.round(t*100),r?(r.Enabled=t!==100,r.Opacity=t):e.style.filter+=" progid:"+l+"(opacity="+t+")"}function Ji(e){for(var t=document.documentElement.style,r=0;r<e.length;r++)if(e[r]in t)return e[r];return!1}function kt(e,t,r){var l=t||new B(0,0);e.style[Wn]=(M.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(r?" scale("+r+")":"")}function ye(e,t){e._leaflet_pos=t,M.any3d?kt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function At(e){return e._leaflet_pos||new B(0,0)}var _i,vi,Kn;if("onselectstart"in document)_i=function(){F(window,"selectstart",Ae)},vi=function(){he(window,"selectstart",Ae)};else{var yi=Ji(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);_i=function(){if(yi){var e=document.documentElement.style;Kn=e[yi],e[yi]="none"}},vi=function(){yi&&(document.documentElement.style[yi]=Kn,Kn=void 0)}}function Vn(){F(window,"dragstart",Ae)}function Jn(){he(window,"dragstart",Ae)}var Yi,Yn;function Qn(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Qi(),Yi=e,Yn=e.style.outlineStyle,e.style.outlineStyle="none",F(window,"keydown",Qi))}function Qi(){Yi&&(Yi.style.outlineStyle=Yn,Yi=void 0,Yn=void 0,he(window,"keydown",Qi))}function fs(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Xn(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Na={__proto__:null,TRANSFORM:Wn,TRANSITION:mi,TRANSITION_END:cs,get:ds,getStyle:gi,create:se,remove:ge,empty:Ki,toFront:Nt,toBack:Zt,hasClass:Gn,addClass:H,removeClass:ve,setClass:Hn,getClass:Vi,setOpacity:$e,testProp:Ji,setTransform:kt,setPosition:ye,getPosition:At,get disableTextSelection(){return _i},get enableTextSelection(){return vi},disableImageDrag:Vn,enableImageDrag:Jn,preventOutline:Qn,restoreOutline:Qi,getSizedParentNode:fs,getScale:Xn};function F(e,t,r,l){if(t&&typeof t=="object")for(var c in t)tr(e,c,t[c],r);else{t=E(t);for(var p=0,v=t.length;p<v;p++)tr(e,t[p],r,l)}return this}var Ke="_leaflet_events";function he(e,t,r,l){if(arguments.length===1)ps(e),delete e[Ke];else if(t&&typeof t=="object")for(var c in t)ir(e,c,t[c],r);else if(t=E(t),arguments.length===2)ps(e,function(y){return q(t,y)!==-1});else for(var p=0,v=t.length;p<v;p++)ir(e,t[p],r,l);return this}function ps(e,t){for(var r in e[Ke]){var l=r.split(/\d/)[0];(!t||t(l))&&ir(e,l,null,null,r)}}var er={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function tr(e,t,r,l){var c=t+f(r)+(l?"_"+f(l):"");if(e[Ke]&&e[Ke][c])return this;var p=function(y){return r.call(l||e,y||window.event)},v=p;!M.touchNative&&M.pointer&&t.indexOf("touch")===0?p=Ea(e,t,p):M.touch&&t==="dblclick"?p=za(e,p):"addEventListener"in e?t==="touchstart"||t==="touchmove"||t==="wheel"||t==="mousewheel"?e.addEventListener(er[t]||t,p,M.passiveEvents?{passive:!1}:!1):t==="mouseenter"||t==="mouseleave"?(p=function(y){y=y||window.event,rr(e,y)&&v(y)},e.addEventListener(er[t],p,!1)):e.addEventListener(t,v,!1):e.attachEvent("on"+t,p),e[Ke]=e[Ke]||{},e[Ke][c]=p}function ir(e,t,r,l,c){c=c||t+f(r)+(l?"_"+f(l):"");var p=e[Ke]&&e[Ke][c];if(!p)return this;!M.touchNative&&M.pointer&&t.indexOf("touch")===0?qa(e,t,p):M.touch&&t==="dblclick"?Ba(e,p):"removeEventListener"in e?e.removeEventListener(er[t]||t,p,!1):e.detachEvent("on"+t,p),e[Ke][c]=null}function Pt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function nr(e){return tr(e,"wheel",Pt),this}function wi(e){return F(e,"mousedown touchstart dblclick contextmenu",Pt),e._leaflet_disable_click=!0,this}function Ae(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Tt(e){return Ae(e),Pt(e),this}function ms(e){if(e.composedPath)return e.composedPath();for(var t=[],r=e.target;r;)t.push(r),r=r.parentNode;return t}function gs(e,t){if(!t)return new B(e.clientX,e.clientY);var r=Xn(t),l=r.boundingClientRect;return new B((e.clientX-l.left)/r.x-t.clientLeft,(e.clientY-l.top)/r.y-t.clientTop)}var Za=M.linux&&M.chrome?window.devicePixelRatio:M.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _s(e){return M.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Za:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function rr(e,t){var r=t.relatedTarget;if(!r)return!0;try{for(;r&&r!==e;)r=r.parentNode}catch{return!1}return r!==e}var Ua={__proto__:null,on:F,off:he,stopPropagation:Pt,disableScrollPropagation:nr,disableClickPropagation:wi,preventDefault:Ae,stop:Tt,getPropagationPath:ms,getMousePosition:gs,getWheelDelta:_s,isExternalTarget:rr,addListener:F,removeListener:he},vs=_e.extend({run:function(e,t,r,l){this.stop(),this._el=e,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=At(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=re(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,r=this._duration*1e3;t<r?this._runFrame(this._easeOut(t/r),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var r=this._startPos.add(this._offset.multiplyBy(e));t&&r._round(),ye(this._el,r),this.fire("step")},_complete:function(){pe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),ne=_e.extend({options:{crs:$t,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=x(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==void 0&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==void 0&&this.setView(V(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mi&&M.any3d&&!M.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),F(this._proxy,cs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){if(t=t===void 0?this._zoom:this._limitZoom(t),e=this._limitCenter(V(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=a({animate:r.animate},r.zoom),r.pan=a({animate:r.animate,duration:r.duration},r.pan));var l=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t,r.pan&&r.pan.noMoveStart),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(M.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(M.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,r){var l=this.getZoomScale(t),c=this.getSize().divideBy(2),p=e instanceof B?e:this.latLngToContainerPoint(e),v=p.subtract(c).multiplyBy(1-1/l),y=this.containerPointToLatLng(c.add(v));return this.setView(y,t,{zoom:r})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():fe(e);var r=R(t.paddingTopLeft||t.padding||[0,0]),l=R(t.paddingBottomRight||t.padding||[0,0]),c=this.getBoundsZoom(e,!1,r.add(l));if(c=typeof t.maxZoom=="number"?Math.min(t.maxZoom,c):c,c===1/0)return{center:e.getCenter(),zoom:c};var p=l.subtract(r).divideBy(2),v=this.project(e.getSouthWest(),c),y=this.project(e.getNorthEast(),c),b=this.unproject(v.add(y).divideBy(2).add(p),c);return{center:b,zoom:c}},fitBounds:function(e,t){if(e=fe(e),!e.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(e,t);return this.setView(r.center,r.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=R(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new vs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),t.animate!==!1){H(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,r,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,r){if(r=r||{},r.animate===!1||!M.any3d)return this.setView(e,t,r);this._stop();var l=this.project(this.getCenter()),c=this.project(e),p=this.getSize(),v=this._zoom;e=V(e),t=t===void 0?v:t;var y=Math.max(p.x,p.y),b=y*this.getZoomScale(v,t),S=c.distanceTo(l)||1,O=1.42,D=O*O;function J(we){var cn=we?-1:1,ql=we?b:y,Ol=b*b-y*y+cn*D*D*S*S,jl=2*ql*D*S,mr=Ol/jl,Qs=Math.sqrt(mr*mr+1)-mr,Ml=Qs<1e-9?-18:Math.log(Qs);return Ml}function Se(we){return(Math.exp(we)-Math.exp(-we))/2}function xe(we){return(Math.exp(we)+Math.exp(-we))/2}function Re(we){return Se(we)/xe(we)}var Le=J(0);function Kt(we){return y*(xe(Le)/xe(Le+O*we))}function Sl(we){return y*(xe(Le)*Re(Le+O*we)-Se(Le))/D}function Ll(we){return 1-Math.pow(1-we,1.5)}var Cl=Date.now(),Js=(J(1)-Le)/O,El=r.duration?1e3*r.duration:1e3*Js*.8;function Ys(){var we=(Date.now()-Cl)/El,cn=Ll(we)*Js;we<=1?(this._flyToFrame=re(Ys,this),this._move(this.unproject(l.add(c.subtract(l).multiplyBy(Sl(cn)/S)),v),this.getScaleZoom(y/Kt(cn),v),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),Ys.call(this),this},flyToBounds:function(e,t){var r=this._getBoundsCenterZoom(e,t);return this.flyTo(r.center,r.zoom,t)},setMaxBounds:function(e){return e=fe(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var r=this.getCenter(),l=this._limitCenter(r,this._zoom,fe(e));return r.equals(l)||this.panTo(l,t),this._enforcingBounds=!1,this},panInside:function(e,t){t=t||{};var r=R(t.paddingTopLeft||t.padding||[0,0]),l=R(t.paddingBottomRight||t.padding||[0,0]),c=this.project(this.getCenter()),p=this.project(e),v=this.getPixelBounds(),y=de([v.min.add(r),v.max.subtract(l)]),b=y.getSize();if(!y.contains(p)){this._enforcingBounds=!0;var S=p.subtract(y.getCenter()),O=y.extend(p).getSize().subtract(b);c.x+=S.x<0?-O.x:O.x,c.y+=S.y<0?-O.y:O.y,this.panTo(this.unproject(c),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=a({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),l=t.divideBy(2).round(),c=r.divideBy(2).round(),p=l.subtract(c);return!p.x&&!p.y?this:(e.animate&&e.pan?this.panBy(p):(e.pan&&this._rawPanBy(p),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=a({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=h(this._handleGeolocationResponse,this),r=h(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,r=e.message||(t===1?"permission denied":t===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=e.coords.latitude,r=e.coords.longitude,l=new ie(t,r),c=l.toBounds(e.coords.accuracy*2),p=this._locateOptions;if(p.setView){var v=this.getBoundsZoom(c);this.setView(l,p.maxZoom?Math.min(v,p.maxZoom):v)}var y={latlng:l,bounds:c,timestamp:e.timestamp};for(var b in e.coords)typeof e.coords[b]=="number"&&(y[b]=e.coords[b]);this.fire("locationfound",y)}},addHandler:function(e,t){if(!t)return this;var r=this[e]=new t(this);return this._handlers.push(r),this.options[e]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ge(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(pe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)ge(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var r="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),l=se("div",r,t||this._mapPane);return e&&(this._panes[e]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),r=this.unproject(e.getTopRight());return new me(t,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,r){e=fe(e),r=R(r||[0,0]);var l=this.getZoom()||0,c=this.getMinZoom(),p=this.getMaxZoom(),v=e.getNorthWest(),y=e.getSouthEast(),b=this.getSize().subtract(r),S=de(this.project(y,l),this.project(v,l)).getSize(),O=M.any3d?this.options.zoomSnap:1,D=b.x/S.x,J=b.y/S.y,Se=t?Math.max(D,J):Math.min(D,J);return l=this.getScaleZoom(Se,l),O&&(l=Math.round(l/(O/100))*(O/100),l=t?Math.ceil(l/O)*O:Math.floor(l/O)*O),Math.max(c,Math.min(p,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var r=this._getTopLeftPoint(e,t);return new te(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var r=this.options.crs;return t=t===void 0?this._zoom:t,r.scale(e)/r.scale(t)},getScaleZoom:function(e,t){var r=this.options.crs;t=t===void 0?this._zoom:t;var l=r.zoom(e*r.scale(t));return isNaN(l)?1/0:l},project:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.latLngToPoint(V(e),t)},unproject:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.pointToLatLng(R(e),t)},layerPointToLatLng:function(e){var t=R(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(V(e))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(V(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(fe(e))},distance:function(e,t){return this.options.crs.distance(V(e),V(t))},containerPointToLayerPoint:function(e){return R(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return R(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(R(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(e)))},mouseEventToContainerPoint:function(e){return gs(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ds(e);if(t){if(t._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");F(t,"scroll",this._onScroll,this),this._containerId=f(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&M.any3d,H(e,"leaflet-container"+(M.touch?" leaflet-touch":"")+(M.retina?" leaflet-retina":"")+(M.ielt9?" leaflet-oldie":"")+(M.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=gi(e,"position");t!=="absolute"&&t!=="relative"&&t!=="fixed"&&t!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ye(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(H(e.markerPane,"leaflet-zoom-hide"),H(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,r){ye(this._mapPane,new B(0,0));var l=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var c=this._zoom!==t;this._moveStart(c,r)._move(e,t)._moveEnd(c),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,r,l){t===void 0&&(t=this._zoom);var c=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),l?r&&r.pinch&&this.fire("zoom",r):((c||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return pe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){ye(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[f(this._container)]=this;var t=e?he:F;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),M.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){pe(this._resizeRequest),this._resizeRequest=re(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var r=[],l,c=t==="mouseout"||t==="mouseover",p=e.target||e.srcElement,v=!1;p;){if(l=this._targets[f(p)],l&&(t==="click"||t==="preclick")&&this._draggableMoved(l)){v=!0;break}if(l&&l.listens(t,!0)&&(c&&!rr(p,e)||(r.push(l),c))||p===this._container)break;p=p.parentNode}return!r.length&&!v&&!c&&this.listens(t,!0)&&(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(t))){var r=e.type;r==="mousedown"&&Qn(t),this._fireDOMEvent(e,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if(e.type==="click"){var l=a({},e);l.type="preclick",this._fireDOMEvent(l,l.type,r)}var c=this._findEventTargets(e,t);if(r){for(var p=[],v=0;v<r.length;v++)r[v].listens(t,!0)&&p.push(r[v]);c=p.concat(c)}if(c.length){t==="contextmenu"&&Ae(e);var y=c[0],b={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var S=y.getLatLng&&(!y._radius||y._radius<=10);b.containerPoint=S?this.latLngToContainerPoint(y.getLatLng()):this.mouseEventToContainerPoint(e),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=S?y.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(v=0;v<c.length;v++)if(c[v].fire(t,b,!0),b.originalEvent._stopped||c[v].options.bubblingMouseEvents===!1&&q(this._mouseEvents,t)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return At(this._mapPane)||new B(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){var r=e&&t!==void 0?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var r=this.getSize()._divideBy(2);return this.project(e,t)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,r){var l=this._getNewPixelOrigin(r,t);return this.project(e,t)._subtract(l)},_latLngBoundsToNewLayerBounds:function(e,t,r){var l=this._getNewPixelOrigin(r,t);return de([this.project(e.getSouthWest(),t)._subtract(l),this.project(e.getNorthWest(),t)._subtract(l),this.project(e.getSouthEast(),t)._subtract(l),this.project(e.getNorthEast(),t)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,r){if(!r)return e;var l=this.project(e,t),c=this.getSize().divideBy(2),p=new te(l.subtract(c),l.add(c)),v=this._getBoundsOffset(p,r,t);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?e:this.unproject(l.add(v),t)},_limitOffset:function(e,t){if(!t)return e;var r=this.getPixelBounds(),l=new te(r.min.add(e),r.max.add(e));return e.add(this._getBoundsOffset(l,t))},_getBoundsOffset:function(e,t,r){var l=de(this.project(t.getNorthEast(),r),this.project(t.getSouthWest(),r)),c=l.min.subtract(e.min),p=l.max.subtract(e.max),v=this._rebound(c.x,-p.x),y=this._rebound(c.y,-p.y);return new B(v,y)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),r=this.getMaxZoom(),l=M.any3d?this.options.zoomSnap:1;return l&&(e=Math.round(e/l)*l),Math.max(t,Math.min(r,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ve(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var r=this._getCenterOffset(e)._trunc();return(t&&t.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,t),!0)},_createAnimProxy:function(){var e=this._proxy=se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(t){var r=Wn,l=this._proxy.style[r];kt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),l===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ge(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();kt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(t),c=this._getCenterOffset(e)._divideBy(1-1/l);return r.animate!==!0&&!this.getSize().contains(c)?!1:(re(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,r,l){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,H(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ve(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fa(e,t){return new ne(e,t)}var Ne=Z.extend({options:{position:"topright"},initialize:function(e){x(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),r=this.getPosition(),l=e._controlCorners[r];return H(t,"leaflet-control"),r.indexOf("bottom")!==-1?l.insertBefore(t,l.firstChild):l.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ge(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),bi=function(e){return new Ne(e)};ne.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",r=this._controlContainer=se("div",t+"control-container",this._container);function l(c,p){var v=t+c+" "+t+p;e[c+p]=se("div",v,r)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ge(this._controlCorners[e]);ge(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ys=Ne.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,r,l){return r<l?-1:l<r?1:0}},initialize:function(e,t,r){x(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in e)this._addLayer(e[l],l);for(l in t)this._addLayer(t[l],l,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Ne.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(f(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){H(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(H(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ve(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ve(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=se("div",e),r=this.options.collapsed;t.setAttribute("aria-haspopup",!0),wi(t),nr(t);var l=this._section=se("section",e+"-list");r&&(this._map.on("click",this.collapse,this),F(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var c=this._layersLink=se("a",e+"-toggle",t);c.href="#",c.title="Layers",c.setAttribute("role","button"),F(c,{keydown:function(p){p.keyCode===13&&this._expandSafely()},click:function(p){Ae(p),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=se("div",e+"-base",l),this._separator=se("div",e+"-separator",l),this._overlaysList=se("div",e+"-overlays",l),t.appendChild(l)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&f(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,r){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:r}),this.options.sortLayers&&this._layers.sort(h(function(l,c){return this.options.sortFunction(l.layer,c.layer,l.name,c.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ki(this._baseLayersList),Ki(this._overlaysList),this._layerControlInputs=[];var e,t,r,l,c=0;for(r=0;r<this._layers.length;r++)l=this._layers[r],this._addItem(l),t=t||l.overlay,e=e||!l.overlay,c+=l.overlay?0:1;return this.options.hideSingleBase&&(e=e&&c>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(f(e.target)),r=t.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;r&&this._map.fire(r,t)},_createRadioElement:function(e,t){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=r,l.firstChild},_addItem:function(e){var t=document.createElement("label"),r=this._map.hasLayer(e.layer),l;e.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=r):l=this._createRadioElement("leaflet-base-layers_"+f(this),r),this._layerControlInputs.push(l),l.layerId=f(e.layer),F(l,"click",this._onInputClick,this);var c=document.createElement("span");c.innerHTML=" "+e.name;var p=document.createElement("span");t.appendChild(p),p.appendChild(l),p.appendChild(c);var v=e.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(t),this._checkDisabledLayers(),t},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,t,r,l=[],c=[];this._handlingClick=!0;for(var p=e.length-1;p>=0;p--)t=e[p],r=this._getLayer(t.layerId).layer,t.checked?l.push(r):t.checked||c.push(r);for(p=0;p<c.length;p++)this._map.hasLayer(c[p])&&this._map.removeLayer(c[p]);for(p=0;p<l.length;p++)this._map.hasLayer(l[p])||this._map.addLayer(l[p]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,t,r,l=this._map.getZoom(),c=e.length-1;c>=0;c--)t=e[c],r=this._getLayer(t.layerId).layer,t.disabled=r.options.minZoom!==void 0&&l<r.options.minZoom||r.options.maxZoom!==void 0&&l>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,F(e,"click",Ae),this.expand();var t=this;setTimeout(function(){he(e,"click",Ae),t._preventClick=!1})}}),Wa=function(e,t,r){return new ys(e,t,r)},sr=Ne.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",r=se("div",t+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,t+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,t+"-out",r,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,r,l,c){var p=se("a",r,l);return p.innerHTML=e,p.href="#",p.title=t,p.setAttribute("role","button"),p.setAttribute("aria-label",t),wi(p),F(p,"click",Tt),F(p,"click",c,this),F(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ve(this._zoomInButton,t),ve(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(H(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(H(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});ne.mergeOptions({zoomControl:!0}),ne.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new sr,this.addControl(this.zoomControl))});var Ga=function(e){return new sr(e)},ws=Ne.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",r=se("div",t),l=this.options;return this._addScales(l,t+"-line",r),e.on(l.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),r},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,r){e.metric&&(this._mScale=se("div",t,r)),e.imperial&&(this._iScale=se("div",t,r))},_update:function(){var e=this._map,t=e.getSize().y/2,r=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(r)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),r=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,r,t/e)},_updateImperial:function(e){var t=e*3.2808399,r,l,c;t>5280?(r=t/5280,l=this._getRoundNum(r),this._updateScale(this._iScale,l+" mi",l/r)):(c=this._getRoundNum(t),this._updateScale(this._iScale,c+" ft",c/t))},_updateScale:function(e,t,r){e.style.width=Math.round(this.options.maxWidth*r)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),r=e/t;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,t*r}}),Ha=function(e){return new ws(e)},Ka='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',or=Ne.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(M.inlineSvg?Ka+" ":"")+"Leaflet</a>"},initialize:function(e){x(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=se("div","leaflet-control-attribution"),wi(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var r=[];this.options.prefix&&r.push(this.options.prefix),e.length&&r.push(e.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});ne.mergeOptions({attributionControl:!0}),ne.addInitHook(function(){this.options.attributionControl&&new or().addTo(this)});var Va=function(e){return new or(e)};Ne.Layers=ys,Ne.Zoom=sr,Ne.Scale=ws,Ne.Attribution=or,bi.layers=Wa,bi.zoom=Ga,bi.scale=Ha,bi.attribution=Va;var Ve=Z.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ve.addTo=function(e,t){return e.addHandler(t,this),this};var Ja={Events:G},bs=M.touch?"touchstart mousedown":"mousedown",dt=_e.extend({options:{clickTolerance:3},initialize:function(e,t,r,l){x(this,l),this._element=e,this._dragStartTarget=t||e,this._preventOutline=r},enable:function(){this._enabled||(F(this._dragStartTarget,bs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(dt._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,bs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Gn(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){dt._dragging===this&&this.finishDrag();return}if(!(dt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(dt._dragging=this,this._preventOutline&&Qn(this._element),Vn(),_i(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,r=fs(this._element);this._startPoint=new B(t.clientX,t.clientY),this._startPos=At(this._element),this._parentScale=Xn(r);var l=e.type==="mousedown";F(document,l?"mousemove":"touchmove",this._onMove,this),F(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var t=e.touches&&e.touches.length===1?e.touches[0]:e,r=new B(t.clientX,t.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,Ae(e),this._moved||(this.fire("dragstart"),this._moved=!0,H(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),H(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),ye(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ve(document.body,"leaflet-dragging"),this._lastTarget&&(ve(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),Jn(),vi();var t=this._moved&&this._moving;this._moving=!1,dt._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function xs(e,t,r){var l,c=[1,4,2,8],p,v,y,b,S,O,D,J;for(p=0,O=e.length;p<O;p++)e[p]._code=St(e[p],t);for(y=0;y<4;y++){for(D=c[y],l=[],p=0,O=e.length,v=O-1;p<O;v=p++)b=e[p],S=e[v],b._code&D?S._code&D||(J=Xi(S,b,D,t,r),J._code=St(J,t),l.push(J)):(S._code&D&&(J=Xi(S,b,D,t,r),J._code=St(J,t),l.push(J)),l.push(b));e=l}return e}function ks(e,t){var r,l,c,p,v,y,b,S,O;if(!e||e.length===0)throw new Error("latlngs not passed");Ie(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var D=V([0,0]),J=fe(e),Se=J.getNorthWest().distanceTo(J.getSouthWest())*J.getNorthEast().distanceTo(J.getNorthWest());Se<1700&&(D=ar(e));var xe=e.length,Re=[];for(r=0;r<xe;r++){var Le=V(e[r]);Re.push(t.project(V([Le.lat-D.lat,Le.lng-D.lng])))}for(y=b=S=0,r=0,l=xe-1;r<xe;l=r++)c=Re[r],p=Re[l],v=c.y*p.x-p.y*c.x,b+=(c.x+p.x)*v,S+=(c.y+p.y)*v,y+=v*3;y===0?O=Re[0]:O=[b/y,S/y];var Kt=t.unproject(R(O));return V([Kt.lat+D.lat,Kt.lng+D.lng])}function ar(e){for(var t=0,r=0,l=0,c=0;c<e.length;c++){var p=V(e[c]);t+=p.lat,r+=p.lng,l++}return V([t/l,r/l])}var Ya={__proto__:null,clipPolygon:xs,polygonCenter:ks,centroid:ar};function As(e,t){if(!t||!e.length)return e.slice();var r=t*t;return e=el(e,r),e=Xa(e,r),e}function Ps(e,t,r){return Math.sqrt(xi(e,t,r,!0))}function Qa(e,t,r){return xi(e,t,r)}function Xa(e,t){var r=e.length,l=typeof Uint8Array<"u"?Uint8Array:Array,c=new l(r);c[0]=c[r-1]=1,lr(e,c,t,0,r-1);var p,v=[];for(p=0;p<r;p++)c[p]&&v.push(e[p]);return v}function lr(e,t,r,l,c){var p=0,v,y,b;for(y=l+1;y<=c-1;y++)b=xi(e[y],e[l],e[c],!0),b>p&&(v=y,p=b);p>r&&(t[v]=1,lr(e,t,r,l,v),lr(e,t,r,v,c))}function el(e,t){for(var r=[e[0]],l=1,c=0,p=e.length;l<p;l++)tl(e[l],e[c])>t&&(r.push(e[l]),c=l);return c<p-1&&r.push(e[p-1]),r}var Ts;function Ss(e,t,r,l,c){var p=l?Ts:St(e,r),v=St(t,r),y,b,S;for(Ts=v;;){if(!(p|v))return[e,t];if(p&v)return!1;y=p||v,b=Xi(e,t,y,r,c),S=St(b,r),y===p?(e=b,p=S):(t=b,v=S)}}function Xi(e,t,r,l,c){var p=t.x-e.x,v=t.y-e.y,y=l.min,b=l.max,S,O;return r&8?(S=e.x+p*(b.y-e.y)/v,O=b.y):r&4?(S=e.x+p*(y.y-e.y)/v,O=y.y):r&2?(S=b.x,O=e.y+v*(b.x-e.x)/p):r&1&&(S=y.x,O=e.y+v*(y.x-e.x)/p),new B(S,O,c)}function St(e,t){var r=0;return e.x<t.min.x?r|=1:e.x>t.max.x&&(r|=2),e.y<t.min.y?r|=4:e.y>t.max.y&&(r|=8),r}function tl(e,t){var r=t.x-e.x,l=t.y-e.y;return r*r+l*l}function xi(e,t,r,l){var c=t.x,p=t.y,v=r.x-c,y=r.y-p,b=v*v+y*y,S;return b>0&&(S=((e.x-c)*v+(e.y-p)*y)/b,S>1?(c=r.x,p=r.y):S>0&&(c+=v*S,p+=y*S)),v=e.x-c,y=e.y-p,l?v*v+y*y:new B(c,p)}function Ie(e){return!T(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Ls(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ie(e)}function Cs(e,t){var r,l,c,p,v,y,b,S;if(!e||e.length===0)throw new Error("latlngs not passed");Ie(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var O=V([0,0]),D=fe(e),J=D.getNorthWest().distanceTo(D.getSouthWest())*D.getNorthEast().distanceTo(D.getNorthWest());J<1700&&(O=ar(e));var Se=e.length,xe=[];for(r=0;r<Se;r++){var Re=V(e[r]);xe.push(t.project(V([Re.lat-O.lat,Re.lng-O.lng])))}for(r=0,l=0;r<Se-1;r++)l+=xe[r].distanceTo(xe[r+1])/2;if(l===0)S=xe[0];else for(r=0,p=0;r<Se-1;r++)if(v=xe[r],y=xe[r+1],c=v.distanceTo(y),p+=c,p>l){b=(p-l)/c,S=[y.x-b*(y.x-v.x),y.y-b*(y.y-v.y)];break}var Le=t.unproject(R(S));return V([Le.lat+O.lat,Le.lng+O.lng])}var il={__proto__:null,simplify:As,pointToSegmentDistance:Ps,closestPointOnSegment:Qa,clipSegment:Ss,_getEdgeIntersection:Xi,_getBitCode:St,_sqClosestPointOnSegment:xi,isFlat:Ie,_flat:Ls,polylineCenter:Cs},ur={project:function(e){return new B(e.lng,e.lat)},unproject:function(e){return new ie(e.y,e.x)},bounds:new te([-180,-90],[180,90])},hr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new te([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var t=Math.PI/180,r=this.R,l=e.lat*t,c=this.R_MINOR/r,p=Math.sqrt(1-c*c),v=p*Math.sin(l),y=Math.tan(Math.PI/4-l/2)/Math.pow((1-v)/(1+v),p/2);return l=-r*Math.log(Math.max(y,1e-10)),new B(e.lng*t*r,l)},unproject:function(e){for(var t=180/Math.PI,r=this.R,l=this.R_MINOR/r,c=Math.sqrt(1-l*l),p=Math.exp(-e.y/r),v=Math.PI/2-2*Math.atan(p),y=0,b=.1,S;y<15&&Math.abs(b)>1e-7;y++)S=c*Math.sin(v),S=Math.pow((1-S)/(1+S),c/2),b=Math.PI/2-2*Math.atan(p*S)-v,v+=b;return new ie(v*t,e.x*t/r)}},nl={__proto__:null,LonLat:ur,Mercator:hr,SphericalMercator:bt},rl=a({},Ge,{code:"EPSG:3395",projection:hr,transformation:function(){var e=.5/(Math.PI*hr.R);return ht(e,.5,-e,.5)}()}),Es=a({},Ge,{code:"EPSG:4326",projection:ur,transformation:ht(1/180,1,-1/180,.5)}),sl=a({},Pe,{projection:ur,transformation:ht(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var r=t.lng-e.lng,l=t.lat-e.lat;return Math.sqrt(r*r+l*l)},infinite:!0});Pe.Earth=Ge,Pe.EPSG3395=rl,Pe.EPSG3857=$t,Pe.EPSG900913=Dn,Pe.EPSG4326=Es,Pe.Simple=sl;var Ze=_e.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[f(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[f(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var r=this.getEvents();t.on(r,this),this.once("remove",function(){t.off(r,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});ne.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=f(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=f(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return f(e)in this._layers},eachLayer:function(e,t){for(var r in this._layers)e.call(t,this._layers[r]);return this},_addLayers:function(e){e=e?T(e)?e:[e]:[];for(var t=0,r=e.length;t<r;t++)this.addLayer(e[t])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[f(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=f(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,r=this._getZoomSpan();for(var l in this._zoomBoundLayers){var c=this._zoomBoundLayers[l].options;e=c.minZoom===void 0?e:Math.min(e,c.minZoom),t=c.maxZoom===void 0?t:Math.max(t,c.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ut=Ze.extend({initialize:function(e,t){x(this,t),this._layers={};var r,l;if(e)for(r=0,l=e.length;r<l;r++)this.addLayer(e[r])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){var t=typeof e=="number"?e:this.getLayerId(e);return t in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t=Array.prototype.slice.call(arguments,1),r,l;for(r in this._layers)l=this._layers[r],l[e]&&l[e].apply(l,t);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var r in this._layers)e.call(t,this._layers[r]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return f(e)}}),ol=function(e,t){return new Ut(e,t)},tt=Ut.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Ut.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Ut.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new me;for(var t in this._layers){var r=this._layers[t];e.extend(r.getBounds?r.getBounds():r.getLatLng())}return e}}),al=function(e,t){return new tt(e,t)},Ft=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){x(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var r=this._getIconUrl(e);if(!r){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(r,t&&t.tagName==="IMG"?t:null);return this._setIconStyles(l,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(e,t){var r=this.options,l=r[t+"Size"];typeof l=="number"&&(l=[l,l]);var c=R(l),p=R(t==="shadow"&&r.shadowAnchor||r.iconAnchor||c&&c.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(r.className||""),p&&(e.style.marginLeft=-p.x+"px",e.style.marginTop=-p.y+"px"),c&&(e.style.width=c.x+"px",e.style.height=c.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return M.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function ll(e){return new Ft(e)}var ki=Ft.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof ki.imagePath!="string"&&(ki.imagePath=this._detectIconPath()),(this.options.imagePath||ki.imagePath)+Ft.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(r,l,c){var p=l.exec(r);return p&&p[c]};return e=t(e,/^url\((['"])?(.+)\1\)$/,2),e&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=se("div","leaflet-default-icon-path",document.body),t=gi(e,"background-image")||gi(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t),t)return t;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),qs=Ve.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new dt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),H(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ve(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,r=t._map,l=this._marker.options.autoPanSpeed,c=this._marker.options.autoPanPadding,p=At(t._icon),v=r.getPixelBounds(),y=r.getPixelOrigin(),b=de(v.min._subtract(y).add(c),v.max._subtract(y).subtract(c));if(!b.contains(p)){var S=R((Math.max(b.max.x,p.x)-b.max.x)/(v.max.x-b.max.x)-(Math.min(b.min.x,p.x)-b.min.x)/(v.min.x-b.min.x),(Math.max(b.max.y,p.y)-b.max.y)/(v.max.y-b.max.y)-(Math.min(b.min.y,p.y)-b.min.y)/(v.min.y-b.min.y)).multiplyBy(l);r.panBy(S,{animate:!1}),this._draggable._newPos._add(S),this._draggable._startPos._add(S),ye(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=re(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(pe(this._panRequest),this._panRequest=re(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,r=t._shadow,l=At(t._icon),c=t._map.layerPointToLatLng(l);r&&ye(r,l),t._latlng=c,e.latlng=c,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){pe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),en=Ze.extend({options:{icon:new ki,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){x(this,t),this._latlng=V(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=V(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=e.icon.createIcon(this._icon),l=!1;r!==this._icon&&(this._icon&&this._removeIcon(),l=!0,e.title&&(r.title=e.title),r.tagName==="IMG"&&(r.alt=e.alt||"")),H(r,t),e.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&F(r,"focus",this._panOnFocus,this);var c=e.icon.createShadow(this._shadow),p=!1;c!==this._shadow&&(this._removeShadow(),p=!0),c&&(H(c,t),c.alt=""),this._shadow=c,e.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),c&&p&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),ge(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ge(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&ye(this._icon,e),this._shadow&&ye(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(H(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),qs)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new qs(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&$e(this._icon,e),this._shadow&&$e(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,r=t.iconSize?R(t.iconSize):R(0,0),l=t.iconAnchor?R(t.iconAnchor):R(0,0);e.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:r.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ul(e,t){return new en(e,t)}var ft=Ze.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return x(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),tn=ft.extend({options:{fill:!0,radius:10},initialize:function(e,t){x(this,t),this._latlng=V(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=V(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return ft.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,r=this._clickTolerance(),l=[e+r,t+r];this._pxBounds=new te(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function hl(e,t){return new tn(e,t)}var cr=tn.extend({initialize:function(e,t,r){if(typeof t=="number"&&(t=a({},r,{radius:t})),x(this,t),this._latlng=V(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new me(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:ft.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,r=this._map,l=r.options.crs;if(l.distance===Ge.distance){var c=Math.PI/180,p=this._mRadius/Ge.R/c,v=r.project([t+p,e]),y=r.project([t-p,e]),b=v.add(y).divideBy(2),S=r.unproject(b).lat,O=Math.acos((Math.cos(p*c)-Math.sin(t*c)*Math.sin(S*c))/(Math.cos(t*c)*Math.cos(S*c)))/c;(isNaN(O)||O===0)&&(O=p/Math.cos(Math.PI/180*t)),this._point=b.subtract(r.getPixelOrigin()),this._radius=isNaN(O)?0:b.x-r.project([S,e-O]).x,this._radiusY=b.y-v.y}else{var D=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(D).x}this._updateBounds()}});function cl(e,t,r){return new cr(e,t,r)}var it=ft.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){x(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t=1/0,r=null,l=xi,c,p,v=0,y=this._parts.length;v<y;v++)for(var b=this._parts[v],S=1,O=b.length;S<O;S++){c=b[S-1],p=b[S];var D=l(e,c,p,!0);D<t&&(t=D,r=l(e,c,p))}return r&&(r.distance=Math.sqrt(t)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=V(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new me,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ie(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],r=Ie(e),l=0,c=e.length;l<c;l++)r?(t[l]=V(e[l]),this._bounds.extend(t[l])):t[l]=this._convertLatLngs(e[l]);return t},_project:function(){var e=new te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new B(e,e);this._rawPxBounds&&(this._pxBounds=new te([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,r){var l=e[0]instanceof ie,c=e.length,p,v;if(l){for(v=[],p=0;p<c;p++)v[p]=this._map.latLngToLayerPoint(e[p]),r.extend(v[p]);t.push(v)}else for(p=0;p<c;p++)this._projectLatlngs(e[p],t,r)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var t=this._parts,r,l,c,p,v,y,b;for(r=0,c=0,p=this._rings.length;r<p;r++)for(b=this._rings[r],l=0,v=b.length;l<v-1;l++)y=Ss(b[l],b[l+1],e,l,!0),y&&(t[c]=t[c]||[],t[c].push(y[0]),(y[1]!==b[l+1]||l===v-2)&&(t[c].push(y[1]),c++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,r=0,l=e.length;r<l;r++)e[r]=As(e[r],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var r,l,c,p,v,y,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,p=this._parts.length;r<p;r++)for(y=this._parts[r],l=0,v=y.length,c=v-1;l<v;c=l++)if(!(!t&&l===0)&&Ps(e,y[c],y[l])<=b)return!0;return!1}});function dl(e,t){return new it(e,t)}it._flat=Ls;var Wt=it.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ks(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=it.prototype._convertLatLngs.call(this,e),r=t.length;return r>=2&&t[0]instanceof ie&&t[0].equals(t[r-1])&&t.pop(),t},_setLatLngs:function(e){it.prototype._setLatLngs.call(this,e),Ie(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ie(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,r=new B(t,t);if(e=new te(e.min.subtract(r),e.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,c=this._rings.length,p;l<c;l++)p=xs(this._rings[l],e,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t=!1,r,l,c,p,v,y,b,S;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(p=0,b=this._parts.length;p<b;p++)for(r=this._parts[p],v=0,S=r.length,y=S-1;v<S;y=v++)l=r[v],c=r[y],l.y>e.y!=c.y>e.y&&e.x<(c.x-l.x)*(e.y-l.y)/(c.y-l.y)+l.x&&(t=!t);return t||it.prototype._containsPoint.call(this,e,!0)}});function fl(e,t){return new Wt(e,t)}var nt=tt.extend({initialize:function(e,t){x(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t=T(e)?e:e.features,r,l,c;if(t){for(r=0,l=t.length;r<l;r++)c=t[r],(c.geometries||c.geometry||c.features||c.coordinates)&&this.addData(c);return this}var p=this.options;if(p.filter&&!p.filter(e))return this;var v=nn(e,p);return v?(v.feature=on(e),v.defaultOptions=v.options,this.resetStyle(v),p.onEachFeature&&p.onEachFeature(e,v),this.addLayer(v)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=a({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&(typeof t=="function"&&(t=t(e.feature)),e.setStyle(t))}});function nn(e,t){var r=e.type==="Feature"?e.geometry:e,l=r?r.coordinates:null,c=[],p=t&&t.pointToLayer,v=t&&t.coordsToLatLng||dr,y,b,S,O;if(!l&&!r)return null;switch(r.type){case"Point":return y=v(l),Os(p,e,y,t);case"MultiPoint":for(S=0,O=l.length;S<O;S++)y=v(l[S]),c.push(Os(p,e,y,t));return new tt(c);case"LineString":case"MultiLineString":return b=rn(l,r.type==="LineString"?0:1,v),new it(b,t);case"Polygon":case"MultiPolygon":return b=rn(l,r.type==="Polygon"?1:2,v),new Wt(b,t);case"GeometryCollection":for(S=0,O=r.geometries.length;S<O;S++){var D=nn({geometry:r.geometries[S],type:"Feature",properties:e.properties},t);D&&c.push(D)}return new tt(c);case"FeatureCollection":for(S=0,O=r.features.length;S<O;S++){var J=nn(r.features[S],t);J&&c.push(J)}return new tt(c);default:throw new Error("Invalid GeoJSON object.")}}function Os(e,t,r,l){return e?e(t,r):new en(r,l&&l.markersInheritOptions&&l)}function dr(e){return new ie(e[1],e[0],e[2])}function rn(e,t,r){for(var l=[],c=0,p=e.length,v;c<p;c++)v=t?rn(e[c],t-1,r):(r||dr)(e[c]),l.push(v);return l}function fr(e,t){return e=V(e),e.alt!==void 0?[w(e.lng,t),w(e.lat,t),w(e.alt,t)]:[w(e.lng,t),w(e.lat,t)]}function sn(e,t,r,l){for(var c=[],p=0,v=e.length;p<v;p++)c.push(t?sn(e[p],Ie(e[p])?0:t-1,r,l):fr(e[p],l));return!t&&r&&c.length>0&&c.push(c[0].slice()),c}function Gt(e,t){return e.feature?a({},e.feature,{geometry:t}):on(t)}function on(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var pr={toGeoJSON:function(e){return Gt(this,{type:"Point",coordinates:fr(this.getLatLng(),e)})}};en.include(pr),cr.include(pr),tn.include(pr),it.include({toGeoJSON:function(e){var t=!Ie(this._latlngs),r=sn(this._latlngs,t?1:0,!1,e);return Gt(this,{type:(t?"Multi":"")+"LineString",coordinates:r})}}),Wt.include({toGeoJSON:function(e){var t=!Ie(this._latlngs),r=t&&!Ie(this._latlngs[0]),l=sn(this._latlngs,r?2:t?1:0,!0,e);return t||(l=[l]),Gt(this,{type:(r?"Multi":"")+"Polygon",coordinates:l})}}),Ut.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(r){t.push(r.toGeoJSON(e).geometry.coordinates)}),Gt(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t==="MultiPoint")return this.toMultiPoint(e);var r=t==="GeometryCollection",l=[];return this.eachLayer(function(c){if(c.toGeoJSON){var p=c.toGeoJSON(e);if(r)l.push(p.geometry);else{var v=on(p);v.type==="FeatureCollection"?l.push.apply(l,v.features):l.push(v)}}}),r?Gt(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function js(e,t){return new nt(e,t)}var pl=js,an=Ze.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,r){this._url=e,this._bounds=fe(t),x(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(H(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ge(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Nt(this._image),this},bringToBack:function(){return this._map&&Zt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=fe(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",t=this._image=e?this._url:se("img");if(H(t,"leaflet-image-layer"),this._zoomAnimated&&H(t,"leaflet-zoom-animated"),this.options.className&&H(t,this.options.className),t.onselectstart=_,t.onmousemove=_,t.onload=h(this.fire,this,"load"),t.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(t.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=t.src;return}t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;kt(this._image,r,t)},_reset:function(){var e=this._image,t=new te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=t.getSize();ye(e,t.min),e.style.width=r.x+"px",e.style.height=r.y+"px"},_updateOpacity:function(){$e(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),ml=function(e,t,r){return new an(e,t,r)},Ms=an.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",t=this._image=e?this._url:se("video");if(H(t,"leaflet-image-layer"),this._zoomAnimated&&H(t,"leaflet-zoom-animated"),this.options.className&&H(t,this.options.className),t.onselectstart=_,t.onmousemove=_,t.onloadeddata=h(this.fire,this,"load"),e){for(var r=t.getElementsByTagName("source"),l=[],c=0;c<r.length;c++)l.push(r[c].src);this._url=r.length>0?l:[t.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var v=se("source");v.src=this._url[p],t.appendChild(v)}}});function gl(e,t,r){return new Ms(e,t,r)}var $s=an.extend({_initImage:function(){var e=this._image=this._url;H(e,"leaflet-image-layer"),this._zoomAnimated&&H(e,"leaflet-zoom-animated"),this.options.className&&H(e,this.options.className),e.onselectstart=_,e.onmousemove=_}});function _l(e,t,r){return new $s(e,t,r)}var Je=Ze.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof ie||T(e))?(this._latlng=V(e),x(this,t)):(x(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&$e(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&$e(this._container,1),this.bringToFront(),this.options.interactive&&(H(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?($e(this._container,0),this._removeTimeout=setTimeout(h(ge,void 0,this._container),200)):ge(this._container),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=V(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Nt(this._container),this},bringToBack:function(){return this._map&&Zt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof tt){t=null;var r=this._source._layers;for(var l in r)if(r[l]._map){t=r[l];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else if(t.getBounds)e=t.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof t=="string")e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=R(this.options.offset),r=this._getAnchor();this._zoomAnimated?ye(this._container,e.add(r)):t=t.add(e).add(r);var l=this._containerBottom=-t.y,c=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=l+"px",this._container.style.left=c+"px"}},_getAnchor:function(){return[0,0]}});ne.include({_initOverlay:function(e,t,r,l){var c=t;return c instanceof e||(c=new e(l).setContent(t)),r&&c.setLatLng(r),c}}),Ze.include({_initOverlay:function(e,t,r,l){var c=r;return c instanceof e?(x(c,l),c._source=this):(c=t&&!l?t:new e(l,this),c.setContent(r)),c}});var ln=Je.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Je.prototype.openOn.call(this,e)},onAdd:function(e){Je.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ft||this._source.on("preclick",Pt))},onRemove:function(e){Je.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ft||this._source.off("preclick",Pt))},getEvents:function(){var e=Je.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=se("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=se("div",e+"-content-wrapper",t);if(this._contentNode=se("div",e+"-content",r),wi(t),nr(this._contentNode),F(t,"contextmenu",Pt),this._tipContainer=se("div",e+"-tip-container",t),this._tip=se("div",e+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=se("a",e+"-close-button",t);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',F(l,"click",function(c){Ae(c),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var r=e.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),t.width=r+1+"px",t.whiteSpace="",t.height="";var l=e.offsetHeight,c=this.options.maxHeight,p="leaflet-popup-scrolled";c&&l>c?(t.height=c+"px",H(e,p)):ve(e,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),r=this._getAnchor();ye(this._container,t.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,t=parseInt(gi(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+t,l=this._containerWidth,c=new B(this._containerLeft,-r-this._containerBottom);c._add(At(this._container));var p=e.layerPointToContainerPoint(c),v=R(this.options.autoPanPadding),y=R(this.options.autoPanPaddingTopLeft||v),b=R(this.options.autoPanPaddingBottomRight||v),S=e.getSize(),O=0,D=0;p.x+l+b.x>S.x&&(O=p.x+l-S.x+b.x),p.x-O-y.x<0&&(O=p.x-y.x),p.y+r+b.y>S.y&&(D=p.y+r-S.y+b.y),p.y-D-y.y<0&&(D=p.y-y.y),(O||D)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([O,D]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),vl=function(e,t){return new ln(e,t)};ne.mergeOptions({closePopupOnClick:!0}),ne.include({openPopup:function(e,t,r){return this._initOverlay(ln,e,t,r).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Ze.include({bindPopup:function(e,t){return this._popup=this._initOverlay(ln,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof tt||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){Tt(e);var t=e.layer||e.target;if(this._popup._source===t&&!(t instanceof ft)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=t,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var un=Je.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Je.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Je.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Je.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",t=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=se("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,r,l=this._map,c=this._container,p=l.latLngToContainerPoint(l.getCenter()),v=l.layerPointToContainerPoint(e),y=this.options.direction,b=c.offsetWidth,S=c.offsetHeight,O=R(this.options.offset),D=this._getAnchor();y==="top"?(t=b/2,r=S):y==="bottom"?(t=b/2,r=0):y==="center"?(t=b/2,r=S/2):y==="right"?(t=0,r=S/2):y==="left"?(t=b,r=S/2):v.x<p.x?(y="right",t=0,r=S/2):(y="left",t=b+(O.x+D.x)*2,r=S/2),e=e.subtract(R(t,r,!0)).add(O).add(D),ve(c,"leaflet-tooltip-right"),ve(c,"leaflet-tooltip-left"),ve(c,"leaflet-tooltip-top"),ve(c,"leaflet-tooltip-bottom"),H(c,"leaflet-tooltip-"+y),ye(c,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&$e(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),yl=function(e,t){return new un(e,t)};ne.include({openTooltip:function(e,t,r){return this._initOverlay(un,e,t,r).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Ze.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(un,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var t=e?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[t](r),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof tt||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&(F(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),F(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var t=e.latlng,r,l;this._tooltip.options.sticky&&e.originalEvent&&(r=this._map.mouseEventToContainerPoint(e.originalEvent),l=this._map.containerPointToLayerPoint(r),t=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(t)}});var Is=Ft.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&e.tagName==="DIV"?e:document.createElement("div"),r=this.options;if(r.html instanceof Element?(Ki(t),t.appendChild(r.html)):t.innerHTML=r.html!==!1?r.html:"",r.bgPos){var l=R(r.bgPos);t.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function wl(e){return new Is(e)}Ft.Default=ki;var Ai=Ze.extend({options:{tileSize:256,opacity:1,updateWhenIdle:M.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){x(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ge(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Nt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof B?e:new B(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t=this.getPane().children,r=-e(-1/0,1/0),l=0,c=t.length,p;l<c;l++)p=t[l].style.zIndex,t[l]!==this._container&&p&&(r=e(r,+p));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!M.ielt9){$e(this._container,this.options.opacity);var e=+new Date,t=!1,r=!1;for(var l in this._tiles){var c=this._tiles[l];if(!(!c.current||!c.loaded)){var p=Math.min(1,(e-c.loaded)/200);$e(c.el,p),p<1?t=!0:(c.active?r=!0:this._onOpaqueTile(c),c.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),t&&(pe(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===e?(this._levels[r].el.style.zIndex=t-Math.abs(e-r),this._onUpdateLevel(r)):(ge(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var l=this._levels[e],c=this._map;return l||(l=this._levels[e]={},l.el=se("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=t,l.origin=c.project(c.unproject(c.getPixelOrigin()),e).round(),l.zoom=e,this._setZoomTransform(l,c.getCenter(),c.getZoom()),_(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var e,t,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var l=t.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ge(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,r,l){var c=Math.floor(e/2),p=Math.floor(t/2),v=r-1,y=new B(+c,+p);y.z=+v;var b=this._tileCoordsToKey(y),S=this._tiles[b];return S&&S.active?(S.retain=!0,!0):(S&&S.loaded&&(S.retain=!0),v>l?this._retainParent(c,p,v,l):!1)},_retainChildren:function(e,t,r,l){for(var c=2*e;c<2*e+2;c++)for(var p=2*t;p<2*t+2;p++){var v=new B(c,p);v.z=r+1;var y=this._tileCoordsToKey(v),b=this._tiles[y];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);r+1<l&&this._retainChildren(c,p,r+1,l)}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return t.minNativeZoom!==void 0&&e<t.minNativeZoom?t.minNativeZoom:t.maxNativeZoom!==void 0&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,r,l){var c=Math.round(t);this.options.maxZoom!==void 0&&c>this.options.maxZoom||this.options.minZoom!==void 0&&c<this.options.minZoom?c=void 0:c=this._clampZoom(c);var p=this.options.updateWhenZooming&&c!==this._tileZoom;(!l||p)&&(this._tileZoom=c,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),c!==void 0&&this._update(e),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var r in this._levels)this._setZoomTransform(this._levels[r],e,t)},_setZoomTransform:function(e,t,r){var l=this._map.getZoomScale(r,e.zoom),c=e.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(t,r)).round();M.any3d?kt(e.el,c,l):ye(e.el,c)},_resetGrid:function(){var e=this._map,t=e.options.crs,r=this._tileSize=this.getTileSize(),l=this._tileZoom,c=this._map.getPixelWorldBounds(this._tileZoom);c&&(this._globalTileRange=this._pxBoundsToTileRange(c)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],l).x/r.x),Math.ceil(e.project([0,t.wrapLng[1]],l).x/r.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],l).y/r.x),Math.ceil(e.project([t.wrapLat[1],0],l).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var t=this._map,r=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),l=t.getZoomScale(r,this._tileZoom),c=t.project(e,this._tileZoom).floor(),p=t.getSize().divideBy(l*2);return new te(c.subtract(p),c.add(p))},_update:function(e){var t=this._map;if(t){var r=this._clampZoom(t.getZoom());if(e===void 0&&(e=t.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(e),c=this._pxBoundsToTileRange(l),p=c.getCenter(),v=[],y=this.options.keepBuffer,b=new te(c.getBottomLeft().subtract([y,-y]),c.getTopRight().add([y,-y]));if(!(isFinite(c.min.x)&&isFinite(c.min.y)&&isFinite(c.max.x)&&isFinite(c.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var S in this._tiles){var O=this._tiles[S].coords;(O.z!==this._tileZoom||!b.contains(new B(O.x,O.y)))&&(this._tiles[S].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(e,r);return}for(var D=c.min.y;D<=c.max.y;D++)for(var J=c.min.x;J<=c.max.x;J++){var Se=new B(J,D);if(Se.z=this._tileZoom,!!this._isValidTile(Se)){var xe=this._tiles[this._tileCoordsToKey(Se)];xe?xe.current=!0:v.push(Se)}}if(v.sort(function(Le,Kt){return Le.distanceTo(p)-Kt.distanceTo(p)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Re=document.createDocumentFragment();for(J=0;J<v.length;J++)this._addTile(v[J],Re);this._level.el.appendChild(Re)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var r=this._globalTileRange;if(!t.wrapLng&&(e.x<r.min.x||e.x>r.max.x)||!t.wrapLat&&(e.y<r.min.y||e.y>r.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(e);return fe(this.options.bounds).overlaps(l)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,r=this.getTileSize(),l=e.scaleBy(r),c=l.add(r),p=t.unproject(l,e.z),v=t.unproject(c,e.z);return[p,v]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),r=new me(t[0],t[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),r=new B(+t[0],+t[1]);return r.z=+t[2],r},_removeTile:function(e){var t=this._tiles[e];t&&(ge(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){H(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=_,e.onmousemove=_,M.ielt9&&this.options.opacity<1&&$e(e,this.options.opacity)},_addTile:function(e,t){var r=this._getTilePos(e),l=this._tileCoordsToKey(e),c=this.createTile(this._wrapCoords(e),h(this._tileReady,this,e));this._initTile(c),this.createTile.length<2&&re(h(this._tileReady,this,e,null,c)),ye(c,r),this._tiles[l]={el:c,coords:e,current:!0},t.appendChild(c),this.fire("tileloadstart",{tile:c,coords:e})},_tileReady:function(e,t,r){t&&this.fire("tileerror",{error:t,tile:r,coords:e});var l=this._tileCoordsToKey(e);r=this._tiles[l],r&&(r.loaded=+new Date,this._map._fadeAnimated?($e(r.el,0),pe(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),t||(H(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),M.ielt9||!this._map._fadeAnimated?re(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new B(this._wrapX?g(e.x,this._wrapX):e.x,this._wrapY?g(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new te(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function bl(e){return new Ai(e)}var Ht=Ai.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,t=x(this,t),t.detectRetina&&M.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),typeof t.subdomains=="string"&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&t===void 0&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var r=document.createElement("img");return F(r,"load",h(this._tileOnLoad,this,t,r)),F(r,"error",h(this._tileOnError,this,t,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(e),r},getTileUrl:function(e){var t={r:M.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return P(this._url,a(t,this.options))},_tileOnLoad:function(e,t){M.ielt9?setTimeout(h(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,r){var l=this.options.errorTileUrl;l&&t.getAttribute("src")!==l&&(t.src=l),e(r,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,r=this.options.zoomReverse,l=this.options.zoomOffset;return r&&(e=t-e),e+l},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=_,t.onerror=_,!t.complete)){t.src=j;var r=this._tiles[e].coords;ge(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:r})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",j),Ai.prototype._removeTile.call(this,e)},_tileReady:function(e,t,r){if(!(!this._map||r&&r.getAttribute("src")===j))return Ai.prototype._tileReady.call(this,e,t,r)}});function Rs(e,t){return new Ht(e,t)}var zs=Ht.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=a({},this.defaultWmsParams);for(var l in t)l in this.options||(r[l]=t[l]);t=x(this,t);var c=t.detectRetina&&M.retina?2:1,p=this.getTileSize();r.width=p.x*c,r.height=p.y*c,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Ht.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),r=this._crs,l=de(r.project(t[0]),r.project(t[1])),c=l.min,p=l.max,v=(this._wmsVersion>=1.3&&this._crs===Es?[c.y,c.x,p.y,p.x]:[c.x,c.y,p.x,p.y]).join(","),y=Ht.prototype.getTileUrl.call(this,e);return y+C(this.wmsParams,y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(e,t){return a(this.wmsParams,e),t||this.redraw(),this}});function xl(e,t){return new zs(e,t)}Ht.WMS=zs,Rs.wms=xl;var rt=Ze.extend({options:{padding:.1},initialize:function(e){x(this,e),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),H(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var r=this._map.getZoomScale(t,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),c=this._map.project(this._center,t),p=l.multiplyBy(-r).add(c).subtract(this._map._getNewPixelOrigin(e,t));M.any3d?kt(this._container,p,r):ye(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),r=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new te(r,r.add(t.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Bs=rt.extend({options:{tolerance:0},getEvents:function(){var e=rt.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){rt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");F(e,"mousemove",this._onMouseMove,this),F(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),F(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){pe(this._redrawRequest),delete this._ctx,ge(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var t in this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rt.prototype._update.call(this);var e=this._bounds,t=this._container,r=e.getSize(),l=M.retina?2:1;ye(t,e.min),t.width=l*r.x,t.height=l*r.y,t.style.width=r.x+"px",t.style.height=r.y+"px",M.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){rt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[f(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,r=t.next,l=t.prev;r?r.prev=l:this._drawLast=l,l?l.next=r:this._drawFirst=r,delete e._order,delete this._layers[f(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var t=e.options.dashArray.split(/[, ]+/),r=[],l,c;for(c=0;c<t.length;c++){if(l=Number(t[c]),isNaN(l))return;r.push(l)}e.options._dashArray=r}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||re(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new te,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var r=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)e=l.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var r,l,c,p,v=e._parts,y=v.length,b=this._ctx;if(y){for(b.beginPath(),r=0;r<y;r++){for(l=0,c=v[r].length;l<c;l++)p=v[r][l],b[l?"lineTo":"moveTo"](p.x,p.y);t&&b.closePath()}this._fillStroke(b,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var t=e._point,r=this._ctx,l=Math.max(Math.round(e._radius),1),c=(Math.max(Math.round(e._radiusY),1)||l)/l;c!==1&&(r.save(),r.scale(1,c)),r.beginPath(),r.arc(t.x,t.y/c,l,0,Math.PI*2,!1),c!==1&&r.restore(),this._fillStroke(r,e)}},_fillStroke:function(e,t){var r=t.options;r.fill&&(e.globalAlpha=r.fillOpacity,e.fillStyle=r.fillColor||r.color,e.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=r.opacity,e.lineWidth=r.weight,e.strokeStyle=r.color,e.lineCap=r.lineCap,e.lineJoin=r.lineJoin,e.stroke())},_onClick:function(e){for(var t=this._map.mouseEventToLayerPoint(e),r,l,c=this._drawFirst;c;c=c.next)r=c.layer,r.options.interactive&&r._containsPoint(t)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(r))&&(l=r);this._fireEvent(l?[l]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(ve(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var r,l,c=this._drawFirst;c;c=c.next)r=c.layer,r.options.interactive&&r._containsPoint(t)&&(l=r);l!==this._hoveredLayer&&(this._handleMouseOut(e),l&&(H(this._container,"leaflet-interactive"),this._fireEvent([l],e,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,r){this._map._fireDOMEvent(t,r||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var r=t.next,l=t.prev;if(r)r.prev=l;else return;l?l.next=r:r&&(this._drawFirst=r),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e)}},_bringToBack:function(e){var t=e._order;if(t){var r=t.next,l=t.prev;if(l)l.next=r;else return;r?r.prev=l:l&&(this._drawLast=l),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e)}}});function Ds(e){return M.canvas?new Bs(e):null}var Pi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),kl={_initContainer:function(){this._container=se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(rt.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Pi("shape");H(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Pi("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;ge(t),e.removeInteractiveTarget(t),delete this._layers[f(e)]},_updateStyle:function(e){var t=e._stroke,r=e._fill,l=e.options,c=e._container;c.stroked=!!l.stroke,c.filled=!!l.fill,l.stroke?(t||(t=e._stroke=Pi("stroke")),c.appendChild(t),t.weight=l.weight+"px",t.color=l.color,t.opacity=l.opacity,l.dashArray?t.dashStyle=T(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=l.lineCap.replace("butt","flat"),t.joinstyle=l.lineJoin):t&&(c.removeChild(t),e._stroke=null),l.fill?(r||(r=e._fill=Pi("fill")),c.appendChild(r),r.color=l.fillColor||l.color,r.opacity=l.fillOpacity):r&&(c.removeChild(r),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),r=Math.round(e._radius),l=Math.round(e._radiusY||r);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+r+","+l+" 0,"+65535*360)},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){Nt(e._container)},_bringToBack:function(e){Zt(e._container)}},hn=M.vml?Pi:ai,Ti=rt.extend({_initContainer:function(){this._container=hn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ge(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){rt.prototype._update.call(this);var e=this._bounds,t=e.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(t))&&(this._svgSize=t,r.setAttribute("width",t.x),r.setAttribute("height",t.y)),ye(r,e.min),r.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=hn("path");e.options.className&&H(t,e.options.className),e.options.interactive&&H(t,"leaflet-interactive"),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ge(e._path),e.removeInteractiveTarget(e._path),delete this._layers[f(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,r=e.options;t&&(r.stroke?(t.setAttribute("stroke",r.color),t.setAttribute("stroke-opacity",r.opacity),t.setAttribute("stroke-width",r.weight),t.setAttribute("stroke-linecap",r.lineCap),t.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?t.setAttribute("stroke-dasharray",r.dashArray):t.removeAttribute("stroke-dasharray"),r.dashOffset?t.setAttribute("stroke-dashoffset",r.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),r.fill?(t.setAttribute("fill",r.fillColor||r.color),t.setAttribute("fill-opacity",r.fillOpacity),t.setAttribute("fill-rule",r.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,li(e._parts,t))},_updateCircle:function(e){var t=e._point,r=Math.max(Math.round(e._radius),1),l=Math.max(Math.round(e._radiusY),1)||r,c="a"+r+","+l+" 0 1,0 ",p=e._empty()?"M0 0":"M"+(t.x-r)+","+t.y+c+r*2+",0 "+c+-r*2+",0 ";this._setPath(e,p)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){Nt(e._path)},_bringToBack:function(e){Zt(e._path)}});M.vml&&Ti.include(kl);function Ns(e){return M.svg||M.vml?new Ti(e):null}ne.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var t=this._paneRenderers[e];return t===void 0&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Ds(e)||Ns(e)}});var Zs=Wt.extend({initialize:function(e,t){Wt.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=fe(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Al(e,t){return new Zs(e,t)}Ti.create=hn,Ti.pointsToPath=li,nt.geometryToLayer=nn,nt.coordsToLatLng=dr,nt.coordsToLatLngs=rn,nt.latLngToCoords=fr,nt.latLngsToCoords=sn,nt.getFeature=Gt,nt.asFeature=on,ne.mergeOptions({boxZoom:!0});var Us=Ve.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){F(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ge(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),_i(),Vn(),this._startPoint=this._map.mouseEventToContainerPoint(e),F(document,{contextmenu:Tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=se("div","leaflet-zoom-box",this._container),H(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new te(this._point,this._startPoint),r=t.getSize();ye(this._box,t.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(ge(this._box),ve(this._container,"leaflet-crosshair")),vi(),Jn(),he(document,{contextmenu:Tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var t=new me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ne.addInitHook("addHandler","boxZoom",Us),ne.mergeOptions({doubleClickZoom:!0});var Fs=Ve.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,r=t.getZoom(),l=t.options.zoomDelta,c=e.originalEvent.shiftKey?r-l:r+l;t.options.doubleClickZoom==="center"?t.setZoom(c):t.setZoomAround(e.containerPoint,c)}});ne.addInitHook("addHandler","doubleClickZoom",Fs),ne.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ws=Ve.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new dt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}H(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ve(this._map._container,"leaflet-grab"),ve(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=fe(this._map.options.maxBounds);this._offsetLimit=de(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),r=this._initialWorldOffset,l=this._draggable._newPos.x,c=(l-t+r)%e+t-r,p=(l+t+r)%e-t-r,v=Math.abs(c+r)<Math.abs(p+r)?c:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(e){var t=this._map,r=t.options,l=!r.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),l)t.fire("moveend");else{this._prunePositions(+new Date);var c=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,v=r.easeLinearity,y=c.multiplyBy(v/p),b=y.distanceTo([0,0]),S=Math.min(r.inertiaMaxSpeed,b),O=y.multiplyBy(S/b),D=S/(r.inertiaDeceleration*v),J=O.multiplyBy(-D/2).round();!J.x&&!J.y?t.fire("moveend"):(J=t._limitOffset(J,t.options.maxBounds),re(function(){t.panBy(J,{duration:D,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});ne.addInitHook("addHandler","dragging",Ws),ne.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Gs=Ve.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),F(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,r=e.scrollTop||t.scrollTop,l=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(l,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t=this._panKeys={},r=this.keyCodes,l,c;for(l=0,c=r.left.length;l<c;l++)t[r.left[l]]=[-1*e,0];for(l=0,c=r.right.length;l<c;l++)t[r.right[l]]=[e,0];for(l=0,c=r.down.length;l<c;l++)t[r.down[l]]=[0,e];for(l=0,c=r.up.length;l<c;l++)t[r.up[l]]=[0,-1*e]},_setZoomDelta:function(e){var t=this._zoomKeys={},r=this.keyCodes,l,c;for(l=0,c=r.zoomIn.length;l<c;l++)t[r.zoomIn[l]]=e;for(l=0,c=r.zoomOut.length;l<c;l++)t[r.zoomOut[l]]=-e},_addHooks:function(){F(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=e.keyCode,r=this._map,l;if(t in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(l=this._panKeys[t],e.shiftKey&&(l=R(l).multiplyBy(3)),r.options.maxBounds&&(l=r._limitOffset(R(l),r.options.maxBounds)),r.options.worldCopyJump){var c=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(l)));r.panTo(c)}else r.panBy(l)}else if(t in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t]);else if(t===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;Tt(e)}}});ne.addInitHook("addHandler","keyboard",Gs),ne.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Hs=Ve.extend({addHooks:function(){F(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=_s(e),r=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var l=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),l),Tt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),r=this._map.options.zoomSnap||0;e._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),c=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,p=r?Math.ceil(c/r)*r:c,v=e._limitZoom(t+(this._delta>0?p:-p))-t;this._delta=0,this._startTime=null,v&&(e.options.scrollWheelZoom==="center"?e.setZoom(t+v):e.setZoomAround(this._lastMousePos,t+v))}});ne.addInitHook("addHandler","scrollWheelZoom",Hs);var Pl=600;ne.mergeOptions({tapHold:M.touchNative&&M.safari&&M.mobile,tapTolerance:15});var Ks=Ve.extend({addHooks:function(){F(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var t=e.touches[0];this._startPos=this._newPos=new B(t.clientX,t.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(F(document,"touchend",Ae),F(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),Pl),F(document,"touchend touchcancel contextmenu",this._cancel,this),F(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){he(document,"touchend",Ae),he(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new B(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var r=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});r._simulated=!0,t.target.dispatchEvent(r)}});ne.addInitHook("addHandler","tapHold",Ks),ne.mergeOptions({touchZoom:M.touch,bounceAtZoomLimits:!0});var Vs=Ve.extend({addHooks:function(){H(this._map._container,"leaflet-touch-zoom"),F(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(!(!e.touches||e.touches.length!==2||t._animatingZoom||this._zooming)){var r=t.mouseEventToContainerPoint(e.touches[0]),l=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),t.options.touchZoom!=="center"&&(this._pinchStartLatLng=t.containerPointToLatLng(r.add(l)._divideBy(2))),this._startDist=r.distanceTo(l),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),F(document,"touchmove",this._onTouchMove,this),F(document,"touchend touchcancel",this._onTouchEnd,this),Ae(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var t=this._map,r=t.mouseEventToContainerPoint(e.touches[0]),l=t.mouseEventToContainerPoint(e.touches[1]),c=r.distanceTo(l)/this._startDist;if(this._zoom=t.getScaleZoom(c,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&c<1||this._zoom>t.getMaxZoom()&&c>1)&&(this._zoom=t._limitZoom(this._zoom)),t.options.touchZoom==="center"){if(this._center=this._startLatLng,c===1)return}else{var p=r._add(l)._divideBy(2)._subtract(this._centerPoint);if(c===1&&p.x===0&&p.y===0)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),pe(this._animRequest);var v=h(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=re(v,this,!0),Ae(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,pe(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ne.addInitHook("addHandler","touchZoom",Vs),ne.BoxZoom=Us,ne.DoubleClickZoom=Fs,ne.Drag=Ws,ne.Keyboard=Gs,ne.ScrollWheelZoom=Hs,ne.TapHold=Ks,ne.TouchZoom=Vs,n.Bounds=te,n.Browser=M,n.CRS=Pe,n.Canvas=Bs,n.Circle=cr,n.CircleMarker=tn,n.Class=Z,n.Control=Ne,n.DivIcon=Is,n.DivOverlay=Je,n.DomEvent=Ua,n.DomUtil=Na,n.Draggable=dt,n.Evented=_e,n.FeatureGroup=tt,n.GeoJSON=nt,n.GridLayer=Ai,n.Handler=Ve,n.Icon=Ft,n.ImageOverlay=an,n.LatLng=ie,n.LatLngBounds=me,n.Layer=Ze,n.LayerGroup=Ut,n.LineUtil=il,n.Map=ne,n.Marker=en,n.Mixin=Ja,n.Path=ft,n.Point=B,n.PolyUtil=Ya,n.Polygon=Wt,n.Polyline=it,n.Popup=ln,n.PosAnimation=vs,n.Projection=nl,n.Rectangle=Zs,n.Renderer=rt,n.SVG=Ti,n.SVGOverlay=$s,n.TileLayer=Ht,n.Tooltip=un,n.Transformation=et,n.Util=We,n.VideoOverlay=Ms,n.bind=h,n.bounds=de,n.canvas=Ds,n.circle=cl,n.circleMarker=hl,n.control=bi,n.divIcon=wl,n.extend=a,n.featureGroup=al,n.geoJSON=js,n.geoJson=pl,n.gridLayer=bl,n.icon=ll,n.imageOverlay=ml,n.latLng=V,n.latLngBounds=fe,n.layerGroup=ol,n.map=Fa,n.marker=ul,n.point=R,n.polygon=fl,n.polyline=dl,n.popup=vl,n.rectangle=Al,n.setOptions=x,n.stamp=f,n.svg=Ns,n.svgOverlay=_l,n.tileLayer=Rs,n.tooltip=yl,n.transformation=ht,n.version=s,n.videoOverlay=gl;var Tl=window.L;n.noConflict=function(){return window.L=Tl,this},window.L=n})})(Zr,Zr.exports);var hd=Zr.exports;const _n=sh(hd);var cd=oe('<div class="p-6 bg-gray-50 dark:bg-gray-900 rounded-3xl"><h1 class="text-3xl font-bold text-center mb-6 text-gray-800 dark:text-white">PROGRAM</h1><div class="bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-6"><div class="flex justify-center items-center mb-4"><div id=map-container class="w-full h-96 bg-gray-300 dark:bg-gray-700 rounded-lg overflow-hidden border-4 border-gray-500"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="bg-gray-100 dark:bg-gray-600 p-4 rounded-lg shadow-md transition-transform transform hover:scale-105"><h2 class="text-lg font-semibold mb-2 text-gray-800 dark:text-white">Podaci o avionu</h2><p class="text-gray-700 dark:text-gray-300"><strong>Kut X do aviona: <!>°</strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Kut Y do aviona: <!>°</strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Koordinate aviona: <!>°, <!>°</strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Zračna udaljenost: <!>m</strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Vaša Elevacija: <!>m</strong></p></div><div class="bg-gray-100 dark:bg-gray-600 p-4 rounded-lg shadow-md transition-transform transform hover:scale-105"><h2 class="text-lg font-semibold mb-2 text-gray-800 dark:text-white">Nagib uređaja</h2><p class="text-gray-700 dark:text-gray-300"><strong>Alpha (Z os): <!>°</strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Beta (X os): <!>°</strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Gamma (Y os): <!>°</strong></p><p class="text-gray-700 dark:text-gray-300"><strong>Kut gledanja: <!> + 5.3°</strong></p></div></div><div class="flex justify-center mt-6"><audio id=audiosuccess></audio><audio id=audiofail></audio><button class="bg-blue-600 text-white font-semibold py-2 px-4 w-full rounded-lg shadow-md hover:bg-blue-700 transition duration-200">Skeniraj</button></div><div class="top-16 mt-2 col-span-1 md:col-span-2 flex justify-start w-full"><div class="space-y-2 w-full">'),dd=oe('<div><div class="whitespace-normal w-full">');const[fd,ga]=$(!1),[pd,bo]=$([]),[Xt,md]=$(null),[ei,gd]=$(null),[xo,_d]=$(0),[Pr,vd]=$(0),[ko,yd]=$(0),[Ao,Po]=$(null),[wd,bd]=$(null),[xd,kd]=$(null),[Ad,Pd]=$(null),[Td,Sd]=$(null),[Tr,Ld]=$(0),[Ci,Cd]=$(0),[Ei,Ed]=$(0),[Sr,To]=$(0),[So,qd]=$(0),[Od,jd]=$(0),[Md,$d]=$(0),[sp,Id]=$(0),[Lo,Co]=$(0),[Rd,zd]=$(0),[Bd,Dd]=$(0),[Nd,Zd]=$(0),[Ud,Fd]=$(0),[Wd,Gd]=$(0),[op,Hd]=$(0),[ap,Kd]=$(0);function Vd(o){const i=new Date(o);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(i)}async function st(o,i,n){const s={message:o,type:i};bo(a=>[...a,s]),setTimeout(()=>{bo(a=>a.filter(u=>u!==s))},n)}async function Jd(o){o===!1&&ga(!0)}function Yd(o){const[i,n]=$(null),s=A=>{const P=_n.map(A,{zoomControl:!1,attributionControl:!1}).setView([51.505,-.09],13);_n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(P),navigator.geolocation?navigator.geolocation.getCurrentPosition(T=>{const{latitude:q,longitude:j}=T.coords;P.setView([q,j],13),_n.marker([q,j]).addTo(P).bindPopup("Vaša trenutna lokacija").openPopup()},T=>{console.error("Geolokacija nije dostupna: ",T)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):console.error("Geolokacija nije podržana u ovom pregledniku"),n(P)};Ln(()=>{i()&&i().remove()});const a=()=>{window.DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(A=>{A==="granted"?window.addEventListener("deviceorientationabsolute",P=>{if(P.alpha!==null){let T=P.alpha;T<0&&(T+=360),T=T.toFixed(2),Math.abs(Pr)<45&&Math.abs(ko)<45?Po(xo):console.log("Ignoring alpha changes due to significant tilt.")}else st("Magnetic heading is not available","error",5e3)}):st("Permission denied for device orientation","error",5e3)}).catch(A=>{console.error("Error requesting device orientation permission:",A),st("Device orientation permission error","error",5e3)}):window.DeviceOrientationEvent?window.addEventListener("deviceorientationabsolute",A=>{if(A.alpha!==null){let P=A.alpha,T=A.beta,q=A.gamma;P=(P+360)%360,P<0&&(P+=360),(P>0&&P<180||P>0&&P>180)&&(P=360-P),P=P.toFixed(2),Math.abs(T)<45&&Math.abs(q)<45&&Po(P)}else st("Nismo u mogućnosti pronaći Vašu orijentaciju.","error",5e3)}):st("DeviceOrientation nije podržan.","error",5e3)};async function u(A,P,T,q){let j=Math.atan2(T-A,q-P);j=(j*(180/Math.PI)+360)%360,console.log("bearing je: ",j),Cd(j)}function h(){return new Promise((A,P)=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(T=>{const q=T.coords.latitude,j=T.coords.longitude;md(q),gd(j),console.log("LATITUDA I LONGITUDA KORISNIK: ",Xt(),ei()),A()},T=>{console.error("Error fetching geolocation:",T),P(T)}):console.log("Geolocation is not supported")})}const d=A=>{_d(A.alpha),vd(A.beta),yd(A.gamma)};let f=!1;Zl(()=>{let A=new Magnetometer;A.addEventListener("reading",T=>{Ld(Math.sqrt(Math.pow(A.x,2)+Math.pow(A.y,2)+Math.pow(A.z,2))),Tr()>65||Tr()<20?f||(st(`Zbog snage magnetskog polja (${Tr().toFixed(2)}µT), očitanja kuteva mogla bi biti neprecizna.`,"info",5e3),f=!0):f=!1}),A.start(),st("Kako bi ste koristili magnetometar, posjetite lokaciju chrome://flags ili edge://flags te dozvolite rad magnetometra!","info",1e4),a();const P=document.getElementById("map-container");return P&&s(P),window.addEventListener("deviceorientation",d),()=>{window.removeEventListener("deviceorientation",d),A.stop()}});function m(A,P){bd(A+9.72009720099/60),kd(A-9.72009720099/60);const T=9.72009720099/60*Math.cos(A*Math.PI/180);Pd(P+T),Sd(P-T),console.log("Okvir gledanja",wd(),xd(),Ad(),Td())}async function g(A,P){try{const T=await ad(A,P);T!==null?qd(T):console.log("API za elevaciju vratio je null vrijednost")}catch(T){console.error("Greška pri pokušaju dohvaćanja elevacije: ",T)}}async function _(A,P,T,q,j,I,Q,N,U,Y){const pe=T*(Math.PI/180),We=q*(Math.PI/180),Z=A*(Math.PI/180),X=P*(Math.PI/180),G=Z-pe,_e=X-We,B=Math.sin(G/2)**2+Math.cos(pe)*Math.cos(Z)*Math.sin(_e/2)**2,R=6371e3*(2*Math.asin(Math.sqrt(B)));R!=0?To(R):R===null?console.log("UdaljenostZRC je null, provjeriti funkciju skeniranje"):To(j);const te=j-Q,de=Math.atan(Sr()/te)*(180/Math.PI);console.log("ZRACNA UDALJENOST JE:",Sr()),console.log("KUT Y JE",de),console.log("VISINA JE:",j),Ed(de),u(Xt(),ei(),Md(),Od());const me=Ei()+5,fe=Ei()-5,ie=Ci()+5,V=Ci()-5;if(console.log("Gornja i donja granica kuta x:",ie,V),console.log("Gornja i donja granica kuta y:",me,fe),I>=fe&&I<=me&&N>=V&&N<=ie){var Pe=document.getElementById("audiosuccess");Pe.play(),ef(T,q,j,Y,call,U),await nf(),error?console.error("Greška pri spremanju podataka u bazu:",error.message):console.log("Podaci spremljeni u bazu"),error&&console.log(error,"Greška prilikom slanja u BP")}else{var Pe=document.getElementById("audiofail");Pe.play(),st("Avion se ne nalazi u traženom zračnom prostoru","error",5e3);let wt=Math.min(Math.abs(Ei()-I),360-Math.abs(Ei()-I)),bt=Math.min(Math.abs(Ci()-N),360-Math.abs(Ci()-N)),et=wt+bt;Lo()===null?Co(et):Lo()<et&&(Co(et),zd(Ei().toFixed(2)),Dd(Ci().toFixed(2)),Zd(T.toFixed(2)),Fd(q.toFixed(2)),Gd(Sr().toFixed(2)))}}const[w,k]=$(!1),E="${flightRadarKey}",x=async()=>{k(!0);try{const P=await od(E,"50.682,46.218,14.422,22.243");P!==null&&P.forEach(async T=>{const q=T.lat,j=T.lon,I=(T.alt/3.28).toFixed(2),Q=Math.round(T.brz*1.852),N=T.modelA,U=T.call;$d(q),jd(j),Id(I),Hd(Q),Kd(N),_n.marker([q,j]).addTo(i()).bindPopup(`
            <div class="text-xs p-2 max-w-xs">
              <strong>Let:</strong> ${U}<br>
              <strong>Zrakoplov:</strong> ${N}<br>
              <strong>Altituda:</strong> ${I} m
            </div>  `).openPopup(),_(Xt(),ei(),q,j,I,Pr(),So(),Ao(),N,Q,U),console.log("Podaci o avionu:: ",T)})}catch(A){console.error("Failed to fetch flight data:",A)}finally{k(!1)}};async function C(){await h(),m(Xt(),ei()),await g(Xt(),ei()),await x(),console.log("Korisnikova lokacija: ",Xt(),ei())}return(()=>{var A=cd(),P=A.firstChild,T=P.nextSibling,q=T.firstChild,j=q.nextSibling,I=j.firstChild,Q=I.firstChild,N=Q.nextSibling,U=N.firstChild,Y=U.firstChild,re=Y.nextSibling;re.nextSibling;var pe=N.nextSibling,We=pe.firstChild,Z=We.firstChild,X=Z.nextSibling;X.nextSibling;var G=pe.nextSibling,_e=G.firstChild,B=_e.firstChild,Oe=B.nextSibling,R=Oe.nextSibling,te=R.nextSibling;te.nextSibling;var de=G.nextSibling,me=de.firstChild,fe=me.firstChild,ie=fe.nextSibling;ie.nextSibling;var V=de.nextSibling,Pe=V.firstChild,Ge=Pe.firstChild,wt=Ge.nextSibling;wt.nextSibling;var bt=I.nextSibling,et=bt.firstChild,ht=et.nextSibling,$t=ht.firstChild,Dn=$t.firstChild,ai=Dn.nextSibling;ai.nextSibling;var li=ht.nextSibling,It=li.firstChild,Rt=It.firstChild,Di=Rt.nextSibling;Di.nextSibling;var ui=li.nextSibling,zt=ui.firstChild,Ni=zt.firstChild,hi=Ni.nextSibling;hi.nextSibling;var Nn=ui.nextSibling,Zi=Nn.firstChild,ci=Zi.firstChild,di=ci.nextSibling;di.nextSibling;var fi=j.nextSibling,Ui=fi.firstChild,pi=Ui.nextSibling,Fi=pi.nextSibling,Zn=fi.nextSibling,Wi=Zn.firstChild;return W(U,Bd,re),W(We,Rd,X),W(_e,Nd,Oe),W(_e,Ud,te),W(me,Wd,ie),W(Pe,So,wt),W($t,()=>ko().toFixed(2),ai),W(It,()=>xo().toFixed(2),Di),W(zt,()=>Pr().toFixed(2),hi),W(Zi,Ao,di),Be(Ui,"src",ld),Be(pi,"src",ud),Fi.$$click=C,W(Wi,()=>pd().map((ct,Gi)=>(()=>{var Bt=dd(),xt=Bt.firstChild;return Be(Bt,"key",Gi),W(xt,()=>ct.message),be(()=>qn(Bt,`p-4 rounded ${ct.type==="error"?"bg-red-600":ct.type==="success"?"bg-green-700":ct.type==="info"?"bg-blue-400":""} text-white shadow-md`)),Bt})())),A})()}De(["click"]);const Qd="https://jgzhrmujjmcuanvbufwh.supabase.co",Xd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnemhybXVqam1jdWFudmJ1ZndoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM3NjcyNDksImV4cCI6MjA0OTM0MzI0OX0.GX-LLe2w4zDA8_lHv8HVY15PikbGNo9Tnz-WzB-ZwvI",Fe=sd(Qd,Xd);async function ef(o,i,n,s,a,u){const{error:h}=await Fe.from("AvioniNadjeno").insert([{latitude:o,longitude:i,altitude:n,speed:s,callsign:a,model:u}]);h?console.error("Greška pri spremanju podataka u bazu:",h.message):(console.log("Podaci spremljeni u bazu"),st("Podaci su spremljeni u bazu podataka.","success",5e3))}async function tf(){const{data:o,error:i}=await Fe.from("AvioniNadjeno").select("*").order("id",{ascending:!1}).limit(5);return i?(console.error("Greška pri dohvaćanju aviona:",i.message),[]):(console.log("Dohvaćeni podaci:",o),o)}async function nf(){await Jd(fd());const{data:o,error:i}=await Fe.from("AvioniNadjeno").select("*").order("id",{ascending:!1}).limit(5);return i?(console.error("Greška pri dohvaćanju aviona:",i.message),[]):(console.log("Azuriranje je uspjelo:",o),ga(!1),o)}const _a=Fr();function yt(){return Cn(_a)}function rf(o){const[i,n]=$(null),[s,a]=$(!0);return Fe.auth.onAuthStateChange((u,h)=>{u==="SIGNED_IN"||u==="USER_UPDATED"?(n(h),a(!1)):u==="SIGNED_OUT"?(n(null),a(!1)):u==="INITIAL_SESSION"&&a(!1)}),z(Hr,{get when(){return!s()},get children(){return z(_a.Provider,{value:i,get children(){return o.children}})}})}const Tn="/ZavrsniV2/assets/planefav-DkQTzJrY.png";var sf=oe('<nav class="bg-white border-gray-200 dark:bg-gray-900"><div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"><a href=/Pocetna class="flex items-center space-x-3 rtl:space-x-reverse"><img class=h-8 alt="Flowbite Logo"><span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">Plane Spotter</span></a><button class="md:hidden p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-200"aria-label="Open mobile menu"><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16"></path></svg></button><div><ul class="flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700"><li><a href=/Pocetna class="block py-2 px-3 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500">Pocetna</a></li><li class=relative><button id=dropdownNavbarLink class="flex items-center justify-between w-full py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto dark:text-white md:dark:hover:text-blue-500 dark:focus:text-white dark:border-gray-700 dark:hover:bg-gray-700 md:dark:hover:bg-transparent">Izbornik<svg class="w-2.5 h-2.5 ms-2.5"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 10 6"><path stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m1 1 4 4 4-4"></path></svg></button></li><li><a href=/Onama class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto dark:text-white md:dark:hover:text-blue-500 dark:focus:text-white dark:border-gray-700 dark:hover:bg-gray-700 md:dark:hover:bg-transparent">O nama</a></li><li><a href=/Kontakt class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto dark:text-white md:dark:hover:text-blue-500 dark:focus:text-white dark:border-gray-700 dark:hover:bg-gray-700 md:dark:hover:bg-transparent">Kontakt</a></li><li><a href=/Racun class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 md:w-auto dark:text-white md:dark:hover:text-blue-500 dark:focus:text-white dark:border-gray-700 dark:hover:bg-gray-700 md:dark:hover:bg-transparent">Račun'),of=oe('<div class="bg-gray-800 text-gray-100 min-h-screen"><div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8">'),af=oe('<footer footer class="bg-white dark:bg-gray-900"><div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8"><div class="md:flex md:justify-between"><div class="mb-6 md:mb-0"><a href=https://flowbite.com/ class="flex items-center"><img class="h-8 me-3"alt="FlowBite Logo"><span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">Plane Spotter</span></a></div><div class="grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3"><div><h2 class="mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white">Izvori</h2><ul class="text-gray-500 dark:text-gray-400 font-medium"><li class=mb-4><a href=https://flowbite.com/ class=hover:underline>Flowbite</a></li><li><a href=https://tailwindcss.com/ class=hover:underline>Tailwind CSS</a></li></ul></div><div><h2 class="mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white">Pratite nas</h2><ul class="text-gray-500 dark:text-gray-400 font-medium"><li class=mb-4><a href=https://github.com/themesberg/flowbite class="hover:underline ">Github</a></li><li><a href=https://discord.gg/4eeurUVvTy class=hover:underline>Discord</a></li></ul></div><div><h2 class="mb-6 text-sm font-semibold text-gray-900 uppercase dark:text-white">Prava</h2><ul class="text-gray-500 dark:text-gray-400 font-medium"><li class=mb-4><a href=# class=hover:underline>Privacy Policy</a></li><li><a href=# class=hover:underline>Terms &amp; Conditions</a></li></ul></div></div></div><hr class="my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"><div class="sm:flex sm:items-center sm:justify-between"><span class="text-sm text-gray-500 sm:text-center dark:text-gray-400">© <a href=https://ss-obrtnicka-koprivnica.skole.hr/ class=hover:underline> OBSCK™</a> Sva prada podržana.</span><div class="flex mt-4 sm:justify-center sm:mt-0"><a href=# class="text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5"><svg class="w-4 h-4"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"clip-rule=evenodd></path></svg><span class=sr-only>GitHub account</span></a><a href=# class="text-gray-500 hover:text-gray-900 dark:hover:text-white ms-5"><svg class="w-4 h-4"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 8 19"><path fill-rule=evenodd d="M6.135 3H8V0H6.135a4.147 4.147 0 0 0-4.142 4.142V6H0v3h2v9.938h3V9h2.021l.592-3H5V3.591A.6.6 0 0 1 5.592 3h.543Z"clip-rule=evenodd></path></svg><span class=sr-only>Facebook page'),lf=oe('<div id=dropdownNavbar class="absolute left-0 top-full mt-1 z-10 font-normal bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600"><ul class="py-2 text-sm text-gray-700 dark:text-gray-400"aria-labelledby=dropdownNavbarLink><li><a href=/Program class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Program</a></li><li><a href=/Informacije class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Informacije</a></li><li><a href=/Upute class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Upute');function pt(o){const[i,n]=$(!1),[s,a]=$(!1),[u,h]=$(!1),d=()=>{a(!s()),n(!1)},f=()=>{h(!u())};return[(()=>{var m=sf(),g=m.firstChild,_=g.firstChild,w=_.firstChild,k=_.nextSibling,E=k.nextSibling,x=E.firstChild,C=x.firstChild,A=C.nextSibling,P=A.firstChild;return Be(w,"src",Tn),k.$$click=f,P.$$click=d,W(A,(()=>{var T=le(()=>!!s());return()=>T()&&lf()})(),null),be(()=>qn(E,`md:flex ${u()?"block":"hidden"} w-full md:w-auto`)),m})(),(()=>{var m=of(),g=m.firstChild;return W(g,()=>o.children),m})(),(()=>{var m=af(),g=m.firstChild,_=g.firstChild,w=_.firstChild,k=w.firstChild,E=k.firstChild,x=_.nextSibling,C=x.nextSibling,A=C.firstChild,P=A.firstChild,T=P.nextSibling;return Be(E,"src",Tn),W(A,()=>new Date().getFullYear(),T),m})()]}De(["click"]);var uf=oe('<div class="bg-gray-900 text-gray-100 min-h-screen"><div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8"></div><footer class="bg-gray-900 dark:bg-gray-900"><div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8">');function vn(o){return yt(),(()=>{var i=uf(),n=i.firstChild;return W(n,()=>o.children),i})()}var hf=oe('<div class="flex items-center justify-center h-screen bg-gray-900 text-gray-100"><div class="text-center p-6 bg-gray-800 shadow-lg rounded-lg"><h1 class="text-3xl font-bold text-red-500">404 - Stranica nije pronađena</h1><p class="mt-4 text-gray-300">Ova stranica ne postoji. Provjerite URL ili se vratite na početnu stranicu.</p><button class="mt-6 px-6 py-3 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition duration-300 ease-in-out transform hover:scale-105">Vrati se na početnu');function cf(){const o=()=>{window.location.href="/"};return(()=>{var i=hf(),n=i.firstChild,s=n.firstChild,a=s.nextSibling,u=a.nextSibling;return u.$$click=o,i})()}De(["click"]);var df=oe('<div class="flex items-center justify-center h-screen bg-gray-900 text-gray-100"><div class="text-center p-6 bg-gray-800 shadow-lg rounded-lg"><h1 class="text-3xl font-bold text-red-500">Autentifikacija potrebna</h1><p class="mt-4 text-gray-300">Morate se prijaviti kako biste pristupili ovoj stranici.</p><button class="mt-6 px-6 py-3 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition duration-300 ease-in-out transform hover:scale-105">Prijava');function ff(){const o=Xe(),i=()=>{o("/Prijava")};return(()=>{var n=df(),s=n.firstChild,a=s.firstChild,u=a.nextSibling,h=u.nextSibling;return h.$$click=i,n})()}De(["click"]);var pf=oe('<img class="w-8 h-8 mr-2"alt=logo>'),mf=oe('<section class="bg-gray-50 dark:bg-gray-900"><div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><div class="w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white">Registracija</h1><form class="space-y-4 md:space-y-6"><div><label for=email class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">E-mail</label><input type=email name=email id=email class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"placeholder=name@company.com required></div><div><label for=password class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Lozinka</label><input type=password name=password id=password placeholder=•••••••• class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"required></div><div><label for=confirm-password class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Potvrdite lozinku</label><input type=password name=confirm-password id=confirm-password placeholder=•••••••• class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"required></div><button type=submit class="w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"></button><p class="text-sm font-light text-gray-500 dark:text-gray-400">Već imate račun? '),gf=oe('<div class="text-red-500 text-sm">'),_f=oe('<div class="text-green-500 text-sm">Račun uspješno registriran! Preusmjeravam na prijavu...');function vf(o){const i=Xe(),[n,s]=$({email:"",password:"",confirmPassword:"",error:"",loading:!1,success:!1}),a=async u=>{if(u.preventDefault(),s({...n(),loading:!0,error:"",success:!1}),n().password!==n().confirmPassword){s({...n(),error:"Lozinke se ne poklapaju!",loading:!1});return}try{const{user:h,error:d}=await Fe.auth.signUp({email:n().email,password:n().password});d?s({...n(),error:`Greška prilikom registracije: ${d.message}`,loading:!1}):(s({...n(),success:!0,loading:!1}),console.log("Korisnik uspješno registriran:",h),i("/prijava"))}catch{s({...n(),error:"Došlo je do pogreške pri registraciji.",loading:!1})}};return(()=>{var u=mf(),h=u.firstChild,d=h.firstChild,f=d.firstChild,m=f.firstChild,g=m.nextSibling,_=g.firstChild,w=_.firstChild,k=w.nextSibling,E=_.nextSibling,x=E.firstChild,C=x.nextSibling,A=E.nextSibling,P=A.firstChild,T=P.nextSibling,q=A.nextSibling,j=q.nextSibling;return j.firstChild,W(h,z(Mr,{href:"/",className:"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white",get children(){return[(()=>{var I=pf();return Be(I,"src",Tn),I})(),"Plane Spotter"]}}),d),g.addEventListener("submit",a),k.$$input=I=>s({...n(),email:I.target.value}),C.$$input=I=>s({...n(),password:I.target.value}),T.$$input=I=>s({...n(),confirmPassword:I.target.value}),W(g,(()=>{var I=le(()=>!!n().error);return()=>I()&&(()=>{var Q=gf();return W(Q,()=>n().error),Q})()})(),q),W(g,(()=>{var I=le(()=>!!n().success);return()=>I()&&_f()})(),q),W(q,()=>n().loading?"Registracija...":"Registracija"),W(j,z(Mr,{href:"/prijava",className:"font-medium text-primary-600 hover:underline dark:text-primary-500",children:"Prijavite se ovdje."}),null),be(()=>q.disabled=n().loading),be(()=>k.value=n().email),be(()=>C.value=n().password),be(()=>T.value=n().confirmPassword),u})()}De(["input"]);var yf=oe('<section class="bg-gray-50 dark:bg-gray-900"><div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href=# class="flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white"><img class="w-8 h-8 mr-2"alt=logo>Plane Spotter</a><div class="w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white">Prijava</h1><form class="space-y-4 md:space-y-6"><div><label for=email class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">E-mail</label><input type=email name=email id=email class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"placeholder=name@company.com required></div><div><label for=password class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Lozinka</label><input type=password name=password id=password placeholder=•••••••• class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"required></div><div class="flex items-center justify-between"><div class="flex items-start"><div class="flex items-center h-5"><input id=remember aria-describedby=remember type=checkbox class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800"></div><div class="ml-3 text-sm"><label for=remember class=" text-gray-500 dark:text-gray-300">Zapamti podatke</label></div></div><a href=# class="text-sm font-medium text-primary-600 hover:underline dark:text-primary-500">Zaboravljena lozinka?</a></div><button type=submit class="w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"></button><p class="text-sm font-light text-gray-500 dark:text-gray-400">Nemate račun? <a href=/ class="font-medium text-primary-600 hover:underline dark:text-primary-500">Registracija'),wf=oe('<div class="text-red-500 text-sm">');function bf(o){const[i,n]=$(""),[s,a]=$(""),[u,h]=$(""),[d,f]=$(!1),[m,g]=$(!1),_=Xe(),w=async k=>{k.preventDefault(),f(!0),h("");try{const{error:E}=await Fe.auth.signInWithPassword({email:i(),password:s()});E?(h("Neispravni podaci za prijavu."),console.log(E.message)):_("/pocetna")}catch(E){h("Došlo je do pogreške pri prijavi."),console.error(E)}finally{f(!1)}};return(()=>{var k=yf(),E=k.firstChild,x=E.firstChild,C=x.firstChild,A=x.nextSibling,P=A.firstChild,T=P.firstChild,q=T.nextSibling,j=q.firstChild,I=j.firstChild,Q=I.nextSibling,N=j.nextSibling,U=N.firstChild,Y=U.nextSibling,re=N.nextSibling,pe=re.firstChild,We=pe.firstChild,Z=We.firstChild,X=re.nextSibling;return Be(C,"src",Tn),q.addEventListener("submit",w),Q.$$input=G=>n(G.target.value),Y.$$input=G=>a(G.target.value),Z.addEventListener("change",G=>g(G.target.checked)),W(q,(()=>{var G=le(()=>!!u());return()=>G()&&(()=>{var _e=wf();return W(_e,u),_e})()})(),X),W(X,()=>d()?"Prijava...":"Prijava"),be(()=>X.disabled=d()),be(()=>Q.value=i()),be(()=>Y.value=s()),be(()=>Z.checked=m()),k})()}De(["input"]);var xf=oe('<div class="min-h-screen bg-gradient-to-r from-blue-600 via-blue-500 to-blue-400 flex flex-col justify-center items-center text-white"><div class="text-center p-6"><h1 class="font-mono text-5xl font-bold mb-4">Dobrodošli na Planespotter</h1><p class="text-lg mb-8">Ova aplikacija omogućava skeniranje neba i praćenje aviona u stvarnom vremenu. Saznajte više o letovima u vašem području!');function kf(){const o=yt(),i=Xe();return lt(()=>{o()===null&&i("/AuthError")}),xf()}var Af=oe('<div class="mt-5 flex flex-column sm:flex-row flex-wrap space-y-4 sm:space-y-0 items-center justify-between pb-4"><div><button id=dropdownRadioButton data-dropdown-toggle=dropdownRadio class="inline-flex items-center text-gray-500 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-3 py-1.5 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"type=button><svg class="w-3 h-3 text-gray-500 dark:text-gray-400 me-3"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm3.982 13.982a1 1 0 0 1-1.414 0l-3.274-3.274A1.012 1.012 0 0 1 9 10V6a1 1 0 0 1 2 0v3.586l2.982 2.982a1 1 0 0 1 0 1.414Z"></path></svg>Last 30 days<svg class="w-2.5 h-2.5 ms-2.5"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 10 6"><path stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m1 1 4 4 4-4"></path></svg></button><div id=dropdownRadio class="z-10 hidden w-48 bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600"data-popper-reference-hidden=""data-popper-escaped=""data-popper-placement=top style="position:absolute;inset:auto auto 0px 0px;margin:0px;transform:translate3d(522.5px, 3847.5px, 0px);"><ul class="p-3 space-y-1 text-sm text-gray-700 dark:text-gray-200"aria-labelledby=dropdownRadioButton><li><div class="flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600"><input id=filter-radio-example-1 type=radio value=""name=filter-radio class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for=filter-radio-example-1 class="w-full ms-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300">Last day</label></div></li><li><div class="flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600"><input checked=""id=filter-radio-example-2 type=radio value=""name=filter-radio class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for=filter-radio-example-2 class="w-full ms-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300">Last 7 days</label></div></li><li><div class="flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600"><input id=filter-radio-example-3 type=radio value=""name=filter-radio class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for=filter-radio-example-3 class="w-full ms-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300">Last 30 days</label></div></li><li><div class="flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600"><input id=filter-radio-example-4 type=radio value=""name=filter-radio class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for=filter-radio-example-4 class="w-full ms-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300">Last month</label></div></li><li><div class="flex items-center p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-600"><input id=filter-radio-example-5 type=radio value=""name=filter-radio class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for=filter-radio-example-5 class="w-full ms-2 text-sm font-medium text-gray-900 rounded dark:text-gray-300">Last year</label></div></li></ul></div></div><label for=table-search class=sr-only>Search</label><div class=relative><div class="absolute inset-y-0 left-0 rtl:inset-r-0 rtl:right-0 flex items-center ps-3 pointer-events-none"><svg class="w-5 h-5 text-gray-500 dark:text-gray-400"aria-hidden=true fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"clip-rule=evenodd></path></svg></div><input type=text id=table-search class="block p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"placeholder="Search for items">'),Pf=oe('<div class="relative overflow-x-auto shadow-md sm:rounded-lg mt-5 border-2 border-gray-200 dark:border-gray-600"><table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"><caption class="p-5 text-lg font-semibold text-left rtl:text-right text-gray-900 bg-white dark:text-white dark:bg-gray-800">Prikaz pronađenih zrakoplova<p class="mt-1 text-sm font-normal text-gray-500 dark:text-gray-400">Ovdje možete detaljnije pregledati informacije o zrakoplovima koje ste pronašli.</p></caption><thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"><tr><th scope=col class="px-6 py-3">ID</th><th scope=col class="px-6 py-3">Model</th><th scope=col class="px-6 py-3">Vrijeme</th><th scope=col class="px-6 py-3">Latituda</th><th scope=col class="px-6 py-3">Longituda</th><th scope=col class="px-6 py-3">Altituda (m)</th><th scope=col class="px-6 py-3">Brzina (km/h)</th><th scope=col class="px-6 py-3">Više informacija</th></tr></thead><tbody>'),Tf=oe('<tr><td colspan=7 class="text-center py-4">Trenutno nema aviona'),Sf=oe('<tr class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"><td class="px-6 py-4 font-medium text-gray-900 dark:text-white"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4">'),Lf=oe('<td class="px-6 py-4"><button class="bg-yellow-600 text-white font-semibold py-2 px-4 w-full rounded-lg shadow-md hover:bg-yellow-500 transition duration-200">Prouči');function Cf(o){const i=yt(),n=Xe();lt(()=>{i()===null&&n("/AuthError")});const[s,a]=$(window.innerWidth<1024);lt(()=>{const h=()=>a(window.innerWidth<1024);return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)});const[u]=Dl(tf);return[le(()=>le(()=>!!s())()&&z(Yd,{})),Af(),(()=>{var h=Pf(),d=h.firstChild,f=d.firstChild,m=f.nextSibling,g=m.nextSibling;return W(g,z(eu,{get each(){return u()},get fallback(){return Tf()},children:_=>(()=>{var w=Sf(),k=w.firstChild,E=k.nextSibling,x=E.nextSibling,C=x.nextSibling,A=C.nextSibling,P=A.nextSibling,T=P.nextSibling;return W(k,()=>_.id),W(E,()=>_.model),W(x,()=>Vd(_.time)),W(C,()=>_.latitude),W(A,()=>_.longitude),W(P,()=>_.altitude),W(T,()=>_.speed),W(w,(()=>{var q=Lf(),j=q.firstChild;return j.$$click=()=>fetchFlightInfo(_.model),q})(),null),w})()})),h})(),z(Mr,{class:"pt-10 mt-10 font-semibold text-xl",href:"/mojHangar",children:"Kako bi vidjeli sve pronađene zrakoplove, posjetite Moj Hangar!"})]}De(["click"]);var Ef=oe('<div class=p-8><h1 class="font-mono text-4xl mb-6">INFORMACIJE O APLIKACIJI</h1><div class=space-y-6><div><p>Ova aplikacija koristi <a href=https://www.flightradar24.com/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">Flightradar24 API</a> za skeniranje neba i prikazivanje informacija o avionima u stvarnom vremenu. Korištenjem najnovijih podataka o letovima, omogućuje korisnicima praćenje avionskih ruta, visine, brzine i ostalih važnih parametara. Aplikacija omogućuje jednostavno pretraživanje i filtriranje letova na temelju različitih kriterija.</p></div><div><p><a href=https://solidjs.com/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">SolidJS</a> je korišten za optimalne performanse aplikacije, dok su za dizajn korišteni <a href=https://tailwindcss.com/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">TailwindCSS</a> i <a href=https://flowbite.com/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">Flowbite</a>, što omogućava moderni izgled i jednostavno korisničko iskustvo.</p></div><div><p class="text-lg text-gray-700 dark:text-gray-300">Flightradar24 je jedan od najpoznatijih globalnih servisa za praćenje letova, a kroz našu aplikaciju, korisnici mogu uživati u brzom pristupu podacima o avionima koji lete u njihovoj blizini. Informacije o svakom letu uključuju podatke o tipu aviona, visini, poziciji, brzini leta i drugim detaljima.</p></div><div><p class="text-lg text-gray-700 dark:text-gray-300">Aplikacija je dizajnirana uz pomoć SolidJS-a za optimalne performanse, dok su za dizajn korišteni TailwindCSS i Flowbite, što omogućava moderni izgled i jednostavno korisničko iskustvo.');function qf(o){const i=yt(),n=Xe();return lt(()=>{i()===null&&n("/AuthError")}),Ef()}const Of="/ZavrsniV2/assets/logo-ChWoxeul.png";var jf=oe('<div class=p-8><h1 class="font-mono text-4xl mb-6">O NAMA</h1><div class=space-y-6><div class="flex justify-center mb-10"><a href=https://ss-obrtnicka-koprivnica.skole.hr/><img alt=Logo class="w-40 h-auto rounded-full shadow-md transform hover:scale-110 transition-transform duration-300"></a></div><div><h2 class="text-xl font-semibold">Škola</h2><p>Obrtnička škola Koprivnica</p></div><div><h2 class="text-xl font-semibold">Mentor</h2><p>Tomislav Jakupić</p></div><div><h2 class="text-xl font-semibold">Učenici</h2><p class="text-lg text-gray-700 dark:text-gray-300">Valentin Funtak <br>Noa Golubić</p></div><div><p class="text-lg text-gray-700 dark:text-gray-300">');function Mf(o){const i=yt(),n=Xe();lt(()=>{i()===null&&n("/AuthError")});const s=()=>{const{error:a}=Fe.auth.signOut();n("/Prijava"),a&&alert("Nažalost Vas nemožemo odjaviti:",a)};return(()=>{var a=jf(),u=a.firstChild,h=u.nextSibling,d=h.firstChild,f=d.firstChild,m=f.firstChild;return f.$$click=s,Be(m,"src",Of),a})()}De(["click"]);var $f=oe('<div class=p-8><h1 class="font-mono text-4xl mb-6">KONTAKT</h1><div class=space-y-6><div><h2 class="text-xl font-semibold">Obrtnička škola Koprivnica</h2><p>Posjetite <a href=https://ss-obrtnicka-koprivnica.skole.hr/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">službenu stranicu škole</a> za više informacija.</p></div><div><h2 class="text-xl font-semibold">GitHub računi</h2><ul class=space-y-2><li class="flex items-center"><a href=https://github.com/valentinfuntak class="text-gray-500 hover:text-gray-900 dark:hover:text-white flex items-center"target=_blank rel="noopener noreferrer"><svg class="w-4 h-4 mr-2"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"clip-rule=evenodd></path></svg>Valentin Funtak</a></li><li class="flex items-center"><a href=https://github.com/NoaGolubic class="text-gray-500 hover:text-gray-900 dark:hover:text-white flex items-center"target=_blank rel="noopener noreferrer"><svg class="w-4 h-4 mr-2"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"clip-rule=evenodd></path></svg>Noa Golubić</a></li></ul></div><div><h2 class="text-xl font-semibold">Repozitorij završnog rada</h2><ul class=space-y-2><li class="flex items-center"><a href=https://github.com/valentinfuntak/ZavrsniV2 class="text-gray-500 hover:text-gray-900 dark:hover:text-white flex items-center"target=_blank rel="noopener noreferrer"><svg class="w-4 h-4 mr-2"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"clip-rule=evenodd></path></svg>Završni rad</a></li></ul></div><div><h2 class="text-xl font-semibold">Kontakt e-mail</h2><ul class=space-y-2><li>Valentin Funtak: <a href=mailto:valentinfuntakk@gmail.com class="text-blue-500 hover:underline">valentinfuntakk@gmail.com</a></li><li>Noa Golubić: <a href=mailto:noagolubic030606@gmail.com class="text-blue-500 hover:underline">noagolubic030606@gmail.com');function If(o){const i=yt(),n=Xe();lt(()=>{i()===null&&n("/AuthError")});const s=()=>{const{error:a}=Fe.auth.signOut();n("/Prijava"),a&&alert("Nažalost Vas nemožemo odjaviti:",a)};return(()=>{var a=$f(),u=a.firstChild,h=u.nextSibling,d=h.firstChild,f=d.firstChild,m=f.nextSibling,g=m.firstChild,_=g.nextSibling,w=d.nextSibling,k=w.firstChild,E=k.nextSibling,x=E.firstChild,C=x.firstChild,A=x.nextSibling,P=A.firstChild,T=w.nextSibling,q=T.firstChild,j=q.nextSibling,I=j.firstChild,Q=I.firstChild;return _.$$click=s,C.$$click=s,P.$$click=s,Q.$$click=s,a})()}De(["click"]);var Rf=oe('<div class="max-w-screen-lg mx-auto p-6 bg-white shadow-md rounded-lg"><div class="flex flex-col sm:flex-row justify-between items-start space-y-6 sm:space-y-0 sm:space-x-4 mb-0"><div class=flex-1><h1 class="font-sans text-3xl sm:text-4xl mb-3 text-blue-600">Račun</h1><p class="text-lg font-semibold text-gray-700">Korisnik: </p></div></div><div class=" top-16 left-0 right-0 flex justify-start w-full"><div class="space-y-2 w-full">'),zf=oe('<p class="text-lg mt-2 text-gray-700"><strong>Email:</strong> '),Bf=oe('<div class="flex flex-col items-start sm:items-end space-y-4 sm:space-y-4"><button class="w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition">Promjeni email</button><button class="w-full bg-yellow-600 text-white py-2 px-4 rounded hover:bg-yellow-700 transition">Promjeni lozinku</button><button class="w-full bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 transition">Odjava'),Df=oe('<div class="mt-6 bg-white p-6 shadow-md rounded-lg"><h2 class="font-sans text-xl text-gray-800">Promjena e-maila</h2><div class=mt-4><input type=email class="border-2 border-gray-300 p-2 rounded-md w-full text-black"placeholder="Unesite novu e-mail adresu"><button class="mt-4 w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition">Potvrdi promjenu emaila'),Nf=oe('<div><div class="whitespace-normal w-full">');function Zf(o){const i=yt(),n=Xe();lt(()=>{i()===null&&n("/AuthError")});const[s,a]=$(""),[u,h]=$(!1),[d,f]=$(!1),[m,g]=$([]),_=(x,C,A)=>{const P={message:x,type:C};g(T=>[...T,P]),setTimeout(()=>{g(T=>T.filter(q=>q!==P))},A)},w=()=>{const{error:x}=Fe.auth.signOut();n("/Prijava"),x&&alert("Nažalost Vas nemožemo odjaviti:",x)},k=async()=>{const x=i().user?.email;if(x){const{error:C}=await Fe.auth.resetPasswordForEmail(x,{redirectTo:"https://yourapp.com/update-password"});C?_("Greška pri slanju e-maila za resetiranje lozinke: "+C.message,"error",5e3):_("E-mail za resetiranje lozinke poslan!","success",5e3)}},E=async()=>{const x=s();if(x){const{data:C,error:A}=await Fe.auth.updateUser({email:x});A?_("Greška pri promjeni emaila: "+A.message,"error",5e3):(h(!0),_("E-mail uspješno promijenjen. Potvrdite promjenu putem poslanog e-maila!","success",5e3))}};return(()=>{var x=Rf(),C=x.firstChild,A=C.firstChild,P=A.firstChild,T=P.nextSibling;T.firstChild;var q=C.nextSibling,j=q.firstChild;return W(T,()=>i()?"Prijavljen":"Nije prijavljen",null),W(A,(()=>{var I=le(()=>!!i());return()=>I()&&(()=>{var Q=zf(),N=Q.firstChild;return N.nextSibling,W(Q,()=>i().user?.email||"Nema emaila",null),Q})()})(),null),W(C,(()=>{var I=le(()=>!!i());return()=>I()&&(()=>{var Q=Bf(),N=Q.firstChild,U=N.nextSibling,Y=U.nextSibling;return N.$$click=()=>f(!0),U.$$click=k,Y.$$click=w,Q})()})(),null),W(x,(()=>{var I=le(()=>!!d());return()=>I()&&(()=>{var Q=Df(),N=Q.firstChild,U=N.nextSibling,Y=U.firstChild,re=Y.nextSibling;return Y.$$input=pe=>a(pe.target.value),re.$$click=E,be(()=>Y.value=s()),Q})()})(),q),W(j,()=>m().map((I,Q)=>(()=>{var N=Nf(),U=N.firstChild;return Be(N,"key",Q),W(U,()=>I.message),be(()=>qn(N,`p-4 mt-3 rounded ${I.type==="error"?"bg-red-600":I.type==="success"?"bg-green-700":I.type==="info"?"bg-blue-400":""} text-white shadow-md`)),N})())),x})()}De(["click","input"]);var Uf=oe('<div class=p-8><h1 class="font-mono text-4xl mb-12">Upute za korištenje</h1><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Korištenje karte</h2><p class="font-semibold mb-10">Kartu možete koristiti kako bi se mogli što lakše pozicionirali.<br>Karta će uvjek prikazati vaš trenutačni položaj.<br>Karta se može povećati i smanjiti gestikuliranjem.<br>Nakon pritiska na gumb "Skeniraj", na karti će se prikazati svi avioni<br>u okrugu od 30km.<br></p></div><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Alati za orijentaciju</h2><p class="font-semibold mb-10">U kućici pod nazivom "Nagib uređaja" možete vidjeti podatke o svojoj orijentaciji.<br>Ovi podaci mogu Vam biti od koristi prilikom ciljanja zrakoplova.<br>Postoje 3 osi, svaka od kojih ima svoj naziv te se njezin kut mjeri u stupnjevima.<br>Os Alpha mjeri pomak u dubinu, os Beta kružno horizontalno gibanje, a os Gamma vertikalno gibanje.<br>Kut gledanja označuje vaš smjer promatranja s obzirom na magnetski sjever.<br>Kut gledanja također sadrži dodatak, zbroj dodatka i smjera u stupnjevima udaljenost je od stvarnog sjevera.<br></p></div><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Podaci o avionu</h2><p class="font-semibold mb-10">U kućici pod nazivom "Podaci o avionu" možete pronaći podatke o najbližem zrakoplov.<br>Vrijednosti ovih polja popunjavaju se kada korisnik ne pronađe zrakoplov<br>nakon pritiska na gumb "Skeniraj".<br>Ovdje možete pronaći podatke koji će vam pomoći da pronađete najbliži zrakoplov.<br>Podaci uključuju: koordinate zrakoplova, Vašu elevaciju, zračnu udaljenost te pogodbene kuteve.<br>Pogodbeni kutevi "Kut X do aviona" i "Kut Y do aviona" moraju biti identični<br>Vašem smjeru (zajedno sa dodatkom) te kutu Gamma.<br>Tolerancija oba kuta je +/- 5°.<br></p></div><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Tablični prikaz</h2><p class="font-semibold mb-10">U tabličnom prikazu pojavit će se informacije o zadnjih 5 pronađenih zrakoplova.<br>Tabličan prikaz nudi pregled dodatnih činjenica o samom zrakoplovu.<br>Pritiskom na gumb "Prouči" pokrenut ćete AI asistenta koji će Vas<br>dodatno informirati o samom zrakoplovu.<br></p></div><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Česte notifikacije</h2><p class="font-semibold mb-10">1) "Nismo u mogućnosti pronaći Vašu orijentaciju" ili "DeviceOrientation nije podržan":<br>Vaš uređaj nažalost nije u mogućnosti prikupiti orijentaciju.<br>2) "Avion se ne nalazi u traženom zračnom prostoru":<br>Uređaj nije pravilno usmjeren prema zrakoplovu.<br>3) "Greška pri slanju e-maila za resetiranje lozinke":<br>Nažalost nismo u mogućnosti proslijediti e-mail, pokušajte ponovo kasnije.<br></p></div><h2 class="text-xl text-yellow-600 font-semibold mb-5">Želite nam postaviti pitanje?</h2><p class="font-semibold mb-10">Posjetite stranicu "kontakt" i kontaktirajte nas kako bi odgovorili na Vaše pitanje!<br>Kontaktirati nas možete putem naših mail adresa.<br>Unaprijed zahvaljujemo na strpljenju!<br>');function Ff(o){const i=yt(),n=Xe();return lt(()=>{i()===null&&n("/AuthError")}),Uf()}var Wf=oe("<mojHangar>");function Gf(){return z(rf,{get children(){return z(Vu,{get children(){return[z(ze,{path:"/",component:()=>z(vn,{get children(){return z(vf,{})}})}),z(ze,{path:"/*",component:()=>z(vn,{get children(){return z(cf,{})}})}),z(ze,{path:"/AuthError",component:()=>z(vn,{get children(){return z(ff,{})}})}),z(ze,{path:"/Prijava",component:()=>z(vn,{get children(){return z(bf,{})}})}),z(ze,{path:"/Pocetna",component:()=>z(pt,{get children(){return z(kf,{})}})}),z(ze,{path:"/Program",component:()=>z(pt,{get children(){return z(Cf,{})}})}),z(ze,{path:"/Informacije",component:()=>z(pt,{get children(){return z(qf,{})}})}),z(ze,{path:"/Onama",component:()=>z(pt,{get children(){return z(Mf,{})}})}),z(ze,{path:"/Kontakt",component:()=>z(pt,{get children(){return z(If,{})}})}),z(ze,{path:"/Racun",component:()=>z(pt,{get children(){return z(Zf,{})}})}),z(ze,{path:"/Upute",component:()=>z(pt,{get children(){return z(Ff,{})}})}),z(ze,{path:"/mojHangar",component:()=>z(pt,{get children(){return Wf()}})})]}})}})}const Hf=document.getElementById("root");uu(()=>z(Gf,{}),Hf);export{sh as g};
