(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();const Xc=(r,t)=>r===t,rr=Symbol("solid-proxy"),Il=typeof Proxy=="function",eh=Symbol("solid-track"),sr={equals:Xc};let Rl=Fl;const wt=1,or=2,Dl={owned:null,cleanups:null,context:null,owner:null},Ls={};var he=null;let Ts=null,th=null,me=null,Oe=null,bt=null,hr=0;function ni(r,t){const i=me,s=he,a=r.length===0,l=t===void 0?s:t,c=a?Dl:{owned:null,cleanups:null,context:l?l.context:null,owner:l},d=a?r:()=>r(()=>ze(()=>si(c)));he=c,me=null;try{return ut(d,!0)}finally{me=i,he=s}}function F(r,t){t=t?Object.assign({},sr,t):sr;const i={value:r,observers:null,observerSlots:null,comparator:t.equals||void 0},s=a=>(typeof a=="function"&&(a=a(i.value)),Zl(i,a));return[Ul.bind(i),s]}function nh(r,t,i){const s=mr(r,t,!0,wt);An(s)}function ye(r,t,i){const s=mr(r,t,!1,wt);An(s)}function xt(r,t,i){Rl=ch;const s=mr(r,t,!1,wt);s.user=!0,bt?bt.push(s):An(s)}function de(r,t,i){i=i?Object.assign({},sr,i):sr;const s=mr(r,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=i.equals||void 0,An(s),Ul.bind(s)}function ih(r){return r&&typeof r=="object"&&"then"in r}function rh(r,t,i){let s,a,l;typeof t=="function"?(s=r,a=t,l={}):(s=!0,a=r,l=t);let c=null,d=Ls,f=!1,p="initialValue"in l,g=typeof s=="function"&&de(s);const _=new Set,[v,x]=(l.storage||F)(l.initialValue),[T,b]=F(void 0),[w,k]=F(void 0,{equals:!1}),[S,C]=F(p?"ready":"unresolved");function O(z,Z,N,U){return c===z&&(c=null,U!==void 0&&(p=!0),(z===d||Z===d)&&l.onHydrated&&queueMicrotask(()=>l.onHydrated(U,{value:Z})),d=Ls,M(Z,N)),Z}function M(z,Z){ut(()=>{Z===void 0&&x(()=>z),C(Z!==void 0?"errored":p?"ready":"unresolved"),b(Z);for(const N of _.keys())N.decrement();_.clear()},!1)}function j(){const z=ah,Z=v(),N=T();if(N!==void 0&&!c)throw N;return me&&me.user,Z}function I(z=!0){if(z!==!1&&f)return;f=!1;const Z=g?g():s;if(Z==null||Z===!1){O(c,ze(v));return}const N=d!==Ls?d:ze(()=>a(Z,{value:v(),refetching:z}));return ih(N)?(c=N,"value"in N?(N.status==="success"?O(c,N.value,void 0,Z):O(c,void 0,Vs(N.value),Z),N):(f=!0,queueMicrotask(()=>f=!1),ut(()=>{C(p?"refreshing":"pending"),k()},!1),N.then(U=>O(N,U,void 0,Z),U=>O(N,void 0,Vs(U),Z)))):(O(c,N,void 0,Z),N)}return Object.defineProperties(j,{state:{get:()=>S()},error:{get:()=>T()},loading:{get(){const z=S();return z==="pending"||z==="refreshing"}},latest:{get(){if(!p)return j();const z=T();if(z&&!c)throw z;return v()}}}),g?nh(()=>I(!1)):I(!1),[j,{refetch:I,mutate:x}]}function sh(r){return ut(r,!1)}function ze(r){if(me===null)return r();const t=me;me=null;try{return r()}finally{me=t}}function ho(r,t,i){const s=Array.isArray(r);let a,l=i&&i.defer;return c=>{let d;if(s){d=Array(r.length);for(let p=0;p<r.length;p++)d[p]=r[p]()}else d=r();if(l)return l=!1,c;const f=ze(()=>t(d,a,c));return a=d,f}}function zl(r){xt(()=>ze(r))}function dr(r){return he===null||(he.cleanups===null?he.cleanups=[r]:he.cleanups.push(r)),r}function Bl(){return he}function Nl(r,t){const i=he,s=me;he=r,me=null;try{return ut(t,!0)}catch(a){po(a)}finally{he=i,me=s}}function oh(r){const t=me,i=he;return Promise.resolve().then(()=>{me=t,he=i;let s;return ut(r,!1),me=he=null,s?s.done:void 0})}function fo(r,t){const i=Symbol("context");return{id:i,Provider:hh(i),defaultValue:r}}function fr(r){let t;return he&&he.context&&(t=he.context[r.id])!==void 0?t:r.defaultValue}function mo(r){const t=de(r),i=de(()=>Js(t()));return i.toArray=()=>{const s=i();return Array.isArray(s)?s:s!=null?[s]:[]},i}let ah;function Ul(){if(this.sources&&this.state)if(this.state===wt)An(this);else{const r=Oe;Oe=null,ut(()=>lr(this),!1),Oe=r}if(me){const r=this.observers?this.observers.length:0;me.sources?(me.sources.push(this),me.sourceSlots.push(r)):(me.sources=[this],me.sourceSlots=[r]),this.observers?(this.observers.push(me),this.observerSlots.push(me.sources.length-1)):(this.observers=[me],this.observerSlots=[me.sources.length-1])}return this.value}function Zl(r,t,i){let s=r.value;return(!r.comparator||!r.comparator(s,t))&&(r.value=t,r.observers&&r.observers.length&&ut(()=>{for(let a=0;a<r.observers.length;a+=1){const l=r.observers[a],c=Ts&&Ts.running;c&&Ts.disposed.has(l),(c?!l.tState:!l.state)&&(l.pure?Oe.push(l):bt.push(l),l.observers&&Wl(l)),c||(l.state=wt)}if(Oe.length>1e6)throw Oe=[],new Error},!1)),t}function An(r){if(!r.fn)return;si(r);const t=hr;lh(r,r.value,t)}function lh(r,t,i){let s;const a=he,l=me;me=he=r;try{s=r.fn(t)}catch(c){return r.pure&&(r.state=wt,r.owned&&r.owned.forEach(si),r.owned=null),r.updatedAt=i+1,po(c)}finally{me=l,he=a}(!r.updatedAt||r.updatedAt<=i)&&(r.updatedAt!=null&&"observers"in r?Zl(r,s):r.value=s,r.updatedAt=i)}function mr(r,t,i,s=wt,a){const l={fn:r,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:he,context:he?he.context:null,pure:i};return he===null||he!==Dl&&(he.owned?he.owned.push(l):he.owned=[l]),l}function ar(r){if(r.state===0)return;if(r.state===or)return lr(r);if(r.suspense&&ze(r.suspense.inFallback))return r.suspense.effects.push(r);const t=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<hr);)r.state&&t.push(r);for(let i=t.length-1;i>=0;i--)if(r=t[i],r.state===wt)An(r);else if(r.state===or){const s=Oe;Oe=null,ut(()=>lr(r,t[0]),!1),Oe=s}}function ut(r,t){if(Oe)return r();let i=!1;t||(Oe=[]),bt?i=!0:bt=[],hr++;try{const s=r();return uh(i),s}catch(s){i||(bt=null),Oe=null,po(s)}}function uh(r){if(Oe&&(Fl(Oe),Oe=null),r)return;const t=bt;bt=null,t.length&&ut(()=>Rl(t),!1)}function Fl(r){for(let t=0;t<r.length;t++)ar(r[t])}function ch(r){let t,i=0;for(t=0;t<r.length;t++){const s=r[t];s.user?r[i++]=s:ar(s)}for(t=0;t<i;t++)ar(r[t])}function lr(r,t){r.state=0;for(let i=0;i<r.sources.length;i+=1){const s=r.sources[i];if(s.sources){const a=s.state;a===wt?s!==t&&(!s.updatedAt||s.updatedAt<hr)&&ar(s):a===or&&lr(s,t)}}}function Wl(r){for(let t=0;t<r.observers.length;t+=1){const i=r.observers[t];i.state||(i.state=or,i.pure?Oe.push(i):bt.push(i),i.observers&&Wl(i))}}function si(r){let t;if(r.sources)for(;r.sources.length;){const i=r.sources.pop(),s=r.sourceSlots.pop(),a=i.observers;if(a&&a.length){const l=a.pop(),c=i.observerSlots.pop();s<a.length&&(l.sourceSlots[c]=s,a[s]=l,i.observerSlots[s]=c)}}if(r.tOwned){for(t=r.tOwned.length-1;t>=0;t--)si(r.tOwned[t]);delete r.tOwned}if(r.owned){for(t=r.owned.length-1;t>=0;t--)si(r.owned[t]);r.owned=null}if(r.cleanups){for(t=r.cleanups.length-1;t>=0;t--)r.cleanups[t]();r.cleanups=null}r.state=0}function Vs(r){return r instanceof Error?r:new Error(typeof r=="string"?r:"Unknown error",{cause:r})}function po(r,t=he){throw Vs(r)}function Js(r){if(typeof r=="function"&&!r.length)return Js(r());if(Array.isArray(r)){const t=[];for(let i=0;i<r.length;i++){const s=Js(r[i]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return r}function hh(r,t){return function(s){let a;return ye(()=>a=ze(()=>(he.context={...he.context,[r]:s.value},mo(()=>s.children))),void 0),a}}const dh=Symbol("fallback");function La(r){for(let t=0;t<r.length;t++)r[t]()}function fh(r,t,i={}){let s=[],a=[],l=[],c=0,d=t.length>1?[]:null;return dr(()=>La(l)),()=>{let f=r()||[],p=f.length,g,_;return f[eh],ze(()=>{let x,T,b,w,k,S,C,O,M;if(p===0)c!==0&&(La(l),l=[],s=[],a=[],c=0,d&&(d=[])),i.fallback&&(s=[dh],a[0]=ni(j=>(l[0]=j,i.fallback())),c=1);else if(c===0){for(a=new Array(p),_=0;_<p;_++)s[_]=f[_],a[_]=ni(v);c=p}else{for(b=new Array(p),w=new Array(p),d&&(k=new Array(p)),S=0,C=Math.min(c,p);S<C&&s[S]===f[S];S++);for(C=c-1,O=p-1;C>=S&&O>=S&&s[C]===f[O];C--,O--)b[O]=a[C],w[O]=l[C],d&&(k[O]=d[C]);for(x=new Map,T=new Array(O+1),_=O;_>=S;_--)M=f[_],g=x.get(M),T[_]=g===void 0?-1:g,x.set(M,_);for(g=S;g<=C;g++)M=s[g],_=x.get(M),_!==void 0&&_!==-1?(b[_]=a[g],w[_]=l[g],d&&(k[_]=d[g]),_=T[_],x.set(M,_)):l[g]();for(_=S;_<p;_++)_ in b?(a[_]=b[_],l[_]=w[_],d&&(d[_]=k[_],d[_](_))):a[_]=ni(v);a=a.slice(0,c=p),s=f.slice(0)}return a});function v(x){if(l[_]=x,d){const[T,b]=F(_);return d[_]=b,t(f[_],T)}return t(f[_])}}}function D(r,t){return ze(()=>r(t||{}))}function Zi(){return!0}const Ys={get(r,t,i){return t===rr?i:r.get(t)},has(r,t){return t===rr?!0:r.has(t)},set:Zi,deleteProperty:Zi,getOwnPropertyDescriptor(r,t){return{configurable:!0,enumerable:!0,get(){return r.get(t)},set:Zi,deleteProperty:Zi}},ownKeys(r){return r.keys()}};function Cs(r){return(r=typeof r=="function"?r():r)?r:{}}function mh(){for(let r=0,t=this.length;r<t;++r){const i=this[r]();if(i!==void 0)return i}}function Qs(...r){let t=!1;for(let c=0;c<r.length;c++){const d=r[c];t=t||!!d&&rr in d,r[c]=typeof d=="function"?(t=!0,de(d)):d}if(Il&&t)return new Proxy({get(c){for(let d=r.length-1;d>=0;d--){const f=Cs(r[d])[c];if(f!==void 0)return f}},has(c){for(let d=r.length-1;d>=0;d--)if(c in Cs(r[d]))return!0;return!1},keys(){const c=[];for(let d=0;d<r.length;d++)c.push(...Object.keys(Cs(r[d])));return[...new Set(c)]}},Ys);const i={},s=Object.create(null);for(let c=r.length-1;c>=0;c--){const d=r[c];if(!d)continue;const f=Object.getOwnPropertyNames(d);for(let p=f.length-1;p>=0;p--){const g=f[p];if(g==="__proto__"||g==="constructor")continue;const _=Object.getOwnPropertyDescriptor(d,g);if(!s[g])s[g]=_.get?{enumerable:!0,configurable:!0,get:mh.bind(i[g]=[_.get.bind(d)])}:_.value!==void 0?_:void 0;else{const v=i[g];v&&(_.get?v.push(_.get.bind(d)):_.value!==void 0&&v.push(()=>_.value))}}}const a={},l=Object.keys(s);for(let c=l.length-1;c>=0;c--){const d=l[c],f=s[d];f&&f.get?Object.defineProperty(a,d,f):a[d]=f?f.value:void 0}return a}function ph(r,...t){if(Il&&rr in r){const a=new Set(t.length>1?t.flat():t[0]),l=t.map(c=>new Proxy({get(d){return c.includes(d)?r[d]:void 0},has(d){return c.includes(d)&&d in r},keys(){return c.filter(d=>d in r)}},Ys));return l.push(new Proxy({get(c){return a.has(c)?void 0:r[c]},has(c){return a.has(c)?!1:c in r},keys(){return Object.keys(r).filter(c=>!a.has(c))}},Ys)),l}const i={},s=t.map(()=>({}));for(const a of Object.getOwnPropertyNames(r)){const l=Object.getOwnPropertyDescriptor(r,a),c=!l.get&&!l.set&&l.enumerable&&l.writable&&l.configurable;let d=!1,f=0;for(const p of t)p.includes(a)&&(d=!0,c?s[f][a]=l.value:Object.defineProperty(s[f],a,l)),++f;d||(c?i[a]=l.value:Object.defineProperty(i,a,l))}return[...s,i]}const gh=r=>`Stale read from <${r}>.`;function go(r){const t="fallback"in r&&{fallback:()=>r.fallback};return de(fh(()=>r.each,r.children,t||void 0))}function Re(r){const t=r.keyed,i=de(()=>r.when,void 0,{equals:(s,a)=>t?s===a:!s==!a});return de(()=>{const s=i();if(s){const a=r.children;return typeof a=="function"&&a.length>0?ze(()=>a(t?s:()=>{if(!ze(i))throw gh("Show");return r.when})):a}return r.fallback},void 0,void 0)}const _h=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],vh=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",..._h]),yh=new Set(["innerHTML","textContent","innerText","children"]),bh=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),wh=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function xh(r,t){const i=wh[r];return typeof i=="object"?i[t]?i.$:void 0:i}const Ah=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]);function Ph(r,t,i){let s=i.length,a=t.length,l=s,c=0,d=0,f=t[a-1].nextSibling,p=null;for(;c<a||d<l;){if(t[c]===i[d]){c++,d++;continue}for(;t[a-1]===i[l-1];)a--,l--;if(a===c){const g=l<s?d?i[d-1].nextSibling:i[l-d]:f;for(;d<l;)r.insertBefore(i[d++],g)}else if(l===d)for(;c<a;)(!p||!p.has(t[c]))&&t[c].remove(),c++;else if(t[c]===i[l-1]&&i[d]===t[a-1]){const g=t[--a].nextSibling;r.insertBefore(i[d++],t[c++].nextSibling),r.insertBefore(i[--l],g),t[a]=i[l]}else{if(!p){p=new Map;let _=d;for(;_<l;)p.set(i[_],_++)}const g=p.get(t[c]);if(g!=null)if(d<g&&g<l){let _=c,v=1,x;for(;++_<a&&_<l&&!((x=p.get(t[_]))==null||x!==g+v);)v++;if(v>g-d){const T=t[c];for(;d<g;)r.insertBefore(i[d++],T)}else r.replaceChild(i[d++],t[c++])}else c++;else t[c++].remove()}}}const Ta="_$DX_DELEGATE";function kh(r,t,i,s={}){let a;return ni(l=>{a=l,t===document?r():E(t,r(),t.firstChild?null:void 0,i)},s.owner),()=>{a(),t.textContent=""}}function Y(r,t,i){let s;const a=()=>{const c=document.createElement("template");return c.innerHTML=r,c.content.firstChild},l=()=>(s||(s=a())).cloneNode(!0);return l.cloneNode=l,l}function Be(r,t=window.document){const i=t[Ta]||(t[Ta]=new Set);for(let s=0,a=r.length;s<a;s++){const l=r[s];i.has(l)||(i.add(l),t.addEventListener(l,qh))}}function $e(r,t,i){i==null?r.removeAttribute(t):r.setAttribute(t,i)}function Sh(r,t,i){i?r.setAttribute(t,""):r.removeAttribute(t)}function pr(r,t){t==null?r.removeAttribute("class"):r.className=t}function Lh(r,t,i,s){if(s)Array.isArray(i)?(r[`$$${t}`]=i[0],r[`$$${t}Data`]=i[1]):r[`$$${t}`]=i;else if(Array.isArray(i)){const a=i[0];r.addEventListener(t,i[0]=l=>a.call(r,i[1],l))}else r.addEventListener(t,i,typeof i!="function"&&i)}function Th(r,t,i={}){const s=Object.keys(t||{}),a=Object.keys(i);let l,c;for(l=0,c=a.length;l<c;l++){const d=a[l];!d||d==="undefined"||t[d]||(Ca(r,d,!1),delete i[d])}for(l=0,c=s.length;l<c;l++){const d=s[l],f=!!t[d];!d||d==="undefined"||i[d]===f||!f||(Ca(r,d,!0),i[d]=f)}return i}function Ch(r,t,i){if(!t)return i?$e(r,"style"):t;const s=r.style;if(typeof t=="string")return s.cssText=t;typeof i=="string"&&(s.cssText=i=void 0),i||(i={}),t||(t={});let a,l;for(l in i)t[l]==null&&s.removeProperty(l),delete i[l];for(l in t)a=t[l],a!==i[l]&&(s.setProperty(l,a),i[l]=a);return i}function $h(r,t={},i,s){const a={};return ye(()=>a.children=oi(r,t.children,a.children)),ye(()=>typeof t.ref=="function"&&Oh(t.ref,r)),ye(()=>Eh(r,t,i,!0,a,!0)),a}function Oh(r,t,i){return ze(()=>r(t,i))}function E(r,t,i,s){if(i!==void 0&&!s&&(s=[]),typeof t!="function")return oi(r,t,s,i);ye(a=>oi(r,t(),a,i),s)}function Eh(r,t,i,s,a={},l=!1){t||(t={});for(const c in a)if(!(c in t)){if(c==="children")continue;a[c]=$a(r,c,null,a[c],i,l,t)}for(const c in t){if(c==="children")continue;const d=t[c];a[c]=$a(r,c,d,a[c],i,l,t)}}function Mh(r){return r.toLowerCase().replace(/-([a-z])/g,(t,i)=>i.toUpperCase())}function Ca(r,t,i){const s=t.trim().split(/\s+/);for(let a=0,l=s.length;a<l;a++)r.classList.toggle(s[a],i)}function $a(r,t,i,s,a,l,c){let d,f,p,g,_;if(t==="style")return Ch(r,i,s);if(t==="classList")return Th(r,i,s);if(i===s)return s;if(t==="ref")l||i(r);else if(t.slice(0,3)==="on:"){const v=t.slice(3);s&&r.removeEventListener(v,s,typeof s!="function"&&s),i&&r.addEventListener(v,i,typeof i!="function"&&i)}else if(t.slice(0,10)==="oncapture:"){const v=t.slice(10);s&&r.removeEventListener(v,s,!0),i&&r.addEventListener(v,i,!0)}else if(t.slice(0,2)==="on"){const v=t.slice(2).toLowerCase(),x=Ah.has(v);if(!x&&s){const T=Array.isArray(s)?s[0]:s;r.removeEventListener(v,T)}(x||i)&&(Lh(r,v,i,x),x&&Be([v]))}else t.slice(0,5)==="attr:"?$e(r,t.slice(5),i):t.slice(0,5)==="bool:"?Sh(r,t.slice(5),i):(_=t.slice(0,5)==="prop:")||(p=yh.has(t))||(g=xh(t,r.tagName))||(f=vh.has(t))||(d=r.nodeName.includes("-")||"is"in c)?(_&&(t=t.slice(5),f=!0),t==="class"||t==="className"?pr(r,i):d&&!f&&!p?r[Mh(t)]=i:r[g||t]=i):$e(r,bh[t]||t,i);return i}function qh(r){let t=r.target;const i=`$$${r.type}`,s=r.target,a=r.currentTarget,l=f=>Object.defineProperty(r,"target",{configurable:!0,value:f}),c=()=>{const f=t[i];if(f&&!t.disabled){const p=t[`${i}Data`];if(p!==void 0?f.call(t,p,r):f.call(t,r),r.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(r.target)&&l(t.host),!0},d=()=>{for(;c()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(r,"currentTarget",{configurable:!0,get(){return t||document}}),r.composedPath){const f=r.composedPath();l(f[0]);for(let p=0;p<f.length-2&&(t=f[p],!!c());p++){if(t._$host){t=t._$host,d();break}if(t.parentNode===a)break}}else d();l(s)}function oi(r,t,i,s,a){for(;typeof i=="function";)i=i();if(t===i)return i;const l=typeof t,c=s!==void 0;if(r=c&&i[0]&&i[0].parentNode||r,l==="string"||l==="number"){if(l==="number"&&(t=t.toString(),t===i))return i;if(c){let d=i[0];d&&d.nodeType===3?d.data!==t&&(d.data=t):d=document.createTextNode(t),i=hn(r,i,s,d)}else i!==""&&typeof i=="string"?i=r.firstChild.data=t:i=r.textContent=t}else if(t==null||l==="boolean")i=hn(r,i,s);else{if(l==="function")return ye(()=>{let d=t();for(;typeof d=="function";)d=d();i=oi(r,d,i,s)}),()=>i;if(Array.isArray(t)){const d=[],f=i&&Array.isArray(i);if(Xs(d,t,i,a))return ye(()=>i=oi(r,d,i,s,!0)),()=>i;if(d.length===0){if(i=hn(r,i,s),c)return i}else f?i.length===0?Oa(r,d,s):Ph(r,i,d):(i&&hn(r),Oa(r,d));i=d}else if(t.nodeType){if(Array.isArray(i)){if(c)return i=hn(r,i,s,t);hn(r,i,null,t)}else i==null||i===""||!r.firstChild?r.appendChild(t):r.replaceChild(t,r.firstChild);i=t}}return i}function Xs(r,t,i,s){let a=!1;for(let l=0,c=t.length;l<c;l++){let d=t[l],f=i&&i[r.length],p;if(!(d==null||d===!0||d===!1))if((p=typeof d)=="object"&&d.nodeType)r.push(d);else if(Array.isArray(d))a=Xs(r,d,f)||a;else if(p==="function")if(s){for(;typeof d=="function";)d=d();a=Xs(r,Array.isArray(d)?d:[d],Array.isArray(f)?f:[f])||a}else r.push(d),a=!0;else{const g=String(d);f&&f.nodeType===3&&f.data===g?r.push(f):r.push(document.createTextNode(g))}}return a}function Oa(r,t,i=null){for(let s=0,a=t.length;s<a;s++)r.insertBefore(t[s],i)}function hn(r,t,i,s){if(i===void 0)return r.textContent="";const a=s||document.createTextNode("");if(t.length){let l=!1;for(let c=t.length-1;c>=0;c--){const d=t[c];if(a!==d){const f=d.parentNode===r;!l&&!c?f?r.replaceChild(a,d):r.insertBefore(a,i):f&&d.remove()}else l=!0}}else r.insertBefore(a,i);return[a]}const jh=!1;function Hl(){let r=new Set;function t(a){return r.add(a),()=>r.delete(a)}let i=!1;function s(a,l){if(i)return!(i=!1);const c={to:a,options:l,defaultPrevented:!1,preventDefault:()=>c.defaultPrevented=!0};for(const d of r)d.listener({...c,from:d.location,retry:f=>{f&&(i=!0),d.navigate(a,{...l,resolve:!1})}});return!c.defaultPrevented}return{subscribe:t,confirm:s}}let eo;function _o(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),eo=window.history.state._depth}_o();function Ih(r){return{...r,_depth:window.history.state&&window.history.state._depth}}function Rh(r,t){let i=!1;return()=>{const s=eo;_o();const a=s==null?null:eo-s;if(i){i=!1;return}a&&t(a)?(i=!0,window.history.go(-a)):r()}}const Dh=/^(?:[a-z0-9]+:)?\/\//i,zh=/^\/+|(\/)\/+$/g,Gl="http://sr";function Ht(r,t=!1){const i=r.replace(zh,"$1");return i?t||/^[?#]/.test(i)?i:"/"+i:""}function nr(r,t,i){if(Dh.test(t))return;const s=Ht(r),a=i&&Ht(i);let l="";return!a||t.startsWith("/")?l=s:a.toLowerCase().indexOf(s.toLowerCase())!==0?l=s+a:l=a,(l||"/")+Ht(t,!l)}function Bh(r,t){if(r==null)throw new Error(t);return r}function Nh(r,t){return Ht(r).replace(/\/*(\*.*)?$/g,"")+Ht(t)}function Kl(r){const t={};return r.searchParams.forEach((i,s)=>{s in t?Array.isArray(t[s])?t[s].push(i):t[s]=[t[s],i]:t[s]=i}),t}function Uh(r,t,i){const[s,a]=r.split("/*",2),l=s.split("/").filter(Boolean),c=l.length;return d=>{const f=d.split("/").filter(Boolean),p=f.length-c;if(p<0||p>0&&a===void 0&&!t)return null;const g={path:c?"":"/",params:{}},_=v=>i===void 0?void 0:i[v];for(let v=0;v<c;v++){const x=l[v],T=x[0]===":",b=T?f[v]:f[v].toLowerCase(),w=T?x.slice(1):x.toLowerCase();if(T&&$s(b,_(w)))g.params[w]=b;else if(T||!$s(b,w))return null;g.path+=`/${b}`}if(a){const v=p?f.slice(-p).join("/"):"";if($s(v,_(a)))g.params[a]=v;else return null}return g}}function $s(r,t){const i=s=>s===r;return t===void 0?!0:typeof t=="string"?i(t):typeof t=="function"?t(r):Array.isArray(t)?t.some(i):t instanceof RegExp?t.test(r):!1}function Zh(r){const[t,i]=r.pattern.split("/*",2),s=t.split("/").filter(Boolean);return s.reduce((a,l)=>a+(l.startsWith(":")?2:3),s.length-(i===void 0?0:1))}function Vl(r){const t=new Map,i=Bl();return new Proxy({},{get(s,a){return t.has(a)||Nl(i,()=>t.set(a,de(()=>r()[a]))),t.get(a)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(r())}})}function Jl(r){let t=/(\/?\:[^\/]+)\?/.exec(r);if(!t)return[r];let i=r.slice(0,t.index),s=r.slice(t.index+t[0].length);const a=[i,i+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(s);)a.push(i+=t[1]),s=s.slice(t[0].length);return Jl(s).reduce((l,c)=>[...l,...a.map(d=>d+c)],[])}const Fh=100,Yl=fo(),vo=fo(),gr=()=>Bh(fr(Yl),"<A> and 'use' router primitives can be only used inside a Route."),Wh=()=>fr(vo)||gr().base,Hh=r=>{const t=Wh();return de(()=>t.resolvePath(r()))},Gh=r=>{const t=gr();return de(()=>{const i=r();return i!==void 0?t.renderPath(i):i})},nt=()=>gr().navigatorFactory(),Kh=()=>gr().location;function Vh(r,t=""){const{component:i,preload:s,load:a,children:l,info:c}=r,d=!l||Array.isArray(l)&&!l.length,f={key:r,component:i,preload:s||a,info:c};return Ql(r.path).reduce((p,g)=>{for(const _ of Jl(g)){const v=Nh(t,_);let x=d?v:v.split("/*",1)[0];x=x.split("/").map(T=>T.startsWith(":")||T.startsWith("*")?T:encodeURIComponent(T)).join("/"),p.push({...f,originalPath:g,pattern:x,matcher:Uh(x,!d,r.matchFilters)})}return p},[])}function Jh(r,t=0){return{routes:r,score:Zh(r[r.length-1])*1e4-t,matcher(i){const s=[];for(let a=r.length-1;a>=0;a--){const l=r[a],c=l.matcher(i);if(!c)return null;s.unshift({...c,route:l})}return s}}}function Ql(r){return Array.isArray(r)?r:[r]}function Xl(r,t="",i=[],s=[]){const a=Ql(r);for(let l=0,c=a.length;l<c;l++){const d=a[l];if(d&&typeof d=="object"){d.hasOwnProperty("path")||(d.path="");const f=Vh(d,t);for(const p of f){i.push(p);const g=Array.isArray(d.children)&&d.children.length===0;if(d.children&&!g)Xl(d.children,p.pattern,i,s);else{const _=Jh([...i],s.length);s.push(_)}i.pop()}}}return i.length?s:s.sort((l,c)=>c.score-l.score)}function Os(r,t){for(let i=0,s=r.length;i<s;i++){const a=r[i].matcher(t);if(a)return a}return[]}function Yh(r,t,i){const s=new URL(Gl),a=de(g=>{const _=r();try{return new URL(_,s)}catch{return console.error(`Invalid path ${_}`),g}},s,{equals:(g,_)=>g.href===_.href}),l=de(()=>a().pathname),c=de(()=>a().search,!0),d=de(()=>a().hash),f=()=>"",p=ho(c,()=>Kl(a()));return{get pathname(){return l()},get search(){return c()},get hash(){return d()},get state(){return t()},get key(){return f()},query:i?i(p):Vl(p)}}let Ft;function Qh(){return Ft}function Xh(r,t,i,s={}){const{signal:[a,l],utils:c={}}=r,d=c.parsePath||(K=>K),f=c.renderPath||(K=>K),p=c.beforeLeave||Hl(),g=nr("",s.base||"");if(g===void 0)throw new Error(`${g} is not a valid base path`);g&&!a().value&&l({value:g,replace:!0,scroll:!1});const[_,v]=F(!1);let x;const T=(K,te)=>{te.value===b()&&te.state===k()||(x===void 0&&v(!0),Ft=K,x=te,oh(()=>{x===te&&(w(x.value),S(x.state),M[1](X=>X.filter(fe=>fe.pending)))}).finally(()=>{x===te&&sh(()=>{Ft=void 0,K==="navigate"&&Q(x),v(!1),x=void 0})}))},[b,w]=F(a().value),[k,S]=F(a().state),C=Yh(b,k,c.queryWrapper),O=[],M=F([]),j=de(()=>typeof s.transformUrl=="function"?Os(t(),s.transformUrl(C.pathname)):Os(t(),C.pathname)),I=()=>{const K=j(),te={};for(let X=0;X<K.length;X++)Object.assign(te,K[X].params);return te},z=c.paramsWrapper?c.paramsWrapper(I,t):Vl(I),Z={pattern:g,path:()=>g,outlet:()=>null,resolvePath(K){return nr(g,K)}};return ye(ho(a,K=>T("native",K),{defer:!0})),{base:Z,location:C,params:z,isRouting:_,renderPath:f,parsePath:d,navigatorFactory:U,matches:j,beforeLeave:p,preloadRoute:J,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:M};function N(K,te,X){ze(()=>{if(typeof te=="number"){te&&(c.go?c.go(te):console.warn("Router integration does not support relative routing"));return}const fe=!te||te[0]==="?",{replace:W,resolve:Ee,scroll:G,state:le}={replace:!1,resolve:!fe,scroll:!0,...X},pe=Ee?K.resolvePath(te):nr(fe&&C.pathname||"",te);if(pe===void 0)throw new Error(`Path '${te}' is not a routable path`);if(O.length>=Fh)throw new Error("Too many redirects");const be=b();(pe!==be||le!==k())&&(jh||p.confirm(pe,X)&&(O.push({value:be,replace:W,scroll:G,state:k()}),T("navigate",{value:pe,state:le})))})}function U(K){return K=K||fr(vo)||Z,(te,X)=>N(K,te,X)}function Q(K){const te=O[0];te&&(l({...K,replace:te.replace,scroll:te.scroll}),O.length=0)}function J(K,te){const X=Os(t(),K.pathname),fe=Ft;Ft="preload";for(let W in X){const{route:Ee,params:G}=X[W];Ee.component&&Ee.component.preload&&Ee.component.preload();const{preload:le}=Ee;te&&le&&Nl(i(),()=>le({params:G,location:{pathname:K.pathname,search:K.search,hash:K.hash,query:Kl(K),state:null,key:""},intent:"preload"}))}Ft=fe}}function ed(r,t,i,s){const{base:a,location:l,params:c}=r,{pattern:d,component:f,preload:p}=s().route,g=de(()=>s().path);f&&f.preload&&f.preload();const _=p?p({params:c,location:l,intent:Ft||"initial"}):void 0;return{parent:t,pattern:d,path:g,outlet:()=>f?D(f,{params:c,location:l,data:_,get children(){return i()}}):i(),resolvePath(x){return nr(a.path(),x,g())}}}const td=r=>t=>{const{base:i}=t,s=mo(()=>t.children),a=de(()=>Xl(s(),t.base||""));let l;const c=Xh(r,a,()=>l,{base:i,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return r.create&&r.create(c),D(Yl.Provider,{value:c,get children(){return D(nd,{routerState:c,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[de(()=>(l=Bl())&&null),D(id,{routerState:c,get branches(){return a()}})]}})}})};function nd(r){const t=r.routerState.location,i=r.routerState.params,s=de(()=>r.preload&&ze(()=>{r.preload({params:i,location:t,intent:Qh()||"initial"})}));return D(Re,{get when(){return r.root},keyed:!0,get fallback(){return r.children},children:a=>D(a,{params:i,location:t,get data(){return s()},get children(){return r.children}})})}function id(r){const t=[];let i;const s=de(ho(r.routerState.matches,(a,l,c)=>{let d=l&&a.length===l.length;const f=[];for(let p=0,g=a.length;p<g;p++){const _=l&&l[p],v=a[p];c&&_&&v.route.key===_.route.key?f[p]=c[p]:(d=!1,t[p]&&t[p](),ni(x=>{t[p]=x,f[p]=ed(r.routerState,f[p-1]||r.routerState.base,Ea(()=>s()[p+1]),()=>r.routerState.matches()[p])}))}return t.splice(a.length).forEach(p=>p()),c&&d?c:(i=f[0],f)}));return Ea(()=>s()&&i)()}const Ea=r=>()=>D(Re,{get when(){return r()},keyed:!0,children:t=>D(vo.Provider,{value:t,get children(){return t.outlet()}})}),Ze=r=>{const t=mo(()=>r.children);return Qs(r,{get children(){return t()}})};function rd([r,t],i,s){return[r,a=>t(s(a))]}function sd(r){let t=!1;const i=a=>typeof a=="string"?{value:a}:a,s=rd(F(i(r.get()),{equals:(a,l)=>a.value===l.value&&a.state===l.state}),void 0,a=>(!t&&r.set(a),a));return r.init&&dr(r.init((a=r.get())=>{t=!0,s[1](i(a)),t=!1})),td({signal:s,create:r.create,utils:r.utils})}function od(r,t,i){return r.addEventListener(t,i),()=>r.removeEventListener(t,i)}function ad(r,t){const i=r&&document.getElementById(r);i?i.scrollIntoView():t&&window.scrollTo(0,0)}const ld=new Map;function ud(r=!0,t=!1,i="/_server",s){return a=>{const l=a.base.path(),c=a.navigatorFactory(a.base);let d,f;function p(b){return b.namespaceURI==="http://www.w3.org/2000/svg"}function g(b){if(b.defaultPrevented||b.button!==0||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)return;const w=b.composedPath().find(j=>j instanceof Node&&j.nodeName.toUpperCase()==="A");if(!w||t&&!w.hasAttribute("link"))return;const k=p(w),S=k?w.href.baseVal:w.href;if((k?w.target.baseVal:w.target)||!S&&!w.hasAttribute("state"))return;const O=(w.getAttribute("rel")||"").split(/\s+/);if(w.hasAttribute("download")||O&&O.includes("external"))return;const M=k?new URL(S,document.baseURI):new URL(S);if(!(M.origin!==window.location.origin||l&&M.pathname&&!M.pathname.toLowerCase().startsWith(l.toLowerCase())))return[w,M]}function _(b){const w=g(b);if(!w)return;const[k,S]=w,C=a.parsePath(S.pathname+S.search+S.hash),O=k.getAttribute("state");b.preventDefault(),c(C,{resolve:!1,replace:k.hasAttribute("replace"),scroll:!k.hasAttribute("noscroll"),state:O?JSON.parse(O):void 0})}function v(b){const w=g(b);if(!w)return;const[k,S]=w;a.preloadRoute(S,k.getAttribute("preload")!=="false")}function x(b){clearTimeout(d);const w=g(b);if(!w)return f=null;const[k,S]=w;f!==k&&(d=setTimeout(()=>{a.preloadRoute(S,k.getAttribute("preload")!=="false"),f=k},20))}function T(b){if(b.defaultPrevented)return;let w=b.submitter&&b.submitter.hasAttribute("formaction")?b.submitter.getAttribute("formaction"):b.target.getAttribute("action");if(!w)return;if(!w.startsWith("https://action/")){const S=new URL(w,Gl);if(w=a.parsePath(S.pathname+S.search),!w.startsWith(i))return}if(b.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const k=ld.get(w);if(k){b.preventDefault();const S=new FormData(b.target,b.submitter);k.call({r:a,f:b.target},b.target.enctype==="multipart/form-data"?S:new URLSearchParams(S))}}Be(["click","submit"]),document.addEventListener("click",_),r&&(document.addEventListener("mousemove",x,{passive:!0}),document.addEventListener("focusin",v,{passive:!0}),document.addEventListener("touchstart",v,{passive:!0})),document.addEventListener("submit",T),dr(()=>{document.removeEventListener("click",_),r&&(document.removeEventListener("mousemove",x),document.removeEventListener("focusin",v),document.removeEventListener("touchstart",v)),document.removeEventListener("submit",T)})}}function cd(r){const t=r.replace(/^.*?#/,"");if(!t.startsWith("/")){const[,i="/"]=window.location.hash.split("#",2);return`${i}#${t}`}return t}function hd(r){const t=()=>window.location.hash.slice(1),i=Hl();return sd({get:t,set({value:s,replace:a,scroll:l,state:c}){a?window.history.replaceState(Ih(c),"","#"+s):window.history.pushState(c,"","#"+s);const d=s.indexOf("#"),f=d>=0?s.slice(d+1):"";ad(f,l),_o()},init:s=>od(window,"hashchange",Rh(s,a=>!i.confirm(a&&a<0?a:t()))),create:ud(r.preload,r.explicitLinks,r.actionBase),utils:{go:s=>window.history.go(s),renderPath:s=>`#${s}`,parsePath:cd,beforeLeave:i}})(r)}var dd=Y("<a>");function to(r){r=Qs({inactiveClass:"inactive",activeClass:"active"},r);const[,t]=ph(r,["href","state","class","activeClass","inactiveClass","end"]),i=Hh(()=>r.href),s=Gh(i),a=Kh(),l=de(()=>{const c=i();if(c===void 0)return[!1,!1];const d=Ht(c.split(/[?#]/,1)[0]).toLowerCase(),f=decodeURI(Ht(a.pathname).toLowerCase());return[r.end?d===f:f.startsWith(d+"/")||f===d,d===f]});return(()=>{var c=dd();return $h(c,Qs(t,{get href(){return s()||r.href},get state(){return JSON.stringify(r.state)},get classList(){return{...r.class&&{[r.class]:!0},[r.inactiveClass]:!l()[0],[r.activeClass]:l()[0],...t.classList}},link:"",get"aria-current"(){return l()[1]?"page":void 0}}),!1),c})()}const fd="modulepreload",md=function(r){return"/ZavrsniV2/"+r},Ma={},wn=function(t,i,s){let a=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");a=Promise.allSettled(i.map(f=>{if(f=md(f),f in Ma)return;Ma[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":fd,p||(_.as="script"),_.crossOrigin="",_.href=f,d&&_.setAttribute("nonce",d),document.head.appendChild(_),p)return new Promise((v,x)=>{_.addEventListener("load",v),_.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},pd=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...i)=>wn(async()=>{const{default:s}=await Promise.resolve().then(()=>Pn);return{default:s}},void 0).then(({default:s})=>s(...i)):t=fetch,(...i)=>t(...i)};class yo extends Error{constructor(t,i="FunctionsError",s){super(t),this.name=i,this.context=s}}class gd extends yo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _d extends yo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vd extends yo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var no;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(no||(no={}));var yd=function(r,t,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function d(g){try{p(s.next(g))}catch(_){c(_)}}function f(g){try{p(s.throw(g))}catch(_){c(_)}}function p(g){g.done?l(g.value):a(g.value).then(d,f)}p((s=s.apply(r,t||[])).next())})};class bd{constructor(t,{headers:i={},customFetch:s,region:a=no.Any}={}){this.url=t,this.headers=i,this.region=a,this.fetch=pd(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,i={}){var s;return yd(this,void 0,void 0,function*(){try{const{headers:a,method:l,body:c}=i;let d={},{region:f}=i;f||(f=this.region),f&&f!=="any"&&(d["x-region"]=f);let p;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=c):typeof c=="string"?(d["Content-Type"]="text/plain",p=c):typeof FormData<"u"&&c instanceof FormData?p=c:(d["Content-Type"]="application/json",p=JSON.stringify(c)));const g=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:p}).catch(T=>{throw new gd(T)}),_=g.headers.get("x-relay-error");if(_&&_==="true")throw new _d(g);if(!g.ok)throw new vd(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield g.json():v==="application/octet-stream"?x=yield g.blob():v==="text/event-stream"?x=g:v==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null}}catch(a){return{data:null,error:a}}})}}var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wd(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function xd(r){if(r.__esModule)return r;var t=r.default;if(typeof t=="function"){var i=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var a=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:function(){return r[s]}})}),i}var De={},bo={},_r={},li={},vr={},yr={},Ad=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xn=Ad();const Pd=xn.fetch,eu=xn.fetch.bind(xn),tu=xn.Headers,kd=xn.Request,Sd=xn.Response,Pn=Object.freeze(Object.defineProperty({__proto__:null,Headers:tu,Request:kd,Response:Sd,default:eu,fetch:Pd},Symbol.toStringTag,{value:"Module"})),Ld=xd(Pn);var br={};Object.defineProperty(br,"__esModule",{value:!0});let Td=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};br.default=Td;var nu=We&&We.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yr,"__esModule",{value:!0});const Cd=nu(Ld),$d=nu(br);let Od=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Cd.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,i){return this.headers=Object.assign({},this.headers),this.headers[t]=i,this}then(t,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,f;let p=null,g=null,_=null,v=l.status,x=l.statusText;if(l.ok){if(this.method!=="HEAD"){const k=await l.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=k:g=JSON.parse(k))}const b=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),w=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");b&&w&&w.length>1&&(_=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,_=null,v=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const b=await l.text();try{p=JSON.parse(b),Array.isArray(p)&&l.status===404&&(g=[],p=null,v=200,x="OK")}catch{l.status===404&&b===""?(v=204,x="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((f=p?.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,v=200,x="OK"),p&&this.shouldThrowOnError)throw new $d.default(p)}return{error:p,data:g,count:_,status:v,statusText:x}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,d,f;return{error:{message:`${(c=l?.name)!==null&&c!==void 0?c:"FetchError"}: ${l?.message}`,details:`${(d=l?.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=l?.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,i)}};yr.default=Od;var Ed=We&&We.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vr,"__esModule",{value:!0});const Md=Ed(yr);let qd=class extends Md.default{select(t){let i=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:i=!0,nullsFirst:s,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${t}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:i,referencedTable:s=i}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,i,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${t}`),this.url.searchParams.set(c,`${i-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:i=!1,settings:s=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var d;const f=[t?"analyze":null,i?"verbose":null,s?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`,c==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};vr.default=qd;var jd=We&&We.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(li,"__esModule",{value:!0});const Id=jd(vr);let Rd=class extends Id.default{eq(t,i){return this.url.searchParams.append(t,`eq.${i}`),this}neq(t,i){return this.url.searchParams.append(t,`neq.${i}`),this}gt(t,i){return this.url.searchParams.append(t,`gt.${i}`),this}gte(t,i){return this.url.searchParams.append(t,`gte.${i}`),this}lt(t,i){return this.url.searchParams.append(t,`lt.${i}`),this}lte(t,i){return this.url.searchParams.append(t,`lte.${i}`),this}like(t,i){return this.url.searchParams.append(t,`like.${i}`),this}likeAllOf(t,i){return this.url.searchParams.append(t,`like(all).{${i.join(",")}}`),this}likeAnyOf(t,i){return this.url.searchParams.append(t,`like(any).{${i.join(",")}}`),this}ilike(t,i){return this.url.searchParams.append(t,`ilike.${i}`),this}ilikeAllOf(t,i){return this.url.searchParams.append(t,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(t,i){return this.url.searchParams.append(t,`ilike(any).{${i.join(",")}}`),this}is(t,i){return this.url.searchParams.append(t,`is.${i}`),this}in(t,i){const s=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,i){return typeof i=="string"?this.url.searchParams.append(t,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(t,`cs.{${i.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(i)}`),this}containedBy(t,i){return typeof i=="string"?this.url.searchParams.append(t,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(t,`cd.{${i.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(i)}`),this}rangeGt(t,i){return this.url.searchParams.append(t,`sr.${i}`),this}rangeGte(t,i){return this.url.searchParams.append(t,`nxl.${i}`),this}rangeLt(t,i){return this.url.searchParams.append(t,`sl.${i}`),this}rangeLte(t,i){return this.url.searchParams.append(t,`nxr.${i}`),this}rangeAdjacent(t,i){return this.url.searchParams.append(t,`adj.${i}`),this}overlaps(t,i){return typeof i=="string"?this.url.searchParams.append(t,`ov.${i}`):this.url.searchParams.append(t,`ov.{${i.join(",")}}`),this}textSearch(t,i,{config:s,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${l}fts${c}.${i}`),this}match(t){return Object.entries(t).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(t,i,s){return this.url.searchParams.append(t,`not.${i}.${s}`),this}or(t,{foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,i,s){return this.url.searchParams.append(t,`${i}.${s}`),this}};li.default=Rd;var Dd=We&&We.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_r,"__esModule",{value:!0});const Jn=Dd(li);let zd=class{constructor(t,{headers:i={},schema:s,fetch:a}){this.url=t,this.headers=i,this.schema=s,this.fetch=a}select(t,{head:i=!1,count:s}={}){const a=i?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),s&&(this.headers.Prefer=`count=${s}`),new Jn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:i,defaultToNull:s=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new Jn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:i,ignoreDuplicates:s=!1,count:a,defaultToNull:l=!0}={}){const c="POST",d=[`resolution=${s?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(t)){const f=t.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new Jn.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:i}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new Jn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const i="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Jn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};_r.default=zd;var wr={},xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.version=void 0;xr.version="0.0.0-automated";Object.defineProperty(wr,"__esModule",{value:!0});wr.DEFAULT_HEADERS=void 0;const Bd=xr;wr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Bd.version}`};var iu=We&&We.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bo,"__esModule",{value:!0});const Nd=iu(_r),Ud=iu(li),Zd=wr;let Fd=class ru{constructor(t,{headers:i={},schema:s,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},Zd.DEFAULT_HEADERS),i),this.schemaName=s,this.fetch=a}from(t){const i=new URL(`${this.url}/${t}`);return new Nd.default(i,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ru(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,i={},{head:s=!1,get:a=!1,count:l}={}){let c;const d=new URL(`${this.url}/rpc/${t}`);let f;s||a?(c=s?"HEAD":"GET",Object.entries(i).filter(([g,_])=>_!==void 0).map(([g,_])=>[g,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([g,_])=>{d.searchParams.append(g,_)})):(c="POST",f=i);const p=Object.assign({},this.headers);return l&&(p.Prefer=`count=${l}`),new Ud.default({method:c,url:d,headers:p,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}};bo.default=Fd;var kn=We&&We.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(De,"__esModule",{value:!0});De.PostgrestError=De.PostgrestBuilder=De.PostgrestTransformBuilder=De.PostgrestFilterBuilder=De.PostgrestQueryBuilder=De.PostgrestClient=void 0;const su=kn(bo);De.PostgrestClient=su.default;const ou=kn(_r);De.PostgrestQueryBuilder=ou.default;const au=kn(li);De.PostgrestFilterBuilder=au.default;const lu=kn(vr);De.PostgrestTransformBuilder=lu.default;const uu=kn(yr);De.PostgrestBuilder=uu.default;const cu=kn(br);De.PostgrestError=cu.default;var Wd=De.default={PostgrestClient:su.default,PostgrestQueryBuilder:ou.default,PostgrestFilterBuilder:au.default,PostgrestTransformBuilder:lu.default,PostgrestBuilder:uu.default,PostgrestError:cu.default};const{PostgrestClient:Hd,PostgrestQueryBuilder:Ty,PostgrestFilterBuilder:Cy,PostgrestTransformBuilder:$y,PostgrestBuilder:Oy,PostgrestError:Ey}=Wd,Gd="2.11.2",Kd={"X-Client-Info":`realtime-js/${Gd}`},Vd="1.0.0",hu=1e4,Jd=1e3;var bn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(bn||(bn={}));var Fe;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Fe||(Fe={}));var et;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(et||(et={}));var io;(function(r){r.websocket="websocket"})(io||(io={}));var Wt;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Wt||(Wt={}));class Yd{constructor(){this.HEADER_LENGTH=1}decode(t,i){return t.constructor===ArrayBuffer?i(this._binaryDecode(t)):i(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const i=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,i,s)}_decodeBroadcast(t,i,s){const a=i.getUint8(1),l=i.getUint8(2);let c=this.HEADER_LENGTH+2;const d=s.decode(t.slice(c,c+a));c=c+a;const f=s.decode(t.slice(c,c+l));c=c+l;const p=JSON.parse(s.decode(t.slice(c,t.byteLength)));return{ref:null,topic:d,event:f,payload:p}}}class du{constructor(t,i){this.callback=t,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(ve||(ve={}));const qa=(r,t,i={})=>{var s;const a=(s=i.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((l,c)=>(l[c]=Qd(c,r,t,a),l),{})},Qd=(r,t,i,s)=>{const a=t.find(d=>d.name===r),l=a?.type,c=i[r];return l&&!s.includes(l)?fu(l,c):ro(c)},fu=(r,t)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return nf(t,i)}switch(r){case ve.bool:return Xd(t);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return ef(t);case ve.json:case ve.jsonb:return tf(t);case ve.timestamp:return rf(t);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return ro(t);default:return ro(t)}},ro=r=>r,Xd=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},ef=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},tf=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},nf=(r,t)=>{if(typeof r!="string")return r;const i=r.length-1,s=r[i];if(r[0]==="{"&&s==="}"){let l;const c=r.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>fu(t,d))}return r},rf=r=>typeof r=="string"?r.replace(" ","T"):r,mu=r=>{let t=r;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Es{constructor(t,i,s={},a=hu){this.channel=t,this.event=i,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,i){var s;return this._hasReceived(t)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:i}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(i))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ja;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(ja||(ja={}));class ii{constructor(t,i){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ii.syncState(this.state,a,l,c),this.pendingDiffs.forEach(f=>{this.state=ii.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ii.syncDiff(this.state,a,l,c),d())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,i,s,a){const l=this.cloneDeep(t),c=this.transformState(i),d={},f={};return this.map(l,(p,g)=>{c[p]||(f[p]=g)}),this.map(c,(p,g)=>{const _=l[p];if(_){const v=g.map(w=>w.presence_ref),x=_.map(w=>w.presence_ref),T=g.filter(w=>x.indexOf(w.presence_ref)<0),b=_.filter(w=>v.indexOf(w.presence_ref)<0);T.length>0&&(d[p]=T),b.length>0&&(f[p]=b)}else d[p]=g}),this.syncDiff(l,{joins:d,leaves:f},s,a)}static syncDiff(t,i,s,a){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(l,(d,f)=>{var p;const g=(p=t[d])!==null&&p!==void 0?p:[];if(t[d]=this.cloneDeep(f),g.length>0){const _=t[d].map(x=>x.presence_ref),v=g.filter(x=>_.indexOf(x.presence_ref)<0);t[d].unshift(...v)}s(d,g,f)}),this.map(c,(d,f)=>{let p=t[d];if(!p)return;const g=f.map(_=>_.presence_ref);p=p.filter(_=>g.indexOf(_.presence_ref)<0),t[d]=p,a(d,p,f),p.length===0&&delete t[d]}),t}static map(t,i){return Object.getOwnPropertyNames(t).map(s=>i(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((i,s)=>{const a=t[s];return"metas"in a?i[s]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[s]=a,i},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ia;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Ia||(Ia={}));var Ra;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ra||(Ra={}));var vt;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(vt||(vt={}));class wo{constructor(t,i={config:{}},s){this.topic=t,this.params=i,this.socket=s,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Es(this,et.join,this.params,this.timeout),this.rejoinTimer=new du(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new ii(this),this.broadcastEndpointURL=mu(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,i=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:c,private:d}}=this.params;this._onError(g=>t?.(vt.CHANNEL_ERROR,g)),this._onClose(()=>t?.(vt.CLOSED));const f={},p={broadcast:l,presence:c,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&a!==void 0?a:[],private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:g})=>{var _;if(this.socket.setAuth(),g===void 0){t?.(vt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(_=v?.length)!==null&&_!==void 0?_:0,T=[];for(let b=0;b<x;b++){const w=v[b],{filter:{event:k,schema:S,table:C,filter:O}}=w,M=g&&g[b];if(M&&M.event===k&&M.schema===S&&M.table===C&&M.filter===O)T.push(Object.assign(Object.assign({},w),{id:M.id}));else{this.unsubscribe(),t?.(vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(vt.SUBSCRIBED);return}}).receive("error",g=>{t?.(vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t?.(vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,i={}){return await this.send({type:"presence",event:"track",payload:t},i.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,i,s){return this._on(t,i,s)}async send(t,i={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:c}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,f;const p=this._push(t.type,t,i.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fe.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const a=new Es(this,et.leave,{},t);a.receive("ok",()=>{i(),s("ok")}).receive("timeout",()=>{i(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,i,s){const a=new AbortController,l=setTimeout(()=>a.abort(),s),c=await this.socket.fetch(t,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(l),c}_push(t,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Es(this,t,i,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,i,s){return i}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,i,s){var a,l;const c=t.toLocaleLowerCase(),{close:d,error:f,leave:p,join:g}=et;if(s&&[d,f,p,g].indexOf(c)>=0&&s!==this._joinRef())return;let v=this._onMessage(c,i,s);if(i&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var T,b,w;return((T=x.filter)===null||T===void 0?void 0:T.event)==="*"||((w=(b=x.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===c}).map(x=>x.callback(v,s)):(l=this.bindings[c])===null||l===void 0||l.filter(x=>{var T,b,w,k,S,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const O=x.id,M=(T=x.filter)===null||T===void 0?void 0:T.event;return O&&((b=i.ids)===null||b===void 0?void 0:b.includes(O))&&(M==="*"||M?.toLocaleLowerCase()===((w=i.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const O=(S=(k=x?.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return O==="*"||O===((C=i?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof v=="object"&&"ids"in v){const T=v.data,{schema:b,table:w,commit_timestamp:k,type:S,errors:C}=T;v=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:k,eventType:S,new:{},old:{},errors:C}),this._getPayloadRecords(T))}x.callback(v,s)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,i,s){const a=t.toLocaleLowerCase(),l={type:a,filter:i,callback:s};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(t,i){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&wo.isEqual(a.filter,i))}),this}static isEqual(t,i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(const s in t)if(t[s]!==i[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(et.close,{},t)}_onError(t){this._on(et.error,{},i=>t(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const i={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(i.new=qa(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(i.old=qa(t.columns,t.old_record)),i}}const sf=()=>{},of=typeof WebSocket<"u",af=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lf{constructor(t,i){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Kd,this.params={},this.timeout=hu,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=sf,this.conn=null,this.sendBuffer=[],this.serializer=new Yd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let c;return l?c=l:typeof fetch>"u"?c=(...d)=>wn(async()=>{const{default:f}=await Promise.resolve().then(()=>Pn);return{default:f}},void 0).then(({default:f})=>f(...d)):c=fetch,(...d)=>c(...d)},this.endPoint=`${t}/${io.websocket}`,this.httpEndpoint=mu(t),i?.transport?this.transport=i.transport:this.transport=null,i?.params&&(this.params=i.params),i?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),i.headers)),i?.timeout&&(this.timeout=i.timeout),i?.logger&&(this.logger=i.logger),i?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const a=(s=i?.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=i?.reconnectAfterMs?i.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=i?.encode?i.encode:(l,c)=>c(JSON.stringify(l)),this.decode=i?.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new du(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i?.fetch),i?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=i?.worker||!1,this.workerUrl=i?.workerUrl}this.accessToken=i?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(of){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new uf(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),wn(async()=>{const{default:t}=await import("./browser-jOfHf9xr.js").then(i=>i.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Vd}))}disconnect(t,i){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const i=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const t=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.disconnect(),t}log(t,i,s){this.logger(t,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case bn.connecting:return Wt.Connecting;case bn.open:return Wt.Open;case bn.closing:return Wt.Closing;default:return Wt.Closed}}isConnected(){return this.connectionState()===Wt.Open}channel(t,i={config:{}}){const s=new wo(`realtime:${t}`,i,this);return this.channels.push(s),s}push(t){const{topic:i,event:s,payload:a,ref:l}=t,c=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${i} ${s} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){let i=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(i){let s=null;try{s=JSON.parse(atob(i.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=i,this.channels.forEach(a=>{i&&a.updateJoinPayload({access_token:i}),a.joinedOnce&&a._isJoined()&&a._push(et.access_token,{access_token:i})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Jd,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let i=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${t}"`),i.unsubscribe())}_remove(t){this.channels=this.channels.filter(i=>i._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,i=>{let{topic:s,event:a,payload:l,ref:c}=i;c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${s} ${a} ${c&&"("+c+")"||""}`,l),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,l,c)),this.stateChangeCallbacks.message.forEach(d=>d(i))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(et.error))}_appendParams(t,i){if(Object.keys(i).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${t}${s}${a}`}_workerObjectUrl(t){let i;if(t)i=t;else{const s=new Blob([af],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}}class uf{constructor(t,i,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=bn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class xo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Le(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class cf extends xo{constructor(t,i){super(t),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class so extends xo{constructor(t,i){super(t),this.name="StorageUnknownError",this.originalError=i}}var hf=function(r,t,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function d(g){try{p(s.next(g))}catch(_){c(_)}}function f(g){try{p(s.throw(g))}catch(_){c(_)}}function p(g){g.done?l(g.value):a(g.value).then(d,f)}p((s=s.apply(r,t||[])).next())})};const pu=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...i)=>wn(async()=>{const{default:s}=await Promise.resolve().then(()=>Pn);return{default:s}},void 0).then(({default:s})=>s(...i)):t=fetch,(...i)=>t(...i)},df=()=>hf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wn(()=>Promise.resolve().then(()=>Pn),void 0)).Response:Response}),oo=r=>{if(Array.isArray(r))return r.map(i=>oo(i));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([i,s])=>{const a=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[a]=oo(s)}),t};var Gt=function(r,t,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function d(g){try{p(s.next(g))}catch(_){c(_)}}function f(g){try{p(s.throw(g))}catch(_){c(_)}}function p(g){g.done?l(g.value):a(g.value).then(d,f)}p((s=s.apply(r,t||[])).next())})};const Ms=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ff=(r,t,i)=>Gt(void 0,void 0,void 0,function*(){const s=yield df();r instanceof s&&!i?.noResolveJson?r.json().then(a=>{t(new cf(Ms(a),r.status||500))}).catch(a=>{t(new so(Ms(a),a))}):t(new so(Ms(r),r))}),mf=(r,t,i,s)=>{const a={method:r,headers:t?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),i))};function ui(r,t,i,s,a,l){return Gt(this,void 0,void 0,function*(){return new Promise((c,d)=>{r(i,mf(t,s,a,l)).then(f=>{if(!f.ok)throw f;return s?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>ff(f,d,s))})})}function ur(r,t,i,s){return Gt(this,void 0,void 0,function*(){return ui(r,"GET",t,i,s)})}function Ot(r,t,i,s,a){return Gt(this,void 0,void 0,function*(){return ui(r,"POST",t,s,a,i)})}function pf(r,t,i,s,a){return Gt(this,void 0,void 0,function*(){return ui(r,"PUT",t,s,a,i)})}function gf(r,t,i,s){return Gt(this,void 0,void 0,function*(){return ui(r,"HEAD",t,Object.assign(Object.assign({},i),{noResolveJson:!0}),s)})}function gu(r,t,i,s,a){return Gt(this,void 0,void 0,function*(){return ui(r,"DELETE",t,s,a,i)})}var Ie=function(r,t,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function d(g){try{p(s.next(g))}catch(_){c(_)}}function f(g){try{p(s.throw(g))}catch(_){c(_)}}function p(g){g.done?l(g.value):a(g.value).then(d,f)}p((s=s.apply(r,t||[])).next())})};const _f={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Da={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vf{constructor(t,i={},s,a){this.url=t,this.headers=i,this.bucketId=s,this.fetch=pu(a)}uploadOrUpdate(t,i,s,a){return Ie(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Da),a);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=s,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a?.headers&&(d=Object.assign(Object.assign({},d),a.headers));const p=this._removeEmptyFolders(i),g=this._getFinalPath(p),_=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:l,headers:d},c?.duplex?{duplex:c.duplex}:{})),v=yield _.json();return _.ok?{data:{path:p,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(l){if(Le(l))return{data:null,error:l};throw l}})}upload(t,i,s){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,i,s)})}uploadToSignedUrl(t,i,s,a){return Ie(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",i);try{let f;const p=Object.assign({upsert:Da.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",p.cacheControl)):(f=s,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const _=yield this.fetch(d.toString(),{method:"PUT",body:f,headers:g}),v=yield _.json();return _.ok?{data:{path:l,fullPath:v.Key},error:null}:{data:null,error:v}}catch(f){if(Le(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,i){return Ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);i?.upsert&&(a["x-upsert"]="true");const l=yield Ot(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new xo("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}update(t,i,s){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,i,s)})}move(t,i,s){return Ie(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Le(a))return{data:null,error:a};throw a}})}copy(t,i,s){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield Ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Le(a))return{data:null,error:a};throw a}})}createSignedUrl(t,i,s){return Ie(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),l=yield Ot(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(Le(a))return{data:null,error:a};throw a}})}createSignedUrls(t,i,s){return Ie(this,void 0,void 0,function*(){try{const a=yield Ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:t},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(Le(a))return{data:null,error:a};throw a}})}download(t,i){return Ie(this,void 0,void 0,function*(){const a=typeof i?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(i?.transform||{}),c=l?`?${l}`:"";try{const d=this._getFinalPath(t);return{data:yield(yield ur(this.fetch,`${this.url}/${a}/${d}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(Le(d))return{data:null,error:d};throw d}})}info(t){return Ie(this,void 0,void 0,function*(){const i=this._getFinalPath(t);try{const s=yield ur(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:oo(s),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}exists(t){return Ie(this,void 0,void 0,function*(){const i=this._getFinalPath(t);try{return yield gf(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Le(s)&&s instanceof so){const a=s.originalError;if([400,404].includes(a?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,i){const s=this._getFinalPath(t),a=[],l=i?.download?`download=${i.download===!0?"":i.download}`:"";l!==""&&a.push(l);const d=typeof i?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(i?.transform||{});f!==""&&a.push(f);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${p}`)}}}remove(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield gu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}list(t,i,s){return Ie(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},_f),i),{prefix:t||""});return{data:yield Ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(Le(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const i=[];return t.width&&i.push(`width=${t.width}`),t.height&&i.push(`height=${t.height}`),t.resize&&i.push(`resize=${t.resize}`),t.format&&i.push(`format=${t.format}`),t.quality&&i.push(`quality=${t.quality}`),i.join("&")}}const yf="2.7.1",bf={"X-Client-Info":`storage-js/${yf}`};var dn=function(r,t,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function d(g){try{p(s.next(g))}catch(_){c(_)}}function f(g){try{p(s.throw(g))}catch(_){c(_)}}function p(g){g.done?l(g.value):a(g.value).then(d,f)}p((s=s.apply(r,t||[])).next())})};class wf{constructor(t,i={},s){this.url=t,this.headers=Object.assign(Object.assign({},bf),i),this.fetch=pu(s)}listBuckets(){return dn(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Le(t))return{data:null,error:t};throw t}})}getBucket(t){return dn(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}createBucket(t,i={public:!1}){return dn(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}updateBucket(t,i){return dn(this,void 0,void 0,function*(){try{return{data:yield pf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Le(s))return{data:null,error:s};throw s}})}emptyBucket(t){return dn(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}deleteBucket(t){return dn(this,void 0,void 0,function*(){try{return{data:yield gu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(i){if(Le(i))return{data:null,error:i};throw i}})}}class xf extends wf{constructor(t,i={},s){super(t,i,s)}from(t){return new vf(this.url,this.headers,t,this.fetch)}}const Af="2.47.14";let ei="";typeof Deno<"u"?ei="deno":typeof document<"u"?ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ei="react-native":ei="node";const Pf={"X-Client-Info":`supabase-js-${ei}/${Af}`},kf={headers:Pf},Sf={schema:"public"},Lf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Tf={};var Cf=function(r,t,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function d(g){try{p(s.next(g))}catch(_){c(_)}}function f(g){try{p(s.throw(g))}catch(_){c(_)}}function p(g){g.done?l(g.value):a(g.value).then(d,f)}p((s=s.apply(r,t||[])).next())})};const $f=r=>{let t;return r?t=r:typeof fetch>"u"?t=eu:t=fetch,(...i)=>t(...i)},Of=()=>typeof Headers>"u"?tu:Headers,Ef=(r,t,i)=>{const s=$f(i),a=Of();return(l,c)=>Cf(void 0,void 0,void 0,function*(){var d;const f=(d=yield t())!==null&&d!==void 0?d:r;let p=new a(c?.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),s(l,Object.assign(Object.assign({},c),{headers:p}))})};var Mf=function(r,t,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function d(g){try{p(s.next(g))}catch(_){c(_)}}function f(g){try{p(s.throw(g))}catch(_){c(_)}}function p(g){g.done?l(g.value):a(g.value).then(d,f)}p((s=s.apply(r,t||[])).next())})};function qf(r){return r.replace(/\/$/,"")}function jf(r,t){const{db:i,auth:s,realtime:a,global:l}=r,{db:c,auth:d,realtime:f,global:p}=t,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},f),a),global:Object.assign(Object.assign({},p),l),accessToken:()=>Mf(this,void 0,void 0,function*(){return""})};return r.accessToken?g.accessToken=r.accessToken:delete g.accessToken,g}const _u="2.67.3",If="http://localhost:9999",Rf="supabase.auth.token",Df={"X-Client-Info":`gotrue-js/${_u}`},za=10,ao="X-Supabase-Api-Version",vu={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function zf(r){return Math.round(Date.now()/1e3)+r}function Bf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const lt=()=>typeof window<"u"&&typeof document<"u",Ut={tested:!1,writable:!1},ri=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ut.tested)return Ut.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ut.tested=!0,Ut.writable=!0}catch{Ut.tested=!0,Ut.writable=!1}return Ut.writable};function Nf(r){const t={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,l)=>{t[l]=a})}catch{}return i.searchParams.forEach((s,a)=>{t[a]=s}),t}const yu=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...i)=>wn(async()=>{const{default:s}=await Promise.resolve().then(()=>Pn);return{default:s}},void 0).then(({default:s})=>s(...i)):t=fetch,(...i)=>t(...i)},Uf=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",bu=async(r,t,i)=>{await r.setItem(t,JSON.stringify(i))},Fi=async(r,t)=>{const i=await r.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Wi=async(r,t)=>{await r.removeItem(t)};function Zf(r){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i="",s,a,l,c,d,f,p,g=0;for(r=r.replace("-","+").replace("_","/");g<r.length;)c=t.indexOf(r.charAt(g++)),d=t.indexOf(r.charAt(g++)),f=t.indexOf(r.charAt(g++)),p=t.indexOf(r.charAt(g++)),s=c<<2|d>>4,a=(d&15)<<4|f>>2,l=(f&3)<<6|p,i=i+String.fromCharCode(s),f!=64&&a!=0&&(i=i+String.fromCharCode(a)),p!=64&&l!=0&&(i=i+String.fromCharCode(l));return i}class Ar{constructor(){this.promise=new Ar.promiseConstructor((t,i)=>{this.resolve=t,this.reject=i})}}Ar.promiseConstructor=Promise;function Ba(r){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,i=r.split(".");if(i.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(i[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=i[1];return JSON.parse(Zf(s))}async function Ff(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function Wf(r,t){return new Promise((s,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await r(l);if(!t(l,null,c)){s(c);return}}catch(c){if(!t(l,c)){a(c);return}}})()})}function Hf(r){return("0"+r.toString(16)).substr(-2)}function Gf(){const t=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let a="";for(let l=0;l<56;l++)a+=i.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,Hf).join("")}async function Kf(r){const i=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(s);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}function Vf(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jf(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await Kf(r);return Vf(i)}async function fn(r,t,i=!1){const s=Gf();let a=s;i&&(a+="/PASSWORD_RECOVERY"),await bu(r,`${t}-code-verifier`,a);const l=await Jf(s);return[l,s===l?"plain":"s256"]}const Yf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qf(r){const t=r.headers.get(ao);if(!t||!t.match(Yf))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}let Ao=class extends Error{constructor(t,i,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}};function re(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Xf extends Ao{constructor(t,i,s){super(t,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function em(r){return re(r)&&r.name==="AuthApiError"}class wu extends Ao{constructor(t,i){super(t),this.name="AuthUnknownError",this.originalError=i}}class Kt extends Ao{constructor(t,i,s,a){super(t,s,a),this.name=i,this.status=s}}class Ct extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tm(r){return re(r)&&r.name==="AuthSessionMissingError"}class qs extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hi extends Kt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gi extends Kt{constructor(t,i=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nm(r){return re(r)&&r.name==="AuthImplicitGrantRedirectError"}class Na extends Kt{constructor(t,i=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lo extends Kt{constructor(t,i){super(t,"AuthRetryableFetchError",i,void 0)}}function js(r){return re(r)&&r.name==="AuthRetryableFetchError"}class Ua extends Kt{constructor(t,i,s){super(t,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}var im=function(r,t){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(i[s[a]]=r[s[a]]);return i};const Zt=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),rm=[502,503,504];async function Za(r){var t;if(!Uf(r))throw new lo(Zt(r),0);if(rm.includes(r.status))throw new lo(Zt(r),r.status);let i;try{i=await r.json()}catch(l){throw new wu(Zt(l),l)}let s;const a=Qf(r);if(a&&a.getTime()>=vu["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new Ua(Zt(i),r.status,((t=i.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Ct}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Ua(Zt(i),r.status,i.weak_password.reasons);throw new Xf(Zt(i),r.status||500,s)}const sm=(r,t,i,s)=>{const a={method:r,headers:t?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),i))};async function ae(r,t,i,s){var a;const l=Object.assign({},s?.headers);l[ao]||(l[ao]=vu["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(a=s?.query)!==null&&a!==void 0?a:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await om(r,t,i+d,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(f):{data:Object.assign({},f),error:null}}async function om(r,t,i,s,a,l){const c=sm(t,s,a,l);let d;try{d=await r(i,Object.assign({},c))}catch(f){throw console.error(f),new lo(Zt(f),0)}if(d.ok||await Za(d),s?.noResolveJson)return d;try{return await d.json()}catch(f){await Za(f)}}function $t(r){var t;let i=null;cm(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=zf(r.expires_in)));const s=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:i,user:s},error:null}}function Fa(r){const t=$t(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(t.data.weak_password=r.weak_password),t}function Et(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function am(r){return{data:r,error:null}}function lm(r){const{action_link:t,email_otp:i,hashed_token:s,redirect_to:a,verification_type:l}=r,c=im(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:i,hashed_token:s,redirect_to:a,verification_type:l},f=Object.assign({},c);return{data:{properties:d,user:f},error:null}}function um(r){return r}function cm(r){return r.access_token&&r.refresh_token&&r.expires_in}var hm=function(r,t){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(i[s[a]]=r[s[a]]);return i};class dm{constructor({url:t="",headers:i={},fetch:s}){this.url=t,this.headers=i,this.fetch=yu(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,i="global"){try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,i={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Et})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:i}=t,s=hm(t,["options"]),a=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(a.new_email=s?.newEmail,delete a.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:lm,redirectTo:i?.redirectTo})}catch(i){if(re(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Et})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async listUsers(t){var i,s,a,l,c,d,f;try{const p={nextPage:null,lastPage:0,total:0},g=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:um});if(g.error)throw g.error;const _=await g.json(),v=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(T=>{const b=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(T.split(";")[1].split("=")[1]);p[`${w}Page`]=b}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(re(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Et})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async updateUserById(t,i){try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:i,headers:this.headers,xform:Et})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,i=!1){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:i},xform:Et})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:i,error:s}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:s}}catch(i){if(re(i))return{data:null,error:i};throw i}}async _deleteFactor(t){try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}}const fm={getItem:r=>ri()?globalThis.localStorage.getItem(r):null,setItem:(r,t)=>{ri()&&globalThis.localStorage.setItem(r,t)},removeItem:r=>{ri()&&globalThis.localStorage.removeItem(r)}};function Wa(r={}){return{getItem:t=>r[t]||null,setItem:(t,i)=>{r[t]=i},removeItem:t=>{delete r[t]}}}function mm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mn={debug:!!(globalThis&&ri()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xu extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pm extends xu{}async function gm(r,t,i){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),mn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await i()}finally{mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(t===0)throw mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new pm(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(mn.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}mm();const _m={url:If,storageKey:Rf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Df,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Yn=30*1e3,Ha=3;async function Ga(r,t,i){return await i()}class ai{constructor(t){var i,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ai.nextInstanceID,ai.nextInstanceID+=1,this.instanceID>0&&lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},_m),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new dm({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=yu(a.fetch),this.lock=a.lock||Ga,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:lt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=gm:this.lock=Ga,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:ri()?this.storage=fm:(this.memoryStorage={},this.storage=Wa(this.memoryStorage)):(this.memoryStorage={},this.storage=Wa(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_u}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const i=Nf(window.location.href);let s="none";if(this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce"),lt()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:l}=await this._getSessionFromURL(i,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),nm(l)){const f=(t=l.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return re(i)?{error:i}:{error:new wu("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var i,s,a;try{const l=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=t?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:$t}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const f=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(l){if(re(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var i,s,a;try{let l;if("email"in t){const{email:g,password:_,options:v}=t;let x=null,T=null;this.flowType==="pkce"&&([x,T]=await fn(this.storage,this.storageKey)),l=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:g,password:_,data:(i=v?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:x,code_challenge_method:T},xform:$t})}else if("phone"in t){const{phone:g,password:_,options:v}=t;l=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:_,data:(s=v?.data)!==null&&s!==void 0?s:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:$t})}else throw new Hi("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const f=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(l){if(re(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let i;if("email"in t){const{email:l,password:c,options:d}=t;i=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Fa})}else if("phone"in t){const{phone:l,password:c,options:d}=t;i=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Fa})}else throw new Hi("You must provide either an email or phone number and a password");const{data:s,error:a}=i;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new qs}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(i){if(re(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(t){var i,s,a,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const i=await Fi(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(i??"").split("/");try{const{data:l,error:c}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:$t});if(await Wi(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new qs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(re(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:i,provider:s,token:a,access_token:l,nonce:c}=t,d=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:$t}),{data:f,error:p}=d;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new qs}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(i){if(re(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(t){var i,s,a,l,c;try{if("email"in t){const{email:d,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await fn(this.storage,this.storageKey));const{error:_}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in t){const{phone:d,options:f}=t,{data:p,error:g}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:g}}throw new Hi("You must provide either an email or phone number.")}catch(d){if(re(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var i,s;try{let a,l;"options"in t&&(a=(i=t.options)===null||i===void 0?void 0:i.redirectTo,l=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:d}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:$t});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,p=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(re(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var i,s,a;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await fn(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(i=t.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:am})}catch(l){if(re(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:i},error:s}=t;if(s)throw s;if(!i)throw new Ct;const{error:a}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(re(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const i=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:l}=t,{error:c}=await ae(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:s,type:a,options:l}=t,{data:c,error:d}=await ae(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new Hi("You must provide either an email or phone number and a type")}catch(i){if(re(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(t,i){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await t(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const i=await Fi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,p,g)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,g))})}return{data:{session:t},error:null}}const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Et}):await this._useSession(async i=>{var s,a,l;const{data:c,error:d}=i;if(d)throw d;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Et})})}catch(i){if(re(i))return tm(i)&&(await this._removeSession(),await Wi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(t,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,i))}async _updateUser(t,i={}){try{return await this._useSession(async s=>{const{data:a,error:l}=s;if(l)throw l;if(!a.session)throw new Ct;const c=a.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await fn(this.storage,this.storageKey));const{data:p,error:g}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:Et});if(g)throw g;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}_decodeJWT(t){return Ba(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ct;const i=Date.now()/1e3;let s=i,a=!0,l=null;const c=Ba(t.access_token);if(c.exp&&(s=c.exp,a=s<=i),a){const{session:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;l={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(i){if(re(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async i=>{var s;if(!t){const{data:c,error:d}=i;if(d)throw d;t=(s=c.session)!==null&&s!==void 0?s:void 0}if(!t?.refresh_token)throw new Ct;const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(re(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(t,i){try{if(!lt())throw new Gi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Na("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gi("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Na("No code detected.");const{data:S,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:d,expires_at:f,token_type:p}=t;if(!l||!d||!c||!p)throw new Gi("No session defined in URL");const g=Math.round(Date.now()/1e3),_=parseInt(d);let v=g+_;f&&(v=parseInt(f));const x=v-g;x*1e3<=Yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${_}s`);const T=v-_;g-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,v,g):g-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,v,g);const{data:b,error:w}=await this._getUser(l);if(w)throw w;const k={provider_token:s,provider_refresh_token:a,access_token:l,expires_in:_,expires_at:v,refresh_token:c,token_type:p,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(s){if(re(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const i=await Fi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&i)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:a,error:l}=i;if(l)return{error:l};const c=(s=a.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(em(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Wi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const i=Bf(),s={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async i=>{var s,a;try{const{data:{session:l},error:c}=i;if(c)throw c;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,i={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await fn(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(re(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=i.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}async linkIdentity(t){var i;try{const{data:s,error:a}=await this._useSession(async l=>{var c,d,f,p,g;const{data:_,error:v}=l;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",x,{headers:this.headers,jwt:(g=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return lt()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:t.provider,url:s?.url},error:null}}catch(s){if(re(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async i=>{var s,a;const{data:l,error:c}=i;if(c)throw c;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _refreshAccessToken(t){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await Wf(async a=>(a>0&&await Ff(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$t})),(a,l)=>{const c=200*Math.pow(2,a);return l&&js(l)&&Date.now()+c-s<Yn})}catch(s){if(this._debug(i,"error",s),re(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(i,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",i,"url",s),lt()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Fi(this.storage,this.storageKey);if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),l=((t=s.expires_at)!==null&&t!==void 0?t:1/0)<a+za;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${za}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),js(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var i,s;if(!t)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ar;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new Ct;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={session:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),re(l)){const c={session:null,error:l};return js(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,i,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,i)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await bu(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Wi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/Yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Yn}ms, refresh threshold is ${Ha} ticks`),a<=Ha&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof xu)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const i=`#_onVisibilityChanged(${t})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,i,s){const a=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await fn(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(d.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);a.push(l.toString())}return s?.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async i=>{var s;const{data:a,error:l}=i;return l?{data:null,error:l}:await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _enroll(t){try{return await this._useSession(async i=>{var s,a;const{data:l,error:c}=i;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:p}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:a,error:l}=i;if(l)return{data:null,error:l};const{data:c,error:d}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(i){if(re(i))return{data:null,error:i};throw i}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:a,error:l}=i;return l?{data:null,error:l}:await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(re(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(t){const{data:i,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:i.id,code:t.code})}async _listFactors(){const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const s=t?.factors||[],a=s.filter(c=>c.factor_type==="totp"&&c.status==="verified"),l=s.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:s,totp:a,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var i,s;const{data:{session:a},error:l}=t;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const c=this._decodeJWT(a.access_token);let d=null;c.aal&&(d=c.aal);let f=d;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(_=>_.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const g=c.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}}ai.nextInstanceID=0;const vm=ai;class ym extends vm{constructor(t){super(t)}}var bm=function(r,t,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function d(g){try{p(s.next(g))}catch(_){c(_)}}function f(g){try{p(s.throw(g))}catch(_){c(_)}}function p(g){g.done?l(g.value):a(g.value).then(d,f)}p((s=s.apply(r,t||[])).next())})};class wm{constructor(t,i,s){var a,l,c;if(this.supabaseUrl=t,this.supabaseKey=i,!t)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const d=qf(t);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p={db:Sf,realtime:Tf,auth:Object.assign(Object.assign({},Lf),{storageKey:f}),global:kf},g=jf(s??{},p);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(_,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=Ef(i,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new Hd(`${d}/rest/v1`,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new bd(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xf(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,i={},s={}){return this.rest.rpc(t,i,s)}channel(t,i={config:{}}){return this.realtime.channel(t,i)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,i;return bm(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(i=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:i,detectSessionInUrl:s,storage:a,storageKey:l,flowType:c,lock:d,debug:f},p,g){var _;const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ym({url:this.authUrl,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:t,persistSession:i,detectSessionInUrl:s,storage:a,flowType:c,lock:d,debug:f,fetch:g,hasCustomAuthorizationHeader:(_="Authorization"in this.headers)!==null&&_!==void 0?_:!1})}_initRealtimeClient(t){return new lf(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,s)=>{this._handleTokenChanged(i,"CLIENT",s?.access_token)})}_handleTokenChanged(t,i,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Au=(r,t,i)=>new wm(r,t,i);var Pu={},Pr={},Ne={},ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.areaConversion=ne.timeConversion=ne.distanceConversion=ne.altitudeKeys=ne.latitudeKeys=ne.longitudeKeys=ne.MAXLON=ne.MINLON=ne.MAXLAT=ne.MINLAT=ne.earthRadius=ne.sexagesimalPattern=void 0;var xm=/^([0-9]{1,3})\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)[']\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["]\s*)?([NEOSW]?)$/;ne.sexagesimalPattern=xm;var Am=6378137;ne.earthRadius=Am;var Pm=-90;ne.MINLAT=Pm;var km=90;ne.MAXLAT=km;var Sm=-180;ne.MINLON=Sm;var Lm=180;ne.MAXLON=Lm;var Tm=["lng","lon","longitude",0];ne.longitudeKeys=Tm;var Cm=["lat","latitude",1];ne.latitudeKeys=Cm;var $m=["alt","altitude","elevation","elev",2];ne.altitudeKeys=$m;var Om={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144};ne.distanceConversion=Om;var Em={m:60,h:3600,d:86400};ne.timeConversion=Em;var tt={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};ne.areaConversion=tt;tt.sqm=tt.m2;tt.sqkm=tt.km2;tt.sqft=tt.ft2;tt.sqyd=tt.yd2;tt.sqin=tt.in2;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.default=void 0;var Mm=function(t,i){return i.reduce(function(s,a){if(typeof t>"u"||t===null)throw new Error("'".concat(t,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(t,a)&&typeof a<"u"&&typeof s>"u"?(s=a,a):s},void 0)},qm=Mm;Vt.default=qm;var Sn={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.default=void 0;var jm=function(t){var i=t.toString().trim();return isNaN(parseFloat(i))?!1:parseFloat(i)===Number(i)},Im=jm;Jt.default=Im;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.default=void 0;var Rm=ne,Dm=function(t){return Rm.sexagesimalPattern.test(t.toString().trim())},zm=Dm;Yt.default=zm;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.default=void 0;var Bm=ne,Nm=function(t){var i=new RegExp(Bm.sexagesimalPattern).exec(t.toString().trim());if(typeof i>"u"||i===null)throw new Error("Given value is not in sexagesimal format");var s=Number(i[2])/60||0,a=Number(i[4])/3600||0,l=parseFloat(i[1])+s+a;return["S","W"].includes(i[7])?-l:l},Um=Nm;Qt.default=Um;var ci={},Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.default=void 0;var Is=ne,Rs=Zm(Vt);function Zm(r){return r.__esModule?r:{default:r}}function Ka(r,t){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),i.push.apply(i,s)}return i}function Fm(r){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Ka(Object(i),!0).forEach(function(s){Wm(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Ka(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}function Wm(r,t,i){return t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i,r}var Hm=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{longitude:Is.longitudeKeys,latitude:Is.latitudeKeys,altitude:Is.altitudeKeys},s=(0,Rs.default)(t,i.longitude),a=(0,Rs.default)(t,i.latitude),l=(0,Rs.default)(t,i.altitude);return Fm({latitude:a,longitude:s},l?{altitude:l}:{})},Gm=Hm;Ln.default=Gm;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});hi.default=void 0;var Km=Po(Jt),Vm=Po(Yt),Jm=Po(Qt),Va=ne;function Po(r){return r&&r.__esModule?r:{default:r}}var Ym=function r(t){return(0,Km.default)(t)?!(parseFloat(t)>Va.MAXLAT||t<Va.MINLAT):(0,Vm.default)(t)?r((0,Jm.default)(t)):!1},Qm=Ym;hi.default=Qm;var di={};Object.defineProperty(di,"__esModule",{value:!0});di.default=void 0;var Xm=ko(Jt),ep=ko(Yt),tp=ko(Qt),Ja=ne;function ko(r){return r&&r.__esModule?r:{default:r}}var np=function r(t){return(0,Xm.default)(t)?!(parseFloat(t)>Ja.MAXLON||t<Ja.MINLON):(0,ep.default)(t)?r((0,tp.default)(t)):!1},ip=np;di.default=ip;Object.defineProperty(ci,"__esModule",{value:!0});ci.default=void 0;var rp=So(Ln),Ya=So(hi),Qa=So(di);function So(r){return r&&r.__esModule?r:{default:r}}var sp=function(t){var i=(0,rp.default)(t),s=i.latitude,a=i.longitude;if(Array.isArray(t)&&t.length>=2)return(0,Qa.default)(t[0])&&(0,Ya.default)(t[1]);if(typeof s>"u"||typeof a>"u")return!1;var l=t[a],c=t[s];return!(typeof c>"u"||typeof l>"u"||(0,Ya.default)(c)===!1||(0,Qa.default)(l)===!1)},op=sp;ci.default=op;Object.defineProperty(Sn,"__esModule",{value:!0});Sn.default=void 0;var ap=fi(Jt),lp=fi(Yt),up=fi(Qt),Xa=fi(ci),cp=fi(Ln);function fi(r){return r&&r.__esModule?r:{default:r}}function el(r,t){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),i.push.apply(i,s)}return i}function Ds(r){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?el(Object(i),!0).forEach(function(s){uo(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):el(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}function uo(r,t,i){return t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i,r}var hp=function r(t){if((0,ap.default)(t))return Number(t);if((0,lp.default)(t))return(0,up.default)(t);if((0,Xa.default)(t)){var i=(0,cp.default)(t);return Array.isArray(t)?t.map(function(s,a){return[0,1].includes(a)?r(s):s}):Ds(Ds(Ds({},t),i.latitude&&uo({},i.latitude,r(t[i.latitude]))),i.longitude&&uo({},i.longitude,r(t[i.longitude])))}return Array.isArray(t)?t.map(function(s){return(0,Xa.default)(s)?r(s):s}):t},dp=hp;Sn.default=dp;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.default=void 0;var fp=ne,mp=ku(Vt),pp=ku(Sn);function ku(r){return r&&r.__esModule?r:{default:r}}var gp=function(t,i){var s=(0,mp.default)(t,fp.latitudeKeys);if(!(typeof s>"u"||s===null)){var a=t[s];return i===!0?a:(0,pp.default)(a)}},_p=gp;Ne.default=_p;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.default=void 0;var vp=ne,yp=Su(Vt),bp=Su(Sn);function Su(r){return r&&r.__esModule?r:{default:r}}var wp=function(t,i){var s=(0,yp.default)(t,vp.longitudeKeys);if(!(typeof s>"u"||s===null)){var a=t[s];return i===!0?a:(0,bp.default)(a)}},xp=wp;Ue.default=xp;var Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.default=void 0;var Ap=function(t){return t*Math.PI/180},Pp=Ap;Je.default=Pp;var At={};Object.defineProperty(At,"__esModule",{value:!0});At.default=void 0;var kp=function(t){return t*180/Math.PI},Sp=kp;At.default=Sp;Object.defineProperty(Pr,"__esModule",{value:!0});Pr.default=void 0;var Lp=kr(Ne),Tp=kr(Ue),zs=kr(Je),Bs=kr(At),tl=ne;function kr(r){return r&&r.__esModule?r:{default:r}}var Cp=function(t,i,s){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:6371e3,l=(0,Lp.default)(t),c=(0,Tp.default)(t),d=i/a,f=(0,zs.default)(s),p=(0,zs.default)(l),g=(0,zs.default)(c),_=Math.asin(Math.sin(p)*Math.cos(d)+Math.cos(p)*Math.sin(d)*Math.cos(f)),v=g+Math.atan2(Math.sin(f)*Math.sin(d)*Math.cos(p),Math.cos(d)-Math.sin(p)*Math.sin(_)),x=(0,Bs.default)(v);return(x<tl.MINLON||x>tl.MAXLON)&&(v=(v+3*Math.PI)%(2*Math.PI)-Math.PI,x=(0,Bs.default)(v)),{latitude:(0,Bs.default)(_),longitude:x}},$p=Cp;Pr.default=$p;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.default=void 0;var Op=ne,Ep=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",s=Op.areaConversion[i];if(s)return t*s;throw new Error("Invalid unit used for area conversion.")},Mp=Ep;Sr.default=Mp;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.default=void 0;var qp=ne,jp=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",s=qp.distanceConversion[i];if(s)return t*s;throw new Error("Invalid unit used for distance conversion.")},Ip=jp;Lr.default=Ip;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.default=void 0;var Ki=ne,Rp=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"kmh";switch(i){case"kmh":return t*Ki.timeConversion.h*Ki.distanceConversion.km;case"mph":return t*Ki.timeConversion.h*Ki.distanceConversion.mi;default:return t}},Dp=Rp;Tr.default=Dp;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.default=void 0;function nl(r,t){return Up(r)||Np(r,t)||Bp(r,t)||zp()}function zp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bp(r,t){if(r){if(typeof r=="string")return il(r,t);var i=Object.prototype.toString.call(r).slice(8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Array.from(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return il(r,t)}}function il(r,t){(t==null||t>r.length)&&(t=r.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=r[i];return s}function Np(r,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var i=[],s=!0,a=!1,l=void 0;try{for(var c=r[Symbol.iterator](),d;!(s=(d=c.next()).done)&&(i.push(d.value),!(t&&i.length===t));s=!0);}catch(f){a=!0,l=f}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw l}}return i}}function Up(r){if(Array.isArray(r))return r}var Zp=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,s=Math.pow(10,i);return Math.round(t*s)/s},Fp=function(t){var i=t.toString().split("."),s=nl(i,2),a=s[0],l=s[1],c=Math.abs(Number(a)),d=+("0."+(l||0))*60,f=d.toString().split("."),p=Math.floor(d),g=Zp(+("0."+(f[1]||0))*60).toString(),_=g.split("."),v=nl(_,2),x=v[0],T=v[1],b=T===void 0?"0":T;return c+" "+p.toString().padStart(2,"0")+"' "+x.padStart(2,"0")+"."+b.padEnd(1,"0")+'"'},Wp=Fp;Cr.default=Wp;var $r={},mi={},ct={},pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.default=void 0;var Hp=function(t){return t>1?1:t<-1?-1:t},Gp=Hp;pi.default=Gp;Object.defineProperty(ct,"__esModule",{value:!0});ct.default=void 0;var rl=Or(Ne),sl=Or(Ue),pn=Or(Je),Kp=Or(pi),Vp=ne;function Or(r){return r&&r.__esModule?r:{default:r}}var Jp=function(t,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;s=typeof s<"u"&&!isNaN(s)?s:1;var a=(0,rl.default)(t),l=(0,sl.default)(t),c=(0,rl.default)(i),d=(0,sl.default)(i),f=Math.acos((0,Kp.default)(Math.sin((0,pn.default)(c))*Math.sin((0,pn.default)(a))+Math.cos((0,pn.default)(c))*Math.cos((0,pn.default)(a))*Math.cos((0,pn.default)(l)-(0,pn.default)(d))))*Vp.earthRadius;return Math.round(f/s)*s},Yp=Jp;ct.default=Yp;Object.defineProperty(mi,"__esModule",{value:!0});mi.default=void 0;var ol=Qp(ct);function Qp(r){return r.__esModule?r:{default:r}}var Xp=function(t,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ol.default;return s=typeof s=="function"?s:ol.default,i.slice().sort(function(a,l){return s(t,a)-s(t,l)})},eg=Xp;mi.default=eg;Object.defineProperty($r,"__esModule",{value:!0});$r.default=void 0;var tg=ng(mi);function ng(r){return r.__esModule?r:{default:r}}var ig=function(t,i){return(0,tg.default)(t,i)[0]},rg=ig;$r.default=rg;var Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.default=void 0;var Ns=Lo(Je),sg=Lo(Ne),al=Lo(Ue),ll=ne;function Lo(r){return r&&r.__esModule?r:{default:r}}var og=function(t){var i=0;if(t.length>2){for(var s,a,l,c=0;c<t.length;c++){c===t.length-2?(s=t.length-2,a=t.length-1,l=0):c===t.length-1?(s=t.length-1,a=0,l=1):(s=c,a=c+1,l=c+2);var d=(0,al.default)(t[s]),f=(0,sg.default)(t[a]),p=(0,al.default)(t[l]);i+=((0,Ns.default)(p)-(0,Ns.default)(d))*Math.sin((0,Ns.default)(f))}i=i*ll.earthRadius*ll.earthRadius/2}return Math.abs(i)},ag=og;Er.default=ag;var gi={};Object.defineProperty(gi,"__esModule",{value:!0});gi.default=void 0;var lg=Lu(Ne),ug=Lu(Ue);function Lu(r){return r&&r.__esModule?r:{default:r}}var cg=function(t){if(Array.isArray(t)===!1||t.length===0)throw new Error("No points were given.");return t.reduce(function(i,s){var a=(0,lg.default)(s),l=(0,ug.default)(s);return{maxLat:Math.max(a,i.maxLat),minLat:Math.min(a,i.minLat),maxLng:Math.max(l,i.maxLng),minLng:Math.min(l,i.minLng)}},{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})},hg=cg;gi.default=hg;var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.default=void 0;var dg=qr(Ne),fg=qr(Ue),gn=qr(Je),Vi=qr(At),Qn=ne;function qr(r){return r&&r.__esModule?r:{default:r}}var mg=function(t,i){var s=(0,dg.default)(t),a=(0,fg.default)(t),l=(0,gn.default)(s),c=(0,gn.default)(a),d=i/Qn.earthRadius,f=l-d,p=l+d,g=(0,gn.default)(Qn.MAXLAT),_=(0,gn.default)(Qn.MINLAT),v=(0,gn.default)(Qn.MAXLON),x=(0,gn.default)(Qn.MINLON),T,b;if(f>_&&p<g){var w=Math.asin(Math.sin(d)/Math.cos(l));T=c-w,T<x&&(T+=Math.PI*2),b=c+w,b>v&&(b-=Math.PI*2)}else f=Math.max(f,_),p=Math.min(p,g),T=x,b=v;return[{latitude:(0,Vi.default)(f),longitude:(0,Vi.default)(T)},{latitude:(0,Vi.default)(p),longitude:(0,Vi.default)(b)}]},pg=mg;Mr.default=pg;var jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.default=void 0;var gg=Ir(Ne),_g=Ir(Ue),ul=Ir(Je),cl=Ir(At);function Ir(r){return r&&r.__esModule?r:{default:r}}var vg=function(t){if(Array.isArray(t)===!1||t.length===0)return!1;var i=t.length,s=t.reduce(function(d,f){var p=(0,ul.default)((0,gg.default)(f)),g=(0,ul.default)((0,_g.default)(f));return{X:d.X+Math.cos(p)*Math.cos(g),Y:d.Y+Math.cos(p)*Math.sin(g),Z:d.Z+Math.sin(p)}},{X:0,Y:0,Z:0}),a=s.X/i,l=s.Y/i,c=s.Z/i;return{longitude:(0,cl.default)(Math.atan2(l,a)),latitude:(0,cl.default)(Math.atan2(c,Math.sqrt(a*a+l*l)))}},yg=vg;jr.default=yg;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.default=void 0;var bg=wg(gi);function wg(r){return r.__esModule?r:{default:r}}var xg=function(t){var i=(0,bg.default)(t),s=i.minLat+(i.maxLat-i.minLat)/2,a=i.minLng+(i.maxLng-i.minLng)/2;return{latitude:parseFloat(s.toFixed(6)),longitude:parseFloat(a.toFixed(6))}},Ag=xg;Rr.default=Ag;var Dr={},_i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.default=void 0;var hl=zr(Ne),dl=zr(Ue),Ji=zr(Je),Pg=zr(At);function zr(r){return r&&r.__esModule?r:{default:r}}var kg=function(t,i){var s=(0,Ji.default)((0,dl.default)(i))-(0,Ji.default)((0,dl.default)(t)),a=Math.log(Math.tan((0,Ji.default)((0,hl.default)(i))/2+Math.PI/4)/Math.tan((0,Ji.default)((0,hl.default)(t))/2+Math.PI/4));return Math.abs(s)>Math.PI&&(s>0?s=(Math.PI*2-s)*-1:s=Math.PI*2+s),((0,Pg.default)(Math.atan2(s,a))+360)%360},Sg=kg;_i.default=Sg;Object.defineProperty(Dr,"__esModule",{value:!0});Dr.default=void 0;var fl=Lg(_i);function Lg(r){return r.__esModule?r:{default:r}}var Tg=function(t,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fl.default,a=typeof s=="function"?s(t,i):(0,fl.default)(t,i);if(isNaN(a))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(a/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},Cg=Tg;Dr.default=Cg;var vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.default=void 0;var Us=Tu(ct),ml=Tu(pi);function Tu(r){return r&&r.__esModule?r:{default:r}}var $g=function(t,i,s){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,l=(0,Us.default)(i,t,a),c=(0,Us.default)(t,s,a),d=(0,Us.default)(i,s,a),f=Math.acos((0,ml.default)((l*l+d*d-c*c)/(2*l*d))),p=Math.acos((0,ml.default)((c*c+d*d-l*l)/(2*c*d)));return f>Math.PI/2?l:p>Math.PI/2?c:Math.sin(f)*l},Og=$g;vi.default=Og;var Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.default=void 0;var pl=Nr(Ne),gl=Nr(Ue),pt=Nr(Je),Eg=Nr(At);function Nr(r){return r&&r.__esModule?r:{default:r}}var Mg=function(t,i){var s=(0,pl.default)(i),a=(0,gl.default)(i),l=(0,pl.default)(t),c=(0,gl.default)(t),d=((0,Eg.default)(Math.atan2(Math.sin((0,pt.default)(a)-(0,pt.default)(c))*Math.cos((0,pt.default)(s)),Math.cos((0,pt.default)(l))*Math.sin((0,pt.default)(s))-Math.sin((0,pt.default)(l))*Math.cos((0,pt.default)(s))*Math.cos((0,pt.default)(a)-(0,pt.default)(c))))+360)%360;return d},qg=Mg;Br.default=qg;var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.default=void 0;var jg=Ig(ct);function Ig(r){return r.__esModule?r:{default:r}}function ir(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ir=function(i){return typeof i}:ir=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ir(r)}var Rg=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jg.default;return t.reduce(function(s,a){return ir(s)==="object"&&s.last!==null&&(s.distance+=i(a,s.last)),s.last=a,s},{last:null,distance:0}).distance},Dg=Rg;Ur.default=Dg;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.default=void 0;var _l=To(Ne),vl=To(Ue),Zs=To(Je),yl=ne;function To(r){return r&&r.__esModule?r:{default:r}}var zg=function(t,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;s=typeof s<"u"&&!isNaN(s)?s:1;var a=(0,_l.default)(t),l=(0,vl.default)(t),c=(0,_l.default)(i),d=(0,vl.default)(i),f=6356752314245e-6,p=1/298.257223563,g=(0,Zs.default)(d-l),_,v,x,T,b,w,k=Math.atan((1-p)*Math.tan((0,Zs.default)(parseFloat(a)))),S=Math.atan((1-p)*Math.tan((0,Zs.default)(parseFloat(c)))),C=Math.sin(k),O=Math.cos(k),M=Math.sin(S),j=Math.cos(S),I=g,z,Z=100;do{var N=Math.sin(I),U=Math.cos(I);if(w=Math.sqrt(j*N*(j*N)+(O*M-C*j*U)*(O*M-C*j*U)),w===0)return 0;_=C*M+O*j*U,v=Math.atan2(w,_),x=O*j*N/w,T=1-x*x,b=_-2*C*M/T,isNaN(b)&&(b=0);var Q=p/16*T*(4+p*(4-3*T));z=I,I=g+(1-Q)*p*x*(v+Q*w*(b+Q*_*(-1+2*b*b)))}while(Math.abs(I-z)>1e-12&&--Z>0);if(Z===0)return NaN;var J=T*(yl.earthRadius*yl.earthRadius-f*f)/(f*f),K=1+J/16384*(4096+J*(-768+J*(320-175*J))),te=J/1024*(256+J*(-128+J*(74-47*J))),X=te*w*(b+te/4*(_*(-1+2*b*b)-te/6*b*(-3+4*w*w)*(-3+4*b*b))),fe=f*K*(v-X);return Math.round(fe/s)*s},Bg=zg;Zr.default=Bg;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.default=void 0;var Ng=function(t){if(/^(NNE|NE|NNW|N)$/.test(t))return"N";if(/^(ENE|E|ESE|SE)$/.test(t))return"E";if(/^(SSE|S|SSW|SW)$/.test(t))return"S";if(/^(WSW|W|WNW|NW)$/.test(t))return"W"},Ug=Ng;Fr.default=Ug;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.default=void 0;var Zg=Fg(ct);function Fg(r){return r.__esModule?r:{default:r}}var Wg=function(t,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zg.default,a=s(t,i),l=Number(i.time)-Number(t.time),c=a/l*1e3;return c},Hg=Wg;Wr.default=Hg;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.default=void 0;var Fs=Gg(ct);function Gg(r){return r.__esModule?r:{default:r}}var Kg=function(t,i,s){return(0,Fs.default)(i,t)+(0,Fs.default)(t,s)===(0,Fs.default)(i,s)},Vg=Kg;Hr.default=Vg;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.default=void 0;var Yi=Cu(Ne),Ve=Cu(Ue);function Cu(r){return r&&r.__esModule?r:{default:r}}var Jg=function(t,i){for(var s=!1,a=i.length,l=-1,c=a-1;++l<a;c=l)((0,Ve.default)(i[l])<=(0,Ve.default)(t)&&(0,Ve.default)(t)<(0,Ve.default)(i[c])||(0,Ve.default)(i[c])<=(0,Ve.default)(t)&&(0,Ve.default)(t)<(0,Ve.default)(i[l]))&&(0,Yi.default)(t)<((0,Yi.default)(i[c])-(0,Yi.default)(i[l]))*((0,Ve.default)(t)-(0,Ve.default)(i[l]))/((0,Ve.default)(i[c])-(0,Ve.default)(i[l]))+(0,Yi.default)(i[l])&&(s=!s);return s},Yg=Jg;Gr.default=Yg;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.default=void 0;var Qg=Xg(vi);function Xg(r){return r.__esModule?r:{default:r}}var e_=function(t,i,s,a){return(0,Qg.default)(t,i,s)<a},t_=e_;Kr.default=t_;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.default=void 0;var n_=i_(ct);function i_(r){return r.__esModule?r:{default:r}}var r_=function(t,i,s){var a=.01;return(0,n_.default)(t,i,a)<s},s_=r_;Vr.default=s_;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.default=void 0;function o_(r,t){return c_(r)||u_(r,t)||l_(r,t)||a_()}function a_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l_(r,t){if(r){if(typeof r=="string")return bl(r,t);var i=Object.prototype.toString.call(r).slice(8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Array.from(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return bl(r,t)}}function bl(r,t){(t==null||t>r.length)&&(t=r.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=r[i];return s}function u_(r,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var i=[],s=!0,a=!1,l=void 0;try{for(var c=r[Symbol.iterator](),d;!(s=(d=c.next()).done)&&(i.push(d.value),!(t&&i.length===t));s=!0);}catch(f){a=!0,l=f}finally{try{!s&&c.return!=null&&c.return()}finally{if(a)throw l}}return i}}function c_(r){if(Array.isArray(r))return r}var h_=function(t){if(!t.startsWith("POLYGON"))throw new Error("Invalid wkt.");var i=t.slice(t.indexOf("(")+2,t.indexOf(")")).split(", "),s=i.map(function(a){var l=a.split(" "),c=o_(l,2),d=c[0],f=c[1];return{longitude:parseFloat(d),latitude:parseFloat(f)}});return s},d_=h_;Jr.default=d_;(function(r){Object.defineProperty(r,"__esModule",{value:!0});var t={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(r,"computeDestinationPoint",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"convertArea",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"convertDistance",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"convertSpeed",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"decimalToSexagesimal",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"findNearest",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"getAreaOfPolygon",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"getBounds",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(r,"getBoundsOfDistance",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(r,"getCenter",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(r,"getCenterOfBounds",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(r,"getCompassDirection",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(r,"getCoordinateKey",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(r,"getCoordinateKeys",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(r,"getDistance",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(r,"getDistanceFromLine",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(r,"getGreatCircleBearing",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(r,"getLatitude",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(r,"getLongitude",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(r,"getPathLength",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(r,"getPreciseDistance",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(r,"getRhumbLineBearing",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(r,"getRoughCompassDirection",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(r,"getSpeed",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(r,"isDecimal",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(r,"isPointInLine",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(r,"isPointInPolygon",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(r,"isPointNearLine",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(r,"isPointWithinRadius",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(r,"isSexagesimal",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(r,"isValidCoordinate",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(r,"isValidLatitude",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(r,"isValidLongitude",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(r,"orderByDistance",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(r,"sexagesimalToDecimal",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(r,"toDecimal",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(r,"toRad",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(r,"toDeg",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(r,"wktToPolygon",{enumerable:!0,get:function(){return ge.default}});var i=q(Pr),s=q(Sr),a=q(Lr),l=q(Tr),c=q(Cr),d=q($r),f=q(Er),p=q(gi),g=q(Mr),_=q(jr),v=q(Rr),x=q(Dr),T=q(Vt),b=q(Ln),w=q(ct),k=q(vi),S=q(Br),C=q(Ne),O=q(Ue),M=q(Ur),j=q(Zr),I=q(_i),z=q(Fr),Z=q(Wr),N=q(Jt),U=q(Hr),Q=q(Gr),J=q(Kr),K=q(Vr),te=q(Yt),X=q(ci),fe=q(hi),W=q(di),Ee=q(mi),G=q(Qt),le=q(Sn),pe=q(Je),be=q(At),ge=q(Jr),oe=ne;Object.keys(oe).forEach(function(B){B==="default"||B==="__esModule"||Object.prototype.hasOwnProperty.call(t,B)||Object.defineProperty(r,B,{enumerable:!0,get:function(){return oe[B]}})});function q(B){return B&&B.__esModule?B:{default:B}}})(Pu);async function f_(r){const s="https://fr24api.flightradar24.com/api/live/flight-positions/full",l={Accept:"application/json",Authorization:"Bearer undefined","Accept-Version":"v1"};try{if(r===null)console.log("API nije pronaao granice zranog prostora");else{const c=await fetch(`${s}?bounds=${r}`,{method:"GET",headers:l});if(!c.ok){const f=await c.text();throw new Error(`Error ${c.status}: ${f}`)}const d=await c.json();if(d.length!==0)return d.data.map(p=>({lat:p.lat,lon:p.lon,alt:p.alt,call:p.callsign,brz:p.gspeed,modelA:p.type,livery:p.painted_as,registration:p.reg}))}}catch(c){throw console.error("Greka pri dohvaanju podataka o letovima:",c),c}}async function m_(r,t){const i=`https://api.open-meteo.com/v1/elevation?latitude=${r}&longitude=${t}`;try{if(r===null||t===null)return console.log("API nije uspio dohvatiti latitudu ili longitudu"),null;const s=await fetch(i);if(!s.ok){const l=await s.text();throw new Error(`Error ${s.status}: ${l}`)}const a=await s.json();return a!==null?a.elevation:(console.log("API nije pronaao podatke za elevaciju."),null)}catch(s){throw console.error("Greka pri dohvaanju podataka o elevaciji:",s),s}}const cr="/ZavrsniV2/assets/planefav-DkQTzJrY.png";var p_=Y('<img class="w-8 h-8 mr-2"alt=logo>'),g_=Y('<section class=bg-gray-900><div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><div class="w-full rounded-lg shadow border md:mt-0 sm:max-w-md xl:p-0 bg-gray-800 border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-xl font-bold leading-tight tracking-tight md:text-2xl text-white">Registracija</h1><form class="space-y-4 md:space-y-6"><div><label for=email class="block mb-2 text-sm font-medium text-white">E-mail</label><input type=email id=email class="border text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"placeholder=name@company.com required></div><div><label for=username class="block mb-2 text-sm font-medium text-white">Username</label><input type=text id=username class="border text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"placeholder=MyUsername123 required></div><div><label for=password class="block mb-2 text-sm font-medium text-white">Lozinka</label><input type=password id=password placeholder= class="border text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"required></div><div><label for=confirm-password class="block mb-2 text-sm font-medium text-white">Potvrdite lozinku</label><input type=password id=confirm-password placeholder= class="border text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"required></div><button type=submit class="w-full text-white focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center bg-primary-600 hover:bg-primary-700 focus:ring-primary-800"></button><p class="text-sm font-light text-gray-400">Ve imate raun? '),__=Y('<div class="text-red-500 text-sm">'),v_=Y('<div class="text-green-500 text-sm">Raun uspjeno registriran! Preusmjeravam na prijavu...');const[xe,gt]=F({email:"",username:"",password:"",confirmPassword:"",error:"",loading:!1,success:!1,userMeta:null});function y_(r){const t=nt();Ye();const i=async s=>{if(s.preventDefault(),gt({...xe(),loading:!0,error:"",success:!1}),xe().password!==xe().confirmPassword){gt({...xe(),error:"Lozinke se ne poklapaju!",loading:!1});return}try{const{data:a,error:l}=await Ce.auth.signUp({email:xe().email,password:xe().password,options:{data:{username:xe().username}}});l?gt({...xe(),error:`Greka prilikom registracije: ${l.message}`,loading:!1}):(console.log("Korisnik uspjeno registriran:",a.user),gt({...xe(),success:!0,loading:!1,userMeta:a.user?.user_metadata?.username}),t("/prijava"))}catch{gt({...xe(),error:"Dolo je do pogreke pri registraciji.",loading:!1})}};return(()=>{var s=g_(),a=s.firstChild,l=a.firstChild,c=l.firstChild,d=c.firstChild,f=d.nextSibling,p=f.firstChild,g=p.firstChild,_=g.nextSibling,v=p.nextSibling,x=v.firstChild,T=x.nextSibling,b=v.nextSibling,w=b.firstChild,k=w.nextSibling,S=b.nextSibling,C=S.firstChild,O=C.nextSibling,M=S.nextSibling,j=M.nextSibling;return j.firstChild,E(a,D(to,{href:"/",className:"flex items-center mb-6 text-2xl font-semibold text-white",get children(){return[(()=>{var I=p_();return $e(I,"src",cr),I})(),"Plane Spotter"]}}),l),f.addEventListener("submit",i),_.$$input=I=>gt({...xe(),email:I.target.value}),T.$$input=I=>gt({...xe(),username:I.target.value}),k.$$input=I=>gt({...xe(),password:I.target.value}),O.$$input=I=>gt({...xe(),confirmPassword:I.target.value}),E(f,(()=>{var I=de(()=>!!xe().error);return()=>I()&&(()=>{var z=__();return E(z,()=>xe().error),z})()})(),M),E(f,(()=>{var I=de(()=>!!xe().success);return()=>I()&&v_()})(),M),E(M,()=>xe().loading?"Registracija...":"Registracija"),E(j,D(to,{href:"/prijava",className:"font-medium hover:underline text-primary-500",children:"Prijavite se ovdje."}),null),ye(()=>M.disabled=xe().loading),ye(()=>_.value=xe().email),ye(()=>T.value=xe().username),ye(()=>k.value=xe().password),ye(()=>O.value=xe().confirmPassword),s})()}Be(["input"]);const b_="/ZavrsniV2/assets/bingo-By8HdSJr.mp3",w_="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAAJAAAPfAA8PDw8PDw8PDw8PFJSUlJSUlJSUlJSXFxcXFxcXFxcXFyBgYGBgYGBgYGBgba2tra2tra2tra20NDQ0NDQ0NDQ0NDj4+Pj4+Pj4+Pj4/Dw8PDw8PDw8PDw//////////////8AAABQTEFNRTMuMTAwBLkAAAAAAAAAABUgJAN7QQAB4AAAD3wjY5PZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//vQxAAACYwDcfQQACTDw2m3PbBRREZwAEl/LLJPhg+D7ww0HwfD6z+fDHKawfBAEHKAfgh/B8EHf/Lg+D4Pg+CAIO/iAEAxWD4Pg+CAIAgCAJg+D4Pg/1AmD4Pg/9IPg+dmgABQICBfQAgCCUAgmkCQAG9XqMgKmBcBwYEoHhgRAYygwFwPEQDAaCvMLAJgwBQEjHrI7EgQzRodMMAYD5kKgpiQE/JUJ2SqliTjUbDEcUkGcuC1puxhQK/MfXMauII90gWHz5BwOCVbi7yAZfKKo6TBcCUechmJiAe9rguurmGZpSyVQTQ5pTCALiEtvvqx46UOSbuYuTLa1Z2YRL71zN9oDjdjCtTZKUmTAE7q1LodlFeafLGta7lWf6DF65f//+AgGGb0m943J59ZLR65+X61v0C6n6//7v8iQLIgzm////fdbuS7LH68q//+lbWl3ld3zNO2W4YTMbZWteR9rcwz6slrlrd6vWyy3jjrLL//////////HWW98z5n3///////////+pr//7ySjFi/Ff2HYAAmnmCPkRNFql1Bp/gqAIbQzkqVdzDjEUoAW5iwSGAtiNCFGQXxMLR90MZTLnOlCIBYB0WTdv//1IQWQAQtP///5EA+Ck3Rf/9DjigilIm////NN////Ix4Kx3///yE4Nf/kd+WVAAqinhBgKPvwWxEgLkKcjS0TEyQYBLvGDgJGDoknNLFGGYAoKLXfhwH/pLcDRCcwkYx5DXZTBzQqgCx9erqsCzM0f+PCUBEMnI///9jhSD1t5z5rehzqaaaOjURQcllN//+j1YeGzt///XHSOr/g0JQ0t6AABddwAABj3U3BAiHY0qinMW6NgU9UDC4DnOdQQExKAEQcEMPAUF+2tvpBttgVbdmWo3KrTiQKGAScJGiRqJpYhAAFI4AH7tNcrl6mUl6kHQUCCRjE5MEMXw1lzXTCPBGOCS50Zfp7YepHLv55WE4UAMrVZmFIAABj7QAAAzi45D46Go7j4EDQx4BRJhAA8HApYy4sKTDA9IdMQJu4wDQgzAyC6pZxLzrLH0bd22tv2j+kuX7QFsnfhgD+R+flUgjksyr18sK8/tYoIGe3KgACsqoYP/7cMTYAAzBk039tQAB0qunvdQeXEATRiABfGAkBCYZIephHgaGGQGMGBEmBsAwYFQJhg+gjmCYAAYTYDhjTDIHPZQGYhwARg9hRmBmCAAgMSgEEwKQVTBNASMLwRYw0gMDCjFhMhsfEwujWjNCBBNBo1owMSSTH9E3MM8HMzRFjhiYBRRMXkkaLRkcwmSQeYKFBiYPGFAIKg0wuCWRO6yQvuYDAKXYUBRhYLBwURvV+tNZxgQMGJBIYYAifqWZgILGHAkHB8LAYwUAi5BgIOGNiQZQIxi4DAEMmNhMJBUaCZiYpGYjgZwAxq+DmTZQd6OxyyUGGkOZvGoKFRkw9GeC0Y0AwJBaZwKAYgDBjIgGPhgDhYlWxIwECA4IX0AQBWCAAQKMscMwOSYUzQUaYtACAC3kCsPf5QD/+yDE/IBIAFcprPjK6NCG5X2fYUVS+JLCPyxN6EhEwGyoKMJLbuMFAQOMGRXmNSHCJGgWA4CYMKHAxAAAwhrqRcDKBtnR4R8jLW4spg3jDH4pWBtsCACtKEtrRaNryKjkoru8iYgEZorYnQwstmgu0YtggAXQqdTduwAFGQBBUmYE//ugxPiACzRhI+17Ki+SPeMl7mqoMaAcIwpjASsKl60EiHkht/6affRnDiTMvgBrkyxCKw/HHcsVL1fHOYjFivflEOVoYnJXL4Aa5JnbeRlbL1GjCABGTKE5jiQ0AXwmpd6qKoWBBxGMxemQQEGJ5XAJmwcOLXQEDJgQA5fUwME0yDnY/d2gaxIIEUIA0VBYxtAEzgCMyzFA0xQY0MT00iQUwfXg5VtoyElElMtOBzzCvgGUwNAGSMC1AmDNcYDIZNTLITDCwWzEkmjGAMTCUNjCsEgIBBgCC5g0BpVAZm4WAVDrUehQ4MAJKcwKAFNUKgApaIQEMEQSDAKW2W9fCGwACpgqCQGBZJ8mAEEgAYIgIIgJMGgbMHABMDAFMBgBMGw2MTxEDBfMQh3MlihCt3GMfSmZCWmLQqg4IDEUSjD0DRQHzEoJS6gVAIwMAgwpAowdCgLgWpqEASGAECgFBgTgYMi/wWANpEFJ5FkS4KsDNdhUAlJRtMGo1xA8MApkiUZfFlS5pE9KVq2VMXqLjJFCIATBINSobhigMJhyDZgYDKFgNAAvktEuy4Cw0Oq3LWbq4vGlPel6807H2WoTlGSzq7EFmyIrPOoC1hFKD8k9UflDS7L2ICjAMAFRMpgWGlpGAYDA4BioBJhIEZgWMxiWXqMZgkAoFAFMJdTd0iX5pH6ZU/VqAWuw//vAxNOAPHXvHg7/sgK0vSh9wdbRY6zortjbEYIa9BMJpojORmJQ9nS0tBFo65U9DMCvs5UfYbBytrNWVFsiz5ggF5hcYwsPoQLAiBBJYiBS+9POTCAYCeiR2NGAwGZ0DQQWWW+gBiiKSVTd1esSaTRPrGHKpZqNV3dRFHQAY7F5uAEHABat5H1gz+yqljW8gMHBVLwzyGpNz/+Ic573agmTgmYGhQ0A0NAvkQ0NmFGTPIl44mytFS1tb7pvutzNkNRgggrUVyfIuRgNwCAwhISRumpAwMEHrTL5ubp2QQQQb6f//VzMuCbwMhhoPXKo7DT///////VmgyxkVzNS7rvL2DAAewCCGdF5VYGDcu8uynV2O2WfOhZycXGCnWXZH3YEIAhQVDADxjFEazCUDERU1l0vdKZ/7RifTbzxPoom55B6X6CdetqVZifWZEeJYCRtA10Wg1WBYiMkVSseVfWj61KSSSS60UW/0UUUazImiBEGIsTwiQGTSAW+h3hPQyRPJJJF4vGqPWyNaKKPWiklqSdJX/11mQSDgaYCMiYnS0rXr+v///9etqnRMisJQGmRQuGaF1VVmwAAKAFW7SquoC9oVAAsDbUFqZfYht/GdqAAEBmJhQeTfB9MdGEgCoM5MNR2f3hYKDJIrqTIrNk7ra36S+r+mgbkwLnBs6B+N4WyJUwWy2//T9VmQVRczpJp/1IMy3G6AmqDIwjodx4413XuvUyr7OilutSbVO6KVS1HUDybFc1KwYpBsHiyiHFYyOsmyVnRSW1S7f////TSEFhFzRAso5kJiZoAAL0BgjP95//c/7vm6isjEGqNy7XjDpugnOKAFDIN5gdp/mE+EsYIgDoCAeQApnOy16K37I/FcoZDt1m1pMeTVdSZdKuio2LqjoJgA66DQBBxqmeLy27r9BFST1OiilrRRpJIo1JPopJHSdKJUHsAhYGwonIipxMumrVIosr/+4DE7gCW7e077taW4oo9pzw+UWxJJKtJLRRapFHUklXvWi2iiipIhwfEPYrUtkVNUW6X/////9H5dLo1nZgWFAAA4EZCGRHvNP+j3LLbSbUFwwpmgALJmDAUGNo/nnnQnrArmFYFBQBVTLRXk/salFGAN+ccKzqIfNV3dmeGIAA/AAApC8uLi3ME1mlrllscWJLbC8X0iLAEnQaCsYAafBjzA6mCuAwBgNRIApNVUzu0dS4AIu3xqBEYIoOgj0iQtT2YmXiUAAD/A3yHkEG4GAjSfi5qPSvVahNJESLKIp7rvxB50AhgMGmEAMc5yQcv4PbZ+6COSjG7LKmfcqljfc6enldykqY/hdp+6wxr09jX////hhWUeWeUdAcAlhfywhAAAAAABJWPmqWmHaRKjUAMAKNfxOSufWImGAmNQGmemIYTkNBMBBogNAIAUQiwLiAIMoCiKFKgZaaoGLx8BgMCgCBMAwEheQIgWP/7YMTtAFU55zPvDnao9g1lPB6JbQoKBAcT+A0MQMFBcG2gKAYXMTRWJkNjFwDwTIfOBhMRABAMCQMAwIDwsYWySnK5fMEDRYnIQmIUgpDSR/d7Nl4yNi6Ymht//SsTRfLRASYK5AimTn/R/8gJYJ8ixRLhdMjNIu////5wRAqZBsAiMGf//+osLgIiARGqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7QMTxAEkAaynjeKtpTRBlPp/ABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//tQxPOAGeVfLfmqggAAAD/DgAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",x_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",A_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";var co={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(r,t){(function(i,s){s(t)})(We,function(i){var s="1.9.4";function a(e){var n,o,u,h;for(o=1,u=arguments.length;o<u;o++){h=arguments[o];for(n in h)e[n]=h[n]}return e}var l=Object.create||function(){function e(){}return function(n){return e.prototype=n,new e}}();function c(e,n){var o=Array.prototype.slice;if(e.bind)return e.bind.apply(e,o.call(arguments,1));var u=o.call(arguments,2);return function(){return e.apply(n,u.length?u.concat(o.call(arguments)):arguments)}}var d=0;function f(e){return"_leaflet_id"in e||(e._leaflet_id=++d),e._leaflet_id}function p(e,n,o){var u,h,m,y;return y=function(){u=!1,h&&(m.apply(o,h),h=!1)},m=function(){u?h=arguments:(e.apply(o,arguments),setTimeout(y,n),u=!0)},m}function g(e,n,o){var u=n[1],h=n[0],m=u-h;return e===u&&o?e:((e-h)%m+m)%m+h}function _(){return!1}function v(e,n){if(n===!1)return e;var o=Math.pow(10,n===void 0?6:n);return Math.round(e*o)/o}function x(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function T(e){return x(e).split(/\s+/)}function b(e,n){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?l(e.options):{});for(var o in n)e.options[o]=n[o];return e.options}function w(e,n,o){var u=[];for(var h in e)u.push(encodeURIComponent(o?h.toUpperCase():h)+"="+encodeURIComponent(e[h]));return(!n||n.indexOf("?")===-1?"?":"&")+u.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function S(e,n){return e.replace(k,function(o,u){var h=n[u];if(h===void 0)throw new Error("No value provided for variable "+o);return typeof h=="function"&&(h=h(n)),h})}var C=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function O(e,n){for(var o=0;o<e.length;o++)if(e[o]===n)return o;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var I=0;function z(e){var n=+new Date,o=Math.max(0,16-(n-I));return I=n+o,window.setTimeout(e,o)}var Z=window.requestAnimationFrame||j("RequestAnimationFrame")||z,N=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function U(e,n,o){if(o&&Z===z)e.call(n);else return Z.call(window,c(e,n))}function Q(e){e&&N.call(window,e)}var J={__proto__:null,extend:a,create:l,bind:c,get lastId(){return d},stamp:f,throttle:p,wrapNum:g,falseFn:_,formatNum:v,trim:x,splitWords:T,setOptions:b,getParamString:w,template:S,isArray:C,indexOf:O,emptyImageUrl:M,requestFn:Z,cancelFn:N,requestAnimFrame:U,cancelAnimFrame:Q};function K(){}K.extend=function(e){var n=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=n.__super__=this.prototype,u=l(o);u.constructor=n,n.prototype=u;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(n[h]=this[h]);return e.statics&&a(n,e.statics),e.includes&&(te(e.includes),a.apply(null,[u].concat(e.includes))),a(u,e),delete u.statics,delete u.includes,u.options&&(u.options=o.options?l(o.options):{},a(u.options,e.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,y=u._initHooks.length;m<y;m++)u._initHooks[m].call(this)}},n},K.include=function(e){var n=this.prototype.options;return a(this.prototype,e),e.options&&(this.prototype.options=n,this.mergeOptions(e.options)),this},K.mergeOptions=function(e){return a(this.prototype.options,e),this},K.addInitHook=function(e){var n=Array.prototype.slice.call(arguments,1),o=typeof e=="function"?e:function(){this[e].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function te(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=C(e)?e:[e];for(var n=0;n<e.length;n++)e[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(e,n,o){if(typeof e=="object")for(var u in e)this._on(u,e[u],n);else{e=T(e);for(var h=0,m=e.length;h<m;h++)this._on(e[h],n,o)}return this},off:function(e,n,o){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var u in e)this._off(u,e[u],n);else{e=T(e);for(var h=arguments.length===1,m=0,y=e.length;m<y;m++)h?this._off(e[m]):this._off(e[m],n,o)}return this},_on:function(e,n,o,u){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(e,n,o)===!1){o===this&&(o=void 0);var h={fn:n,ctx:o};u&&(h.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(h)}},_off:function(e,n,o){var u,h,m;if(this._events&&(u=this._events[e],!!u)){if(arguments.length===1){if(this._firingCount)for(h=0,m=u.length;h<m;h++)u[h].fn=_;delete this._events[e];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var y=this._listens(e,n,o);if(y!==!1){var A=u[y];this._firingCount&&(A.fn=_,this._events[e]=u=u.slice()),u.splice(y,1)}}},fire:function(e,n,o){if(!this.listens(e,o))return this;var u=a({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var h=this._events[e];if(h){this._firingCount=this._firingCount+1||1;for(var m=0,y=h.length;m<y;m++){var A=h[m],P=A.fn;A.once&&this.off(e,P,A.ctx),P.call(A.ctx||this,u)}this._firingCount--}}return o&&this._propagateEvent(u),this},listens:function(e,n,o,u){typeof e!="string"&&console.warn('"string" type argument expected');var h=n;typeof n!="function"&&(u=!!n,h=void 0,o=void 0);var m=this._events&&this._events[e];if(m&&m.length&&this._listens(e,h,o)!==!1)return!0;if(u){for(var y in this._eventParents)if(this._eventParents[y].listens(e,n,o,u))return!0}return!1},_listens:function(e,n,o){if(!this._events)return!1;var u=this._events[e]||[];if(!n)return!!u.length;o===this&&(o=void 0);for(var h=0,m=u.length;h<m;h++)if(u[h].fn===n&&u[h].ctx===o)return h;return!1},once:function(e,n,o){if(typeof e=="object")for(var u in e)this._on(u,e[u],n,!0);else{e=T(e);for(var h=0,m=e.length;h<m;h++)this._on(e[h],n,o,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[f(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[f(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,a({layer:e.target,propagatedFrom:e.target},e),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var fe=K.extend(X);function W(e,n,o){this.x=o?Math.round(e):e,this.y=o?Math.round(n):n}var Ee=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(e){return this.clone()._add(G(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(G(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new W(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new W(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ee(this.x),this.y=Ee(this.y),this},distanceTo:function(e){e=G(e);var n=e.x-this.x,o=e.y-this.y;return Math.sqrt(n*n+o*o)},equals:function(e){return e=G(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=G(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function G(e,n,o){return e instanceof W?e:C(e)?new W(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new W(e.x,e.y):new W(e,n,o)}function le(e,n){if(e)for(var o=n?[e,n]:e,u=0,h=o.length;u<h;u++)this.extend(o[u])}le.prototype={extend:function(e){var n,o;if(!e)return this;if(e instanceof W||typeof e[0]=="number"||"x"in e)n=o=G(e);else if(e=pe(e),n=e.min,o=e.max,!n||!o)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=o.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(e){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var n,o;return typeof e[0]=="number"||e instanceof W?e=G(e):e=pe(e),e instanceof le?(n=e.min,o=e.max):n=o=e,n.x>=this.min.x&&o.x<=this.max.x&&n.y>=this.min.y&&o.y<=this.max.y},intersects:function(e){e=pe(e);var n=this.min,o=this.max,u=e.min,h=e.max,m=h.x>=n.x&&u.x<=o.x,y=h.y>=n.y&&u.y<=o.y;return m&&y},overlaps:function(e){e=pe(e);var n=this.min,o=this.max,u=e.min,h=e.max,m=h.x>n.x&&u.x<o.x,y=h.y>n.y&&u.y<o.y;return m&&y},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var n=this.min,o=this.max,u=Math.abs(n.x-o.x)*e,h=Math.abs(n.y-o.y)*e;return pe(G(n.x-u,n.y-h),G(o.x+u,o.y+h))},equals:function(e){return e?(e=pe(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function pe(e,n){return!e||e instanceof le?e:new le(e,n)}function be(e,n){if(e)for(var o=n?[e,n]:e,u=0,h=o.length;u<h;u++)this.extend(o[u])}be.prototype={extend:function(e){var n=this._southWest,o=this._northEast,u,h;if(e instanceof oe)u=e,h=e;else if(e instanceof be){if(u=e._southWest,h=e._northEast,!u||!h)return this}else return e?this.extend(q(e)||ge(e)):this;return!n&&!o?(this._southWest=new oe(u.lat,u.lng),this._northEast=new oe(h.lat,h.lng)):(n.lat=Math.min(u.lat,n.lat),n.lng=Math.min(u.lng,n.lng),o.lat=Math.max(h.lat,o.lat),o.lng=Math.max(h.lng,o.lng)),this},pad:function(e){var n=this._southWest,o=this._northEast,u=Math.abs(n.lat-o.lat)*e,h=Math.abs(n.lng-o.lng)*e;return new be(new oe(n.lat-u,n.lng-h),new oe(o.lat+u,o.lng+h))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof oe||"lat"in e?e=q(e):e=ge(e);var n=this._southWest,o=this._northEast,u,h;return e instanceof be?(u=e.getSouthWest(),h=e.getNorthEast()):u=h=e,u.lat>=n.lat&&h.lat<=o.lat&&u.lng>=n.lng&&h.lng<=o.lng},intersects:function(e){e=ge(e);var n=this._southWest,o=this._northEast,u=e.getSouthWest(),h=e.getNorthEast(),m=h.lat>=n.lat&&u.lat<=o.lat,y=h.lng>=n.lng&&u.lng<=o.lng;return m&&y},overlaps:function(e){e=ge(e);var n=this._southWest,o=this._northEast,u=e.getSouthWest(),h=e.getNorthEast(),m=h.lat>n.lat&&u.lat<o.lat,y=h.lng>n.lng&&u.lng<o.lng;return m&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,n){return e?(e=ge(e),this._southWest.equals(e.getSouthWest(),n)&&this._northEast.equals(e.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ge(e,n){return e instanceof be?e:new be(e,n)}function oe(e,n,o){if(isNaN(e)||isNaN(n))throw new Error("Invalid LatLng object: ("+e+", "+n+")");this.lat=+e,this.lng=+n,o!==void 0&&(this.alt=+o)}oe.prototype={equals:function(e,n){if(!e)return!1;e=q(e);var o=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return o<=(n===void 0?1e-9:n)},toString:function(e){return"LatLng("+v(this.lat,e)+", "+v(this.lng,e)+")"},distanceTo:function(e){return qe.distance(this,q(e))},wrap:function(){return qe.wrapLatLng(this)},toBounds:function(e){var n=180*e/40075017,o=n/Math.cos(Math.PI/180*this.lat);return ge([this.lat-n,this.lng-o],[this.lat+n,this.lng+o])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function q(e,n,o){return e instanceof oe?e:C(e)&&typeof e[0]!="object"?e.length===3?new oe(e[0],e[1],e[2]):e.length===2?new oe(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new oe(e.lat,"lng"in e?e.lng:e.lon,e.alt):n===void 0?null:new oe(e,n,o)}var B={latLngToPoint:function(e,n){var o=this.projection.project(e),u=this.scale(n);return this.transformation._transform(o,u)},pointToLatLng:function(e,n){var o=this.scale(n),u=this.transformation.untransform(e,o);return this.projection.unproject(u)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var n=this.projection.bounds,o=this.scale(e),u=this.transformation.transform(n.min,o),h=this.transformation.transform(n.max,o);return new le(u,h)},infinite:!1,wrapLatLng:function(e){var n=this.wrapLng?g(e.lng,this.wrapLng,!0):e.lng,o=this.wrapLat?g(e.lat,this.wrapLat,!0):e.lat,u=e.alt;return new oe(o,n,u)},wrapLatLngBounds:function(e){var n=e.getCenter(),o=this.wrapLatLng(n),u=n.lat-o.lat,h=n.lng-o.lng;if(u===0&&h===0)return e;var m=e.getSouthWest(),y=e.getNorthEast(),A=new oe(m.lat-u,m.lng-h),P=new oe(y.lat-u,y.lng-h);return new be(A,P)}},qe=a({},B,{wrapLng:[-180,180],R:6371e3,distance:function(e,n){var o=Math.PI/180,u=e.lat*o,h=n.lat*o,m=Math.sin((n.lat-e.lat)*o/2),y=Math.sin((n.lng-e.lng)*o/2),A=m*m+Math.cos(u)*Math.cos(h)*y*y,P=2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A));return this.R*P}}),Pt=6378137,Xt={R:Pt,MAX_LATITUDE:85.0511287798,project:function(e){var n=Math.PI/180,o=this.MAX_LATITUDE,u=Math.max(Math.min(o,e.lat),-o),h=Math.sin(u*n);return new W(this.R*e.lng*n,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(e){var n=180/Math.PI;return new oe((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*n,e.x*n/this.R)},bounds:function(){var e=Pt*Math.PI;return new le([-e,-e],[e,e])}()};function kt(e,n,o,u){if(C(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=n,this._c=o,this._d=u}kt.prototype={transform:function(e,n){return this._transform(e.clone(),n)},_transform:function(e,n){return n=n||1,e.x=n*(this._a*e.x+this._b),e.y=n*(this._c*e.y+this._d),e},untransform:function(e,n){return n=n||1,new W((e.x/n-this._b)/this._a,(e.y/n-this._d)/this._c)}};function it(e,n,o,u){return new kt(e,n,o,u)}var St=a({},qe,{code:"EPSG:3857",projection:Xt,transformation:function(){var e=.5/(Math.PI*Xt.R);return it(e,.5,-e,.5)}()}),Mt=a({},St,{code:"EPSG:900913"});function Tn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Cn(e,n){var o="",u,h,m,y,A,P;for(u=0,m=e.length;u<m;u++){for(A=e[u],h=0,y=A.length;h<y;h++)P=A[h],o+=(h?"L":"M")+P.x+" "+P.y;o+=n?H.svg?"z":"x":""}return o||"M0 0"}var $n=document.documentElement.style,qt="ActiveXObject"in window,yi=qt&&!document.addEventListener,On="msLaunchUri"in navigator&&!("documentMode"in document),En=rt("webkit"),Mn=rt("android"),bi=rt("android 2")||rt("android 3"),wi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Yr=Mn&&rt("Google")&&wi<537&&!("AudioNode"in window),en=!!window.opera,qn=!On&&rt("chrome"),jn=rt("gecko")&&!En&&!en&&!qt,xi=!qn&&rt("safari"),Ai=rt("phantom"),Pi="OTransition"in $n,Qr=navigator.platform.indexOf("Win")===0,jt=qt&&"transition"in $n,In="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!bi,It="MozPerspective"in $n,Xr=!window.L_DISABLE_3D&&(jt||In||It)&&!Pi&&!Ai,Rn=typeof orientation<"u"||rt("mobile"),Iu=Rn&&En,Ru=Rn&&In,Co=!window.PointerEvent&&window.MSPointerEvent,$o=!!(window.PointerEvent||Co),Oo="ontouchstart"in window||!!window.TouchEvent,Du=!window.L_NO_TOUCH&&(Oo||$o),zu=Rn&&en,Bu=Rn&&jn,Nu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Uu=function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",_,n),window.removeEventListener("testPassiveEventSupport",_,n)}catch{}return e}(),Zu=function(){return!!document.createElement("canvas").getContext}(),es=!!(document.createElementNS&&Tn("svg").createSVGRect),Fu=!!es&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Wu=!es&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var n=e.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),Hu=navigator.platform.indexOf("Mac")===0,Gu=navigator.platform.indexOf("Linux")===0;function rt(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var H={ie:qt,ielt9:yi,edge:On,webkit:En,android:Mn,android23:bi,androidStock:Yr,opera:en,chrome:qn,gecko:jn,safari:xi,phantom:Ai,opera12:Pi,win:Qr,ie3d:jt,webkit3d:In,gecko3d:It,any3d:Xr,mobile:Rn,mobileWebkit:Iu,mobileWebkit3d:Ru,msPointer:Co,pointer:$o,touch:Du,touchNative:Oo,mobileOpera:zu,mobileGecko:Bu,retina:Nu,passiveEvents:Uu,canvas:Zu,svg:es,vml:Wu,inlineSvg:Fu,mac:Hu,linux:Gu},Eo=H.msPointer?"MSPointerDown":"pointerdown",Mo=H.msPointer?"MSPointerMove":"pointermove",qo=H.msPointer?"MSPointerUp":"pointerup",jo=H.msPointer?"MSPointerCancel":"pointercancel",ts={touchstart:Eo,touchmove:Mo,touchend:qo,touchcancel:jo},Io={touchstart:Xu,touchmove:ki,touchend:ki,touchcancel:ki},tn={},Ro=!1;function Ku(e,n,o){return n==="touchstart"&&Qu(),Io[n]?(o=Io[n].bind(this,o),e.addEventListener(ts[n],o,!1),o):(console.warn("wrong event specified:",n),_)}function Vu(e,n,o){if(!ts[n]){console.warn("wrong event specified:",n);return}e.removeEventListener(ts[n],o,!1)}function Ju(e){tn[e.pointerId]=e}function Yu(e){tn[e.pointerId]&&(tn[e.pointerId]=e)}function Do(e){delete tn[e.pointerId]}function Qu(){Ro||(document.addEventListener(Eo,Ju,!0),document.addEventListener(Mo,Yu,!0),document.addEventListener(qo,Do,!0),document.addEventListener(jo,Do,!0),Ro=!0)}function ki(e,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var o in tn)n.touches.push(tn[o]);n.changedTouches=[n],e(n)}}function Xu(e,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&Te(n),ki(e,n)}function ec(e){var n={},o,u;for(u in e)o=e[u],n[u]=o&&o.bind?o.bind(e):o;return e=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var tc=200;function nc(e,n){e.addEventListener("dblclick",n);var o=0,u;function h(m){if(m.detail!==1){u=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var y=Zo(m);if(!(y.some(function(P){return P instanceof HTMLLabelElement&&P.attributes.for})&&!y.some(function(P){return P instanceof HTMLInputElement||P instanceof HTMLSelectElement}))){var A=Date.now();A-o<=tc?(u++,u===2&&n(ec(m))):u=1,o=A}}}return e.addEventListener("click",h),{dblclick:n,simDblclick:h}}function ic(e,n){e.removeEventListener("dblclick",n.dblclick),e.removeEventListener("click",n.simDblclick)}var ns=Ti(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Dn=Ti(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zo=Dn==="webkitTransition"||Dn==="OTransition"?Dn+"End":"transitionend";function Bo(e){return typeof e=="string"?document.getElementById(e):e}function zn(e,n){var o=e.style[n]||e.currentStyle&&e.currentStyle[n];if((!o||o==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(e,null);o=u?u[n]:null}return o==="auto"?null:o}function ce(e,n,o){var u=document.createElement(e);return u.className=n||"",o&&o.appendChild(u),u}function we(e){var n=e.parentNode;n&&n.removeChild(e)}function Si(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function nn(e){var n=e.parentNode;n&&n.lastChild!==e&&n.appendChild(e)}function rn(e){var n=e.parentNode;n&&n.firstChild!==e&&n.insertBefore(e,n.firstChild)}function is(e,n){if(e.classList!==void 0)return e.classList.contains(n);var o=Li(e);return o.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(o)}function ie(e,n){if(e.classList!==void 0)for(var o=T(n),u=0,h=o.length;u<h;u++)e.classList.add(o[u]);else if(!is(e,n)){var m=Li(e);rs(e,(m?m+" ":"")+n)}}function Ae(e,n){e.classList!==void 0?e.classList.remove(n):rs(e,x((" "+Li(e)+" ").replace(" "+n+" "," ")))}function rs(e,n){e.className.baseVal===void 0?e.className=n:e.className.baseVal=n}function Li(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function He(e,n){"opacity"in e.style?e.style.opacity=n:"filter"in e.style&&rc(e,n)}function rc(e,n){var o=!1,u="DXImageTransform.Microsoft.Alpha";try{o=e.filters.item(u)}catch{if(n===1)return}n=Math.round(n*100),o?(o.Enabled=n!==100,o.Opacity=n):e.style.filter+=" progid:"+u+"(opacity="+n+")"}function Ti(e){for(var n=document.documentElement.style,o=0;o<e.length;o++)if(e[o]in n)return e[o];return!1}function Rt(e,n,o){var u=n||new W(0,0);e.style[ns]=(H.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(o?" scale("+o+")":"")}function Pe(e,n){e._leaflet_pos=n,H.any3d?Rt(e,n):(e.style.left=n.x+"px",e.style.top=n.y+"px")}function Dt(e){return e._leaflet_pos||new W(0,0)}var Bn,Nn,ss;if("onselectstart"in document)Bn=function(){ee(window,"selectstart",Te)},Nn=function(){_e(window,"selectstart",Te)};else{var Un=Ti(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Bn=function(){if(Un){var e=document.documentElement.style;ss=e[Un],e[Un]="none"}},Nn=function(){Un&&(document.documentElement.style[Un]=ss,ss=void 0)}}function os(){ee(window,"dragstart",Te)}function as(){_e(window,"dragstart",Te)}var Ci,ls;function us(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&($i(),Ci=e,ls=e.style.outlineStyle,e.style.outlineStyle="none",ee(window,"keydown",$i))}function $i(){Ci&&(Ci.style.outlineStyle=ls,Ci=void 0,ls=void 0,_e(window,"keydown",$i))}function No(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function cs(e){var n=e.getBoundingClientRect();return{x:n.width/e.offsetWidth||1,y:n.height/e.offsetHeight||1,boundingClientRect:n}}var sc={__proto__:null,TRANSFORM:ns,TRANSITION:Dn,TRANSITION_END:zo,get:Bo,getStyle:zn,create:ce,remove:we,empty:Si,toFront:nn,toBack:rn,hasClass:is,addClass:ie,removeClass:Ae,setClass:rs,getClass:Li,setOpacity:He,testProp:Ti,setTransform:Rt,setPosition:Pe,getPosition:Dt,get disableTextSelection(){return Bn},get enableTextSelection(){return Nn},disableImageDrag:os,enableImageDrag:as,preventOutline:us,restoreOutline:$i,getSizedParentNode:No,getScale:cs};function ee(e,n,o,u){if(n&&typeof n=="object")for(var h in n)ds(e,h,n[h],o);else{n=T(n);for(var m=0,y=n.length;m<y;m++)ds(e,n[m],o,u)}return this}var st="_leaflet_events";function _e(e,n,o,u){if(arguments.length===1)Uo(e),delete e[st];else if(n&&typeof n=="object")for(var h in n)fs(e,h,n[h],o);else if(n=T(n),arguments.length===2)Uo(e,function(A){return O(n,A)!==-1});else for(var m=0,y=n.length;m<y;m++)fs(e,n[m],o,u);return this}function Uo(e,n){for(var o in e[st]){var u=o.split(/\d/)[0];(!n||n(u))&&fs(e,u,null,null,o)}}var hs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ds(e,n,o,u){var h=n+f(o)+(u?"_"+f(u):"");if(e[st]&&e[st][h])return this;var m=function(A){return o.call(u||e,A||window.event)},y=m;!H.touchNative&&H.pointer&&n.indexOf("touch")===0?m=Ku(e,n,m):H.touch&&n==="dblclick"?m=nc(e,m):"addEventListener"in e?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?e.addEventListener(hs[n]||n,m,H.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(m=function(A){A=A||window.event,ps(e,A)&&y(A)},e.addEventListener(hs[n],m,!1)):e.addEventListener(n,y,!1):e.attachEvent("on"+n,m),e[st]=e[st]||{},e[st][h]=m}function fs(e,n,o,u,h){h=h||n+f(o)+(u?"_"+f(u):"");var m=e[st]&&e[st][h];if(!m)return this;!H.touchNative&&H.pointer&&n.indexOf("touch")===0?Vu(e,n,m):H.touch&&n==="dblclick"?ic(e,m):"removeEventListener"in e?e.removeEventListener(hs[n]||n,m,!1):e.detachEvent("on"+n,m),e[st][h]=null}function zt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function ms(e){return ds(e,"wheel",zt),this}function Zn(e){return ee(e,"mousedown touchstart dblclick contextmenu",zt),e._leaflet_disable_click=!0,this}function Te(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Bt(e){return Te(e),zt(e),this}function Zo(e){if(e.composedPath)return e.composedPath();for(var n=[],o=e.target;o;)n.push(o),o=o.parentNode;return n}function Fo(e,n){if(!n)return new W(e.clientX,e.clientY);var o=cs(n),u=o.boundingClientRect;return new W((e.clientX-u.left)/o.x-n.clientLeft,(e.clientY-u.top)/o.y-n.clientTop)}var oc=H.linux&&H.chrome?window.devicePixelRatio:H.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Wo(e){return H.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/oc:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function ps(e,n){var o=n.relatedTarget;if(!o)return!0;try{for(;o&&o!==e;)o=o.parentNode}catch{return!1}return o!==e}var ac={__proto__:null,on:ee,off:_e,stopPropagation:zt,disableScrollPropagation:ms,disableClickPropagation:Zn,preventDefault:Te,stop:Bt,getPropagationPath:Zo,getMousePosition:Fo,getWheelDelta:Wo,isExternalTarget:ps,addListener:ee,removeListener:_e},Ho=fe.extend({run:function(e,n,o,u){this.stop(),this._el=e,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=Dt(e),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(e){var n=+new Date-this._startTime,o=this._duration*1e3;n<o?this._runFrame(this._easeOut(n/o),e):(this._runFrame(1),this._complete())},_runFrame:function(e,n){var o=this._startPos.add(this._offset.multiplyBy(e));n&&o._round(),Pe(this._el,o),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),ue=fe.extend({options:{crs:St,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,n){n=b(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(q(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Dn&&H.any3d&&!H.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ee(this._proxy,zo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,o){if(n=n===void 0?this._zoom:this._limitZoom(n),e=this._limitCenter(q(e),n,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=a({animate:o.animate},o.zoom),o.pan=a({animate:o.animate,duration:o.duration},o.pan));var u=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,o.zoom):this._tryAnimatedPan(e,o.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(e,n,o.pan&&o.pan.noMoveStart),this},setZoom:function(e,n){return this._loaded?this.setView(this.getCenter(),e,{zoom:n}):(this._zoom=e,this)},zoomIn:function(e,n){return e=e||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,n)},zoomOut:function(e,n){return e=e||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,n)},setZoomAround:function(e,n,o){var u=this.getZoomScale(n),h=this.getSize().divideBy(2),m=e instanceof W?e:this.latLngToContainerPoint(e),y=m.subtract(h).multiplyBy(1-1/u),A=this.containerPointToLatLng(h.add(y));return this.setView(A,n,{zoom:o})},_getBoundsCenterZoom:function(e,n){n=n||{},e=e.getBounds?e.getBounds():ge(e);var o=G(n.paddingTopLeft||n.padding||[0,0]),u=G(n.paddingBottomRight||n.padding||[0,0]),h=this.getBoundsZoom(e,!1,o.add(u));if(h=typeof n.maxZoom=="number"?Math.min(n.maxZoom,h):h,h===1/0)return{center:e.getCenter(),zoom:h};var m=u.subtract(o).divideBy(2),y=this.project(e.getSouthWest(),h),A=this.project(e.getNorthEast(),h),P=this.unproject(y.add(A).divideBy(2).add(m),h);return{center:P,zoom:h}},fitBounds:function(e,n){if(e=ge(e),!e.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(e,n);return this.setView(o.center,o.zoom,n)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,n){return this.setView(e,this._zoom,{pan:n})},panBy:function(e,n){if(e=G(e).round(),n=n||{},!e.x&&!e.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ho,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){ie(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,o,n.duration||.25,n.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,n,o){if(o=o||{},o.animate===!1||!H.any3d)return this.setView(e,n,o);this._stop();var u=this.project(this.getCenter()),h=this.project(e),m=this.getSize(),y=this._zoom;e=q(e),n=n===void 0?y:n;var A=Math.max(m.x,m.y),P=A*this.getZoomScale(y,n),$=h.distanceTo(u)||1,R=1.42,V=R*R;function se(ke){var Ui=ke?-1:1,Vc=ke?P:A,Jc=P*P-A*A+Ui*V*V*$*$,Yc=2*Vc*V*$,Ss=Jc/Yc,Sa=Math.sqrt(Ss*Ss+1)-Ss,Qc=Sa<1e-9?-18:Math.log(Sa);return Qc}function Me(ke){return(Math.exp(ke)-Math.exp(-ke))/2}function Se(ke){return(Math.exp(ke)+Math.exp(-ke))/2}function Ke(ke){return Me(ke)/Se(ke)}var je=se(0);function cn(ke){return A*(Se(je)/Se(je+R*ke))}function Wc(ke){return A*(Se(je)*Ke(je+R*ke)-Me(je))/V}function Hc(ke){return 1-Math.pow(1-ke,1.5)}var Gc=Date.now(),Pa=(se(1)-je)/R,Kc=o.duration?1e3*o.duration:1e3*Pa*.8;function ka(){var ke=(Date.now()-Gc)/Kc,Ui=Hc(ke)*Pa;ke<=1?(this._flyToFrame=U(ka,this),this._move(this.unproject(u.add(h.subtract(u).multiplyBy(Wc(Ui)/$)),y),this.getScaleZoom(A/cn(Ui),y),{flyTo:!0})):this._move(e,n)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),ka.call(this),this},flyToBounds:function(e,n){var o=this._getBoundsCenterZoom(e,n);return this.flyTo(o.center,o.zoom,n)},setMaxBounds:function(e){return e=ge(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var n=this.options.minZoom;return this.options.minZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var n=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,n){this._enforcingBounds=!0;var o=this.getCenter(),u=this._limitCenter(o,this._zoom,ge(e));return o.equals(u)||this.panTo(u,n),this._enforcingBounds=!1,this},panInside:function(e,n){n=n||{};var o=G(n.paddingTopLeft||n.padding||[0,0]),u=G(n.paddingBottomRight||n.padding||[0,0]),h=this.project(this.getCenter()),m=this.project(e),y=this.getPixelBounds(),A=pe([y.min.add(o),y.max.subtract(u)]),P=A.getSize();if(!A.contains(m)){this._enforcingBounds=!0;var $=m.subtract(A.getCenter()),R=A.extend(m).getSize().subtract(P);h.x+=$.x<0?-R.x:R.x,h.y+=$.y<0?-R.y:R.y,this.panTo(this.unproject(h),n),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=a({animate:!1,pan:!0},e===!0?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),u=n.divideBy(2).round(),h=o.divideBy(2).round(),m=u.subtract(h);return!m.x&&!m.y?this:(e.animate&&e.pan?this.panBy(m):(e.pan&&this._rawPanBy(m),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=a({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=c(this._handleGeolocationResponse,this),o=c(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,e):navigator.geolocation.getCurrentPosition(n,o,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var n=e.code,o=e.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var n=e.coords.latitude,o=e.coords.longitude,u=new oe(n,o),h=u.toBounds(e.coords.accuracy*2),m=this._locateOptions;if(m.setView){var y=this.getBoundsZoom(h);this.setView(u,m.maxZoom?Math.min(y,m.maxZoom):y)}var A={latlng:u,bounds:h,timestamp:e.timestamp};for(var P in e.coords)typeof e.coords[P]=="number"&&(A[P]=e.coords[P]);this.fire("locationfound",A)}},addHandler:function(e,n){if(!n)return this;var o=this[e]=new n(this);return this._handlers.push(o),this.options[e]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),we(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)we(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,n){var o="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),u=ce("div",o,n||this._mapPane);return e&&(this._panes[e]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),n=this.unproject(e.getBottomLeft()),o=this.unproject(e.getTopRight());return new be(n,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,n,o){e=ge(e),o=G(o||[0,0]);var u=this.getZoom()||0,h=this.getMinZoom(),m=this.getMaxZoom(),y=e.getNorthWest(),A=e.getSouthEast(),P=this.getSize().subtract(o),$=pe(this.project(A,u),this.project(y,u)).getSize(),R=H.any3d?this.options.zoomSnap:1,V=P.x/$.x,se=P.y/$.y,Me=n?Math.max(V,se):Math.min(V,se);return u=this.getScaleZoom(Me,u),R&&(u=Math.round(u/(R/100))*(R/100),u=n?Math.ceil(u/R)*R:Math.floor(u/R)*R),Math.max(h,Math.min(m,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,n){var o=this._getTopLeftPoint(e,n);return new le(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,n){var o=this.options.crs;return n=n===void 0?this._zoom:n,o.scale(e)/o.scale(n)},getScaleZoom:function(e,n){var o=this.options.crs;n=n===void 0?this._zoom:n;var u=o.zoom(e*o.scale(n));return isNaN(u)?1/0:u},project:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(q(e),n)},unproject:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(G(e),n)},layerPointToLatLng:function(e){var n=G(e).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(e){var n=this.project(q(e))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(q(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ge(e))},distance:function(e,n){return this.options.crs.distance(q(e),q(n))},containerPointToLayerPoint:function(e){return G(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return G(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var n=this.containerPointToLayerPoint(G(e));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(e)))},mouseEventToContainerPoint:function(e){return Fo(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var n=this._container=Bo(e);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ee(n,"scroll",this._onScroll,this),this._containerId=f(n)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&H.any3d,ie(e,"leaflet-container"+(H.touch?" leaflet-touch":"")+(H.retina?" leaflet-retina":"")+(H.ielt9?" leaflet-oldie":"")+(H.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=zn(e,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pe(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ie(e.markerPane,"leaflet-zoom-hide"),ie(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,n,o){Pe(this._mapPane,new W(0,0));var u=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var h=this._zoom!==n;this._moveStart(h,o)._move(e,n)._moveEnd(h),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(e,n){return e&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(e,n,o,u){n===void 0&&(n=this._zoom);var h=this._zoom!==n;return this._zoom=n,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),u?o&&o.pinch&&this.fire("zoom",o):((h||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Pe(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[f(this._container)]=this;var n=e?_e:ee;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),H.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,n){for(var o=[],u,h=n==="mouseout"||n==="mouseover",m=e.target||e.srcElement,y=!1;m;){if(u=this._targets[f(m)],u&&(n==="click"||n==="preclick")&&this._draggableMoved(u)){y=!0;break}if(u&&u.listens(n,!0)&&(h&&!ps(m,e)||(o.push(u),h))||m===this._container)break;m=m.parentNode}return!o.length&&!y&&!h&&this.listens(n,!0)&&(o=[this]),o},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var n=e.target||e.srcElement;if(!(!this._loaded||n._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(n))){var o=e.type;o==="mousedown"&&us(n),this._fireDOMEvent(e,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,o){if(e.type==="click"){var u=a({},e);u.type="preclick",this._fireDOMEvent(u,u.type,o)}var h=this._findEventTargets(e,n);if(o){for(var m=[],y=0;y<o.length;y++)o[y].listens(n,!0)&&m.push(o[y]);h=m.concat(h)}if(h.length){n==="contextmenu"&&Te(e);var A=h[0],P={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var $=A.getLatLng&&(!A._radius||A._radius<=10);P.containerPoint=$?this.latLngToContainerPoint(A.getLatLng()):this.mouseEventToContainerPoint(e),P.layerPoint=this.containerPointToLayerPoint(P.containerPoint),P.latlng=$?A.getLatLng():this.layerPointToLatLng(P.layerPoint)}for(y=0;y<h.length;y++)if(h[y].fire(n,P,!0),P.originalEvent._stopped||h[y].options.bubblingMouseEvents===!1&&O(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,n=this._handlers.length;e<n;e++)this._handlers[e].disable()},whenReady:function(e,n){return this._loaded?e.call(n||this,{target:this}):this.on("load",e,n),this},_getMapPanePos:function(){return Dt(this._mapPane)||new W(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,n){var o=e&&n!==void 0?this._getNewPixelOrigin(e,n):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,n){var o=this.getSize()._divideBy(2);return this.project(e,n)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,n,o){var u=this._getNewPixelOrigin(o,n);return this.project(e,n)._subtract(u)},_latLngBoundsToNewLayerBounds:function(e,n,o){var u=this._getNewPixelOrigin(o,n);return pe([this.project(e.getSouthWest(),n)._subtract(u),this.project(e.getNorthWest(),n)._subtract(u),this.project(e.getSouthEast(),n)._subtract(u),this.project(e.getNorthEast(),n)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,n,o){if(!o)return e;var u=this.project(e,n),h=this.getSize().divideBy(2),m=new le(u.subtract(h),u.add(h)),y=this._getBoundsOffset(m,o,n);return Math.abs(y.x)<=1&&Math.abs(y.y)<=1?e:this.unproject(u.add(y),n)},_limitOffset:function(e,n){if(!n)return e;var o=this.getPixelBounds(),u=new le(o.min.add(e),o.max.add(e));return e.add(this._getBoundsOffset(u,n))},_getBoundsOffset:function(e,n,o){var u=pe(this.project(n.getNorthEast(),o),this.project(n.getSouthWest(),o)),h=u.min.subtract(e.min),m=u.max.subtract(e.max),y=this._rebound(h.x,-m.x),A=this._rebound(h.y,-m.y);return new W(y,A)},_rebound:function(e,n){return e+n>0?Math.round(e-n)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(n))},_limitZoom:function(e){var n=this.getMinZoom(),o=this.getMaxZoom(),u=H.any3d?this.options.zoomSnap:1;return u&&(e=Math.round(e/u)*u),Math.max(n,Math.min(o,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ae(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,n){var o=this._getCenterOffset(e)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,n),!0)},_createAnimProxy:function(){var e=this._proxy=ce("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(n){var o=ns,u=this._proxy.style[o];Rt(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),u===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){we(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),n=this.getZoom();Rt(this._proxy,this.project(e,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,n,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(n),h=this._getCenterOffset(e)._divideBy(1-1/u);return o.animate!==!0&&!this.getSize().contains(h)?!1:(U(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(e,n,!0)},this),!0)},_animateZoom:function(e,n,o,u){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=n,ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:n,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ae(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function lc(e,n){return new ue(e,n)}var Qe=K.extend({options:{position:"topright"},initialize:function(e){b(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var n=this._map;return n&&n.removeControl(this),this.options.position=e,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var n=this._container=this.onAdd(e),o=this.getPosition(),u=e._controlCorners[o];return ie(n,"leaflet-control"),o.indexOf("bottom")!==-1?u.insertBefore(n,u.firstChild):u.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(we(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Fn=function(e){return new Qe(e)};ue.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},n="leaflet-",o=this._controlContainer=ce("div",n+"control-container",this._container);function u(h,m){var y=n+h+" "+n+m;e[h+m]=ce("div",y,o)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)we(this._controlCorners[e]);we(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Go=Qe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,n,o,u){return o<u?-1:u<o?1:0}},initialize:function(e,n,o){b(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in e)this._addLayer(e[u],u);for(u in n)this._addLayer(n[u],u,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Qe.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,n){return this._addLayer(e,n),this._map?this._update():this},addOverlay:function(e,n){return this._addLayer(e,n,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var n=this._getLayer(f(e));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Ae(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ae(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",n=this._container=ce("div",e),o=this.options.collapsed;n.setAttribute("aria-haspopup",!0),Zn(n),ms(n);var u=this._section=ce("section",e+"-list");o&&(this._map.on("click",this.collapse,this),ee(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=ce("a",e+"-toggle",n);h.href="#",h.title="Layers",h.setAttribute("role","button"),ee(h,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){Te(m),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=ce("div",e+"-base",u),this._separator=ce("div",e+"-separator",u),this._overlaysList=ce("div",e+"-overlays",u),n.appendChild(u)},_getLayer:function(e){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&f(this._layers[n].layer)===e)return this._layers[n]},_addLayer:function(e,n,o){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:n,overlay:o}),this.options.sortLayers&&this._layers.sort(c(function(u,h){return this.options.sortFunction(u.layer,h.layer,u.name,h.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Si(this._baseLayersList),Si(this._overlaysList),this._layerControlInputs=[];var e,n,o,u,h=0;for(o=0;o<this._layers.length;o++)u=this._layers[o],this._addItem(u),n=n||u.overlay,e=e||!u.overlay,h+=u.overlay?0:1;return this.options.hideSingleBase&&(e=e&&h>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=n&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var n=this._getLayer(f(e.target)),o=n.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;o&&this._map.fire(o,n)},_createRadioElement:function(e,n){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(n?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=o,u.firstChild},_addItem:function(e){var n=document.createElement("label"),o=this._map.hasLayer(e.layer),u;e.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=o):u=this._createRadioElement("leaflet-base-layers_"+f(this),o),this._layerControlInputs.push(u),u.layerId=f(e.layer),ee(u,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+e.name;var m=document.createElement("span");n.appendChild(m),m.appendChild(u),m.appendChild(h);var y=e.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,n,o,u=[],h=[];this._handlingClick=!0;for(var m=e.length-1;m>=0;m--)n=e[m],o=this._getLayer(n.layerId).layer,n.checked?u.push(o):n.checked||h.push(o);for(m=0;m<h.length;m++)this._map.hasLayer(h[m])&&this._map.removeLayer(h[m]);for(m=0;m<u.length;m++)this._map.hasLayer(u[m])||this._map.addLayer(u[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,n,o,u=this._map.getZoom(),h=e.length-1;h>=0;h--)n=e[h],o=this._getLayer(n.layerId).layer,n.disabled=o.options.minZoom!==void 0&&u<o.options.minZoom||o.options.maxZoom!==void 0&&u>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,ee(e,"click",Te),this.expand();var n=this;setTimeout(function(){_e(e,"click",Te),n._preventClick=!1})}}),uc=function(e,n,o){return new Go(e,n,o)},gs=Qe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var n="leaflet-control-zoom",o=ce("div",n+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,n+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,n+"-out",o,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,n,o,u,h){var m=ce("a",o,u);return m.innerHTML=e,m.href="#",m.title=n,m.setAttribute("role","button"),m.setAttribute("aria-label",n),Zn(m),ee(m,"click",Bt),ee(m,"click",h,this),ee(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var e=this._map,n="leaflet-disabled";Ae(this._zoomInButton,n),Ae(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(ie(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(ie(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});ue.mergeOptions({zoomControl:!0}),ue.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new gs,this.addControl(this.zoomControl))});var cc=function(e){return new gs(e)},Ko=Qe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var n="leaflet-control-scale",o=ce("div",n),u=this.options;return this._addScales(u,n+"-line",o),e.on(u.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),o},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,n,o){e.metric&&(this._mScale=ce("div",n,o)),e.imperial&&(this._iScale=ce("div",n,o))},_update:function(){var e=this._map,n=e.getSize().y/2,o=e.distance(e.containerPointToLatLng([0,n]),e.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(o)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var n=this._getRoundNum(e),o=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,o,n/e)},_updateImperial:function(e){var n=e*3.2808399,o,u,h;n>5280?(o=n/5280,u=this._getRoundNum(o),this._updateScale(this._iScale,u+" mi",u/o)):(h=this._getRoundNum(n),this._updateScale(this._iScale,h+" ft",h/n))},_updateScale:function(e,n,o){e.style.width=Math.round(this.options.maxWidth*o)+"px",e.innerHTML=n},_getRoundNum:function(e){var n=Math.pow(10,(Math.floor(e)+"").length-1),o=e/n;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,n*o}}),hc=function(e){return new Ko(e)},dc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_s=Qe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(H.inlineSvg?dc+" ":"")+"Leaflet</a>"},initialize:function(e){b(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ce("div","leaflet-control-attribution"),Zn(this._container);for(var n in e._layers)e._layers[n].getAttribution&&this.addAttribution(e._layers[n].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var n in this._attributions)this._attributions[n]&&e.push(n);var o=[];this.options.prefix&&o.push(this.options.prefix),e.length&&o.push(e.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});ue.mergeOptions({attributionControl:!0}),ue.addInitHook(function(){this.options.attributionControl&&new _s().addTo(this)});var fc=function(e){return new _s(e)};Qe.Layers=Go,Qe.Zoom=gs,Qe.Scale=Ko,Qe.Attribution=_s,Fn.layers=uc,Fn.zoom=cc,Fn.scale=hc,Fn.attribution=fc;var ot=K.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ot.addTo=function(e,n){return e.addHandler(n,this),this};var mc={Events:X},Vo=H.touch?"touchstart mousedown":"mousedown",Lt=fe.extend({options:{clickTolerance:3},initialize:function(e,n,o,u){b(this,u),this._element=e,this._dragStartTarget=n||e,this._preventOutline=o},enable:function(){this._enabled||(ee(this._dragStartTarget,Vo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Lt._dragging===this&&this.finishDrag(!0),_e(this._dragStartTarget,Vo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!is(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Lt._dragging===this&&this.finishDrag();return}if(!(Lt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Lt._dragging=this,this._preventOutline&&us(this._element),os(),Bn(),!this._moving)){this.fire("down");var n=e.touches?e.touches[0]:e,o=No(this._element);this._startPoint=new W(n.clientX,n.clientY),this._startPos=Dt(this._element),this._parentScale=cs(o);var u=e.type==="mousedown";ee(document,u?"mousemove":"touchmove",this._onMove,this),ee(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var n=e.touches&&e.touches.length===1?e.touches[0]:e,o=new W(n.clientX,n.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,Te(e),this._moved||(this.fire("dragstart"),this._moved=!0,ie(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Pe(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Ae(document.body,"leaflet-dragging"),this._lastTarget&&(Ae(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_e(document,"mousemove touchmove",this._onMove,this),_e(document,"mouseup touchend touchcancel",this._onUp,this),as(),Nn();var n=this._moved&&this._moving;this._moving=!1,Lt._dragging=!1,n&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Jo(e,n,o){var u,h=[1,4,2,8],m,y,A,P,$,R,V,se;for(m=0,R=e.length;m<R;m++)e[m]._code=Nt(e[m],n);for(A=0;A<4;A++){for(V=h[A],u=[],m=0,R=e.length,y=R-1;m<R;y=m++)P=e[m],$=e[y],P._code&V?$._code&V||(se=Oi($,P,V,n,o),se._code=Nt(se,n),u.push(se)):($._code&V&&(se=Oi($,P,V,n,o),se._code=Nt(se,n),u.push(se)),u.push(P));e=u}return e}function Yo(e,n){var o,u,h,m,y,A,P,$,R;if(!e||e.length===0)throw new Error("latlngs not passed");Ge(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var V=q([0,0]),se=ge(e),Me=se.getNorthWest().distanceTo(se.getSouthWest())*se.getNorthEast().distanceTo(se.getNorthWest());Me<1700&&(V=vs(e));var Se=e.length,Ke=[];for(o=0;o<Se;o++){var je=q(e[o]);Ke.push(n.project(q([je.lat-V.lat,je.lng-V.lng])))}for(A=P=$=0,o=0,u=Se-1;o<Se;u=o++)h=Ke[o],m=Ke[u],y=h.y*m.x-m.y*h.x,P+=(h.x+m.x)*y,$+=(h.y+m.y)*y,A+=y*3;A===0?R=Ke[0]:R=[P/A,$/A];var cn=n.unproject(G(R));return q([cn.lat+V.lat,cn.lng+V.lng])}function vs(e){for(var n=0,o=0,u=0,h=0;h<e.length;h++){var m=q(e[h]);n+=m.lat,o+=m.lng,u++}return q([n/u,o/u])}var pc={__proto__:null,clipPolygon:Jo,polygonCenter:Yo,centroid:vs};function Qo(e,n){if(!n||!e.length)return e.slice();var o=n*n;return e=vc(e,o),e=_c(e,o),e}function Xo(e,n,o){return Math.sqrt(Wn(e,n,o,!0))}function gc(e,n,o){return Wn(e,n,o)}function _c(e,n){var o=e.length,u=typeof Uint8Array<"u"?Uint8Array:Array,h=new u(o);h[0]=h[o-1]=1,ys(e,h,n,0,o-1);var m,y=[];for(m=0;m<o;m++)h[m]&&y.push(e[m]);return y}function ys(e,n,o,u,h){var m=0,y,A,P;for(A=u+1;A<=h-1;A++)P=Wn(e[A],e[u],e[h],!0),P>m&&(y=A,m=P);m>o&&(n[y]=1,ys(e,n,o,u,y),ys(e,n,o,y,h))}function vc(e,n){for(var o=[e[0]],u=1,h=0,m=e.length;u<m;u++)yc(e[u],e[h])>n&&(o.push(e[u]),h=u);return h<m-1&&o.push(e[m-1]),o}var ea;function ta(e,n,o,u,h){var m=u?ea:Nt(e,o),y=Nt(n,o),A,P,$;for(ea=y;;){if(!(m|y))return[e,n];if(m&y)return!1;A=m||y,P=Oi(e,n,A,o,h),$=Nt(P,o),A===m?(e=P,m=$):(n=P,y=$)}}function Oi(e,n,o,u,h){var m=n.x-e.x,y=n.y-e.y,A=u.min,P=u.max,$,R;return o&8?($=e.x+m*(P.y-e.y)/y,R=P.y):o&4?($=e.x+m*(A.y-e.y)/y,R=A.y):o&2?($=P.x,R=e.y+y*(P.x-e.x)/m):o&1&&($=A.x,R=e.y+y*(A.x-e.x)/m),new W($,R,h)}function Nt(e,n){var o=0;return e.x<n.min.x?o|=1:e.x>n.max.x&&(o|=2),e.y<n.min.y?o|=4:e.y>n.max.y&&(o|=8),o}function yc(e,n){var o=n.x-e.x,u=n.y-e.y;return o*o+u*u}function Wn(e,n,o,u){var h=n.x,m=n.y,y=o.x-h,A=o.y-m,P=y*y+A*A,$;return P>0&&($=((e.x-h)*y+(e.y-m)*A)/P,$>1?(h=o.x,m=o.y):$>0&&(h+=y*$,m+=A*$)),y=e.x-h,A=e.y-m,u?y*y+A*A:new W(h,m)}function Ge(e){return!C(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function na(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ge(e)}function ia(e,n){var o,u,h,m,y,A,P,$;if(!e||e.length===0)throw new Error("latlngs not passed");Ge(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var R=q([0,0]),V=ge(e),se=V.getNorthWest().distanceTo(V.getSouthWest())*V.getNorthEast().distanceTo(V.getNorthWest());se<1700&&(R=vs(e));var Me=e.length,Se=[];for(o=0;o<Me;o++){var Ke=q(e[o]);Se.push(n.project(q([Ke.lat-R.lat,Ke.lng-R.lng])))}for(o=0,u=0;o<Me-1;o++)u+=Se[o].distanceTo(Se[o+1])/2;if(u===0)$=Se[0];else for(o=0,m=0;o<Me-1;o++)if(y=Se[o],A=Se[o+1],h=y.distanceTo(A),m+=h,m>u){P=(m-u)/h,$=[A.x-P*(A.x-y.x),A.y-P*(A.y-y.y)];break}var je=n.unproject(G($));return q([je.lat+R.lat,je.lng+R.lng])}var bc={__proto__:null,simplify:Qo,pointToSegmentDistance:Xo,closestPointOnSegment:gc,clipSegment:ta,_getEdgeIntersection:Oi,_getBitCode:Nt,_sqClosestPointOnSegment:Wn,isFlat:Ge,_flat:na,polylineCenter:ia},bs={project:function(e){return new W(e.lng,e.lat)},unproject:function(e){return new oe(e.y,e.x)},bounds:new le([-180,-90],[180,90])},ws={R:6378137,R_MINOR:6356752314245179e-9,bounds:new le([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var n=Math.PI/180,o=this.R,u=e.lat*n,h=this.R_MINOR/o,m=Math.sqrt(1-h*h),y=m*Math.sin(u),A=Math.tan(Math.PI/4-u/2)/Math.pow((1-y)/(1+y),m/2);return u=-o*Math.log(Math.max(A,1e-10)),new W(e.lng*n*o,u)},unproject:function(e){for(var n=180/Math.PI,o=this.R,u=this.R_MINOR/o,h=Math.sqrt(1-u*u),m=Math.exp(-e.y/o),y=Math.PI/2-2*Math.atan(m),A=0,P=.1,$;A<15&&Math.abs(P)>1e-7;A++)$=h*Math.sin(y),$=Math.pow((1-$)/(1+$),h/2),P=Math.PI/2-2*Math.atan(m*$)-y,y+=P;return new oe(y*n,e.x*n/o)}},wc={__proto__:null,LonLat:bs,Mercator:ws,SphericalMercator:Xt},xc=a({},qe,{code:"EPSG:3395",projection:ws,transformation:function(){var e=.5/(Math.PI*ws.R);return it(e,.5,-e,.5)}()}),ra=a({},qe,{code:"EPSG:4326",projection:bs,transformation:it(1/180,1,-1/180,.5)}),Ac=a({},B,{projection:bs,transformation:it(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,n){var o=n.lng-e.lng,u=n.lat-e.lat;return Math.sqrt(o*o+u*u)},infinite:!0});B.Earth=qe,B.EPSG3395=xc,B.EPSG3857=St,B.EPSG900913=Mt,B.EPSG4326=ra,B.Simple=Ac;var Xe=fe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[f(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[f(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var n=e.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var o=this.getEvents();n.on(o,this),this.once("remove",function(){n.off(o,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});ue.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var n=f(e);return this._layers[n]?this:(this._layers[n]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var n=f(e);return this._layers[n]?(this._loaded&&e.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return f(e)in this._layers},eachLayer:function(e,n){for(var o in this._layers)e.call(n,this._layers[o]);return this},_addLayers:function(e){e=e?C(e)?e:[e]:[];for(var n=0,o=e.length;n<o;n++)this.addLayer(e[n])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[f(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var n=f(e);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,n=-1/0,o=this._getZoomSpan();for(var u in this._zoomBoundLayers){var h=this._zoomBoundLayers[u].options;e=h.minZoom===void 0?e:Math.min(e,h.minZoom),n=h.maxZoom===void 0?n:Math.max(n,h.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=e===1/0?void 0:e,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var sn=Xe.extend({initialize:function(e,n){b(this,n),this._layers={};var o,u;if(e)for(o=0,u=e.length;o<u;o++)this.addLayer(e[o])},addLayer:function(e){var n=this.getLayerId(e);return this._layers[n]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var n=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(e){var n=typeof e=="number"?e:this.getLayerId(e);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var n=Array.prototype.slice.call(arguments,1),o,u;for(o in this._layers)u=this._layers[o],u[e]&&u[e].apply(u,n);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,n){for(var o in this._layers)e.call(n,this._layers[o]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return f(e)}}),Pc=function(e,n){return new sn(e,n)},ht=sn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),sn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),sn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new be;for(var n in this._layers){var o=this._layers[n];e.extend(o.getBounds?o.getBounds():o.getLatLng())}return e}}),kc=function(e,n){return new ht(e,n)},on=K.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){b(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,n){var o=this._getIconUrl(e);if(!o){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(o,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(u,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(e,n){var o=this.options,u=o[n+"Size"];typeof u=="number"&&(u=[u,u]);var h=G(u),m=G(n==="shadow"&&o.shadowAnchor||o.iconAnchor||h&&h.divideBy(2,!0));e.className="leaflet-marker-"+n+" "+(o.className||""),m&&(e.style.marginLeft=-m.x+"px",e.style.marginTop=-m.y+"px"),h&&(e.style.width=h.x+"px",e.style.height=h.y+"px")},_createImg:function(e,n){return n=n||document.createElement("img"),n.src=e,n},_getIconUrl:function(e){return H.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Sc(e){return new on(e)}var Hn=on.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Hn.imagePath!="string"&&(Hn.imagePath=this._detectIconPath()),(this.options.imagePath||Hn.imagePath)+on.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var n=function(o,u,h){var m=u.exec(o);return m&&m[h]};return e=n(e,/^url\((['"])?(.+)\1\)$/,2),e&&n(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ce("div","leaflet-default-icon-path",document.body),n=zn(e,"background-image")||zn(e,"backgroundImage");if(document.body.removeChild(e),n=this._stripUrl(n),n)return n;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),sa=ot.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Lt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ie(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ae(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var n=this._marker,o=n._map,u=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,m=Dt(n._icon),y=o.getPixelBounds(),A=o.getPixelOrigin(),P=pe(y.min._subtract(A).add(h),y.max._subtract(A).subtract(h));if(!P.contains(m)){var $=G((Math.max(P.max.x,m.x)-P.max.x)/(y.max.x-P.max.x)-(Math.min(P.min.x,m.x)-P.min.x)/(y.min.x-P.min.x),(Math.max(P.max.y,m.y)-P.max.y)/(y.max.y-P.max.y)-(Math.min(P.min.y,m.y)-P.min.y)/(y.min.y-P.min.y)).multiplyBy(u);o.panBy($,{animate:!1}),this._draggable._newPos._add($),this._draggable._startPos._add($),Pe(n._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=U(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,e)))},_onDrag:function(e){var n=this._marker,o=n._shadow,u=Dt(n._icon),h=n._map.layerPointToLatLng(u);o&&Pe(o,u),n._latlng=h,e.latlng=h,e.oldLatLng=this._oldLatLng,n.fire("move",e).fire("drag",e)},_onDragEnd:function(e){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Ei=Xe.extend({options:{icon:new Hn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,n){b(this,n),this._latlng=q(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var n=this._latlng;return this._latlng=q(e),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=e.icon.createIcon(this._icon),u=!1;o!==this._icon&&(this._icon&&this._removeIcon(),u=!0,e.title&&(o.title=e.title),o.tagName==="IMG"&&(o.alt=e.alt||"")),ie(o,n),e.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(o,"focus",this._panOnFocus,this);var h=e.icon.createShadow(this._shadow),m=!1;h!==this._shadow&&(this._removeShadow(),m=!0),h&&(ie(h,n),h.alt=""),this._shadow=h,e.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&m&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(this._icon,"focus",this._panOnFocus,this),we(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&we(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Pe(this._icon,e),this._shadow&&Pe(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sa)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sa(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&He(this._icon,e),this._shadow&&He(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var n=this.options.icon.options,o=n.iconSize?G(n.iconSize):G(0,0),u=n.iconAnchor?G(n.iconAnchor):G(0,0);e.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:o.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Lc(e,n){return new Ei(e,n)}var Tt=Xe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return b(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Mi=Tt.extend({options:{fill:!0,radius:10},initialize:function(e,n){b(this,n),this._latlng=q(e),this._radius=this.options.radius},setLatLng:function(e){var n=this._latlng;return this._latlng=q(e),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var n=e&&e.radius||this._radius;return Tt.prototype.setStyle.call(this,e),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,n=this._radiusY||e,o=this._clickTolerance(),u=[e+o,n+o];this._pxBounds=new le(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Tc(e,n){return new Mi(e,n)}var xs=Mi.extend({initialize:function(e,n,o){if(typeof n=="number"&&(n=a({},o,{radius:n})),b(this,n),this._latlng=q(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Tt.prototype.setStyle,_project:function(){var e=this._latlng.lng,n=this._latlng.lat,o=this._map,u=o.options.crs;if(u.distance===qe.distance){var h=Math.PI/180,m=this._mRadius/qe.R/h,y=o.project([n+m,e]),A=o.project([n-m,e]),P=y.add(A).divideBy(2),$=o.unproject(P).lat,R=Math.acos((Math.cos(m*h)-Math.sin(n*h)*Math.sin($*h))/(Math.cos(n*h)*Math.cos($*h)))/h;(isNaN(R)||R===0)&&(R=m/Math.cos(Math.PI/180*n)),this._point=P.subtract(o.getPixelOrigin()),this._radius=isNaN(R)?0:P.x-o.project([$,e-R]).x,this._radiusY=P.y-y.y}else{var V=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(V).x}this._updateBounds()}});function Cc(e,n,o){return new xs(e,n,o)}var dt=Tt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,n){b(this,n),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var n=1/0,o=null,u=Wn,h,m,y=0,A=this._parts.length;y<A;y++)for(var P=this._parts[y],$=1,R=P.length;$<R;$++){h=P[$-1],m=P[$];var V=u(e,h,m,!0);V<n&&(n=V,o=u(e,h,m))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ia(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,n){return n=n||this._defaultShape(),e=q(e),n.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new be,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ge(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var n=[],o=Ge(e),u=0,h=e.length;u<h;u++)o?(n[u]=q(e[u]),this._bounds.extend(n[u])):n[u]=this._convertLatLngs(e[u]);return n},_project:function(){var e=new le;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),n=new W(e,e);this._rawPxBounds&&(this._pxBounds=new le([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(e,n,o){var u=e[0]instanceof oe,h=e.length,m,y;if(u){for(y=[],m=0;m<h;m++)y[m]=this._map.latLngToLayerPoint(e[m]),o.extend(y[m]);n.push(y)}else for(m=0;m<h;m++)this._projectLatlngs(e[m],n,o)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,o,u,h,m,y,A,P;for(o=0,h=0,m=this._rings.length;o<m;o++)for(P=this._rings[o],u=0,y=P.length;u<y-1;u++)A=ta(P[u],P[u+1],e,u,!0),A&&(n[h]=n[h]||[],n[h].push(A[0]),(A[1]!==P[u+1]||u===y-2)&&(n[h].push(A[1]),h++))}},_simplifyPoints:function(){for(var e=this._parts,n=this.options.smoothFactor,o=0,u=e.length;o<u;o++)e[o]=Qo(e[o],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,n){var o,u,h,m,y,A,P=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,m=this._parts.length;o<m;o++)for(A=this._parts[o],u=0,y=A.length,h=y-1;u<y;h=u++)if(!(!n&&u===0)&&Xo(e,A[h],A[u])<=P)return!0;return!1}});function $c(e,n){return new dt(e,n)}dt._flat=na;var an=dt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var n=dt.prototype._convertLatLngs.call(this,e),o=n.length;return o>=2&&n[0]instanceof oe&&n[0].equals(n[o-1])&&n.pop(),n},_setLatLngs:function(e){dt.prototype._setLatLngs.call(this,e),Ge(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ge(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,n=this.options.weight,o=new W(n,n);if(e=new le(e.min.subtract(o),e.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,h=this._rings.length,m;u<h;u++)m=Jo(this._rings[u],e,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var n=!1,o,u,h,m,y,A,P,$;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(m=0,P=this._parts.length;m<P;m++)for(o=this._parts[m],y=0,$=o.length,A=$-1;y<$;A=y++)u=o[y],h=o[A],u.y>e.y!=h.y>e.y&&e.x<(h.x-u.x)*(e.y-u.y)/(h.y-u.y)+u.x&&(n=!n);return n||dt.prototype._containsPoint.call(this,e,!0)}});function Oc(e,n){return new an(e,n)}var ft=ht.extend({initialize:function(e,n){b(this,n),this._layers={},e&&this.addData(e)},addData:function(e){var n=C(e)?e:e.features,o,u,h;if(n){for(o=0,u=n.length;o<u;o++)h=n[o],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var m=this.options;if(m.filter&&!m.filter(e))return this;var y=qi(e,m);return y?(y.feature=Ri(e),y.defaultOptions=y.options,this.resetStyle(y),m.onEachFeature&&m.onEachFeature(e,y),this.addLayer(y)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=a({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(n){this._setLayerStyle(n,e)},this)},_setLayerStyle:function(e,n){e.setStyle&&(typeof n=="function"&&(n=n(e.feature)),e.setStyle(n))}});function qi(e,n){var o=e.type==="Feature"?e.geometry:e,u=o?o.coordinates:null,h=[],m=n&&n.pointToLayer,y=n&&n.coordsToLatLng||As,A,P,$,R;if(!u&&!o)return null;switch(o.type){case"Point":return A=y(u),oa(m,e,A,n);case"MultiPoint":for($=0,R=u.length;$<R;$++)A=y(u[$]),h.push(oa(m,e,A,n));return new ht(h);case"LineString":case"MultiLineString":return P=ji(u,o.type==="LineString"?0:1,y),new dt(P,n);case"Polygon":case"MultiPolygon":return P=ji(u,o.type==="Polygon"?1:2,y),new an(P,n);case"GeometryCollection":for($=0,R=o.geometries.length;$<R;$++){var V=qi({geometry:o.geometries[$],type:"Feature",properties:e.properties},n);V&&h.push(V)}return new ht(h);case"FeatureCollection":for($=0,R=o.features.length;$<R;$++){var se=qi(o.features[$],n);se&&h.push(se)}return new ht(h);default:throw new Error("Invalid GeoJSON object.")}}function oa(e,n,o,u){return e?e(n,o):new Ei(o,u&&u.markersInheritOptions&&u)}function As(e){return new oe(e[1],e[0],e[2])}function ji(e,n,o){for(var u=[],h=0,m=e.length,y;h<m;h++)y=n?ji(e[h],n-1,o):(o||As)(e[h]),u.push(y);return u}function Ps(e,n){return e=q(e),e.alt!==void 0?[v(e.lng,n),v(e.lat,n),v(e.alt,n)]:[v(e.lng,n),v(e.lat,n)]}function Ii(e,n,o,u){for(var h=[],m=0,y=e.length;m<y;m++)h.push(n?Ii(e[m],Ge(e[m])?0:n-1,o,u):Ps(e[m],u));return!n&&o&&h.length>0&&h.push(h[0].slice()),h}function ln(e,n){return e.feature?a({},e.feature,{geometry:n}):Ri(n)}function Ri(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var ks={toGeoJSON:function(e){return ln(this,{type:"Point",coordinates:Ps(this.getLatLng(),e)})}};Ei.include(ks),xs.include(ks),Mi.include(ks),dt.include({toGeoJSON:function(e){var n=!Ge(this._latlngs),o=Ii(this._latlngs,n?1:0,!1,e);return ln(this,{type:(n?"Multi":"")+"LineString",coordinates:o})}}),an.include({toGeoJSON:function(e){var n=!Ge(this._latlngs),o=n&&!Ge(this._latlngs[0]),u=Ii(this._latlngs,o?2:n?1:0,!0,e);return n||(u=[u]),ln(this,{type:(o?"Multi":"")+"Polygon",coordinates:u})}}),sn.include({toMultiPoint:function(e){var n=[];return this.eachLayer(function(o){n.push(o.toGeoJSON(e).geometry.coordinates)}),ln(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(e){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(e);var o=n==="GeometryCollection",u=[];return this.eachLayer(function(h){if(h.toGeoJSON){var m=h.toGeoJSON(e);if(o)u.push(m.geometry);else{var y=Ri(m);y.type==="FeatureCollection"?u.push.apply(u,y.features):u.push(y)}}}),o?ln(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function aa(e,n){return new ft(e,n)}var Ec=aa,Di=Xe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,n,o){this._url=e,this._bounds=ge(n),b(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){we(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&nn(this._image),this},bringToBack:function(){return this._map&&rn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ge(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",n=this._image=e?this._url:ce("img");if(ie(n,"leaflet-image-layer"),this._zoomAnimated&&ie(n,"leaflet-zoom-animated"),this.options.className&&ie(n,this.options.className),n.onselectstart=_,n.onmousemove=_,n.onload=c(this.fire,this,"load"),n.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(e){var n=this._map.getZoomScale(e.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Rt(this._image,o,n)},_reset:function(){var e=this._image,n=new le(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=n.getSize();Pe(e,n.min),e.style.width=o.x+"px",e.style.height=o.y+"px"},_updateOpacity:function(){He(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Mc=function(e,n,o){return new Di(e,n,o)},la=Di.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",n=this._image=e?this._url:ce("video");if(ie(n,"leaflet-image-layer"),this._zoomAnimated&&ie(n,"leaflet-zoom-animated"),this.options.className&&ie(n,this.options.className),n.onselectstart=_,n.onmousemove=_,n.onloadeddata=c(this.fire,this,"load"),e){for(var o=n.getElementsByTagName("source"),u=[],h=0;h<o.length;h++)u.push(o[h].src);this._url=o.length>0?u:[n.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var y=ce("source");y.src=this._url[m],n.appendChild(y)}}});function qc(e,n,o){return new la(e,n,o)}var ua=Di.extend({_initImage:function(){var e=this._image=this._url;ie(e,"leaflet-image-layer"),this._zoomAnimated&&ie(e,"leaflet-zoom-animated"),this.options.className&&ie(e,this.options.className),e.onselectstart=_,e.onmousemove=_}});function jc(e,n,o){return new ua(e,n,o)}var at=Xe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,n){e&&(e instanceof oe||C(e))?(this._latlng=q(e),b(this,n)):(b(this,e),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&He(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&He(this._container,1),this.bringToFront(),this.options.interactive&&(ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(He(this._container,0),this._removeTimeout=setTimeout(c(we,void 0,this._container),200)):we(this._container),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=q(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&nn(this._container),this},bringToBack:function(){return this._map&&rn(this._container),this},_prepareOpen:function(e){var n=this._source;if(!n._map)return!1;if(n instanceof ht){n=null;var o=this._source._layers;for(var u in o)if(o[u]._map){n=o[u];break}if(!n)return!1;this._source=n}if(!e)if(n.getCenter)e=n.getCenter();else if(n.getLatLng)e=n.getLatLng();else if(n.getBounds)e=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")e.innerHTML=n;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),n=G(this.options.offset),o=this._getAnchor();this._zoomAnimated?Pe(this._container,e.add(o)):n=n.add(e).add(o);var u=this._containerBottom=-n.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=u+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});ue.include({_initOverlay:function(e,n,o,u){var h=n;return h instanceof e||(h=new e(u).setContent(n)),o&&h.setLatLng(o),h}}),Xe.include({_initOverlay:function(e,n,o,u){var h=o;return h instanceof e?(b(h,u),h._source=this):(h=n&&!u?n:new e(u,this),h.setContent(o)),h}});var zi=at.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,at.prototype.openOn.call(this,e)},onAdd:function(e){at.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Tt||this._source.on("preclick",zt))},onRemove:function(e){at.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Tt||this._source.off("preclick",zt))},getEvents:function(){var e=at.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",n=this._container=ce("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=ce("div",e+"-content-wrapper",n);if(this._contentNode=ce("div",e+"-content",o),Zn(n),ms(this._contentNode),ee(n,"contextmenu",zt),this._tipContainer=ce("div",e+"-tip-container",n),this._tip=ce("div",e+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=ce("a",e+"-close-button",n);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',ee(u,"click",function(h){Te(h),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,n=e.style;n.width="",n.whiteSpace="nowrap";var o=e.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),n.width=o+1+"px",n.whiteSpace="",n.height="";var u=e.offsetHeight,h=this.options.maxHeight,m="leaflet-popup-scrolled";h&&u>h?(n.height=h+"px",ie(e,m)):Ae(e,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),o=this._getAnchor();Pe(this._container,n.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,n=parseInt(zn(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+n,u=this._containerWidth,h=new W(this._containerLeft,-o-this._containerBottom);h._add(Dt(this._container));var m=e.layerPointToContainerPoint(h),y=G(this.options.autoPanPadding),A=G(this.options.autoPanPaddingTopLeft||y),P=G(this.options.autoPanPaddingBottomRight||y),$=e.getSize(),R=0,V=0;m.x+u+P.x>$.x&&(R=m.x+u-$.x+P.x),m.x-R-A.x<0&&(R=m.x-A.x),m.y+o+P.y>$.y&&(V=m.y+o-$.y+P.y),m.y-V-A.y<0&&(V=m.y-A.y),(R||V)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([R,V]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ic=function(e,n){return new zi(e,n)};ue.mergeOptions({closePopupOnClick:!0}),ue.include({openPopup:function(e,n,o){return this._initOverlay(zi,e,n,o).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Xe.include({bindPopup:function(e,n){return this._popup=this._initOverlay(zi,this._popup,e,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof ht||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){Bt(e);var n=e.layer||e.target;if(this._popup._source===n&&!(n instanceof Tt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=n,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Bi=at.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){at.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){at.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=at.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",n=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ce("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var n,o,u=this._map,h=this._container,m=u.latLngToContainerPoint(u.getCenter()),y=u.layerPointToContainerPoint(e),A=this.options.direction,P=h.offsetWidth,$=h.offsetHeight,R=G(this.options.offset),V=this._getAnchor();A==="top"?(n=P/2,o=$):A==="bottom"?(n=P/2,o=0):A==="center"?(n=P/2,o=$/2):A==="right"?(n=0,o=$/2):A==="left"?(n=P,o=$/2):y.x<m.x?(A="right",n=0,o=$/2):(A="left",n=P+(R.x+V.x)*2,o=$/2),e=e.subtract(G(n,o,!0)).add(R).add(V),Ae(h,"leaflet-tooltip-right"),Ae(h,"leaflet-tooltip-left"),Ae(h,"leaflet-tooltip-top"),Ae(h,"leaflet-tooltip-bottom"),ie(h,"leaflet-tooltip-"+A),Pe(h,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&He(this._container,e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(n)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Rc=function(e,n){return new Bi(e,n)};ue.include({openTooltip:function(e,n,o){return this._initOverlay(Bi,e,n,o).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Xe.include({bindTooltip:function(e,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Bi,this._tooltip,e,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var n=e?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[n](o),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof ht||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&(ee(n,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),ee(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var n=this;this._map.once("moveend",function(){n._openOnceFlag=!1,n._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var n=e.latlng,o,u;this._tooltip.options.sticky&&e.originalEvent&&(o=this._map.mouseEventToContainerPoint(e.originalEvent),u=this._map.containerPointToLayerPoint(o),n=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(n)}});var ca=on.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var n=e&&e.tagName==="DIV"?e:document.createElement("div"),o=this.options;if(o.html instanceof Element?(Si(n),n.appendChild(o.html)):n.innerHTML=o.html!==!1?o.html:"",o.bgPos){var u=G(o.bgPos);n.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function Dc(e){return new ca(e)}on.Default=Hn;var Gn=Xe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:H.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){b(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),we(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(nn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(rn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof W?e:new W(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var n=this.getPane().children,o=-e(-1/0,1/0),u=0,h=n.length,m;u<h;u++)m=n[u].style.zIndex,n[u]!==this._container&&m&&(o=e(o,+m));isFinite(o)&&(this.options.zIndex=o+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!H.ielt9){He(this._container,this.options.opacity);var e=+new Date,n=!1,o=!1;for(var u in this._tiles){var h=this._tiles[u];if(!(!h.current||!h.loaded)){var m=Math.min(1,(e-h.loaded)/200);He(h.el,m),m<1?n=!0:(h.active?o=!0:this._onOpaqueTile(h),h.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),n&&(Q(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=ce("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,n=this.options.maxZoom;if(e!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===e?(this._levels[o].el.style.zIndex=n-Math.abs(e-o),this._onUpdateLevel(o)):(we(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var u=this._levels[e],h=this._map;return u||(u=this._levels[e]={},u.el=ce("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=n,u.origin=h.project(h.unproject(h.getPixelOrigin()),e).round(),u.zoom=e,this._setZoomTransform(u,h.getCenter(),h.getZoom()),_(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var e,n,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)n=this._tiles[e],n.retain=n.current;for(e in this._tiles)if(n=this._tiles[e],n.current&&!n.active){var u=n.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var n in this._tiles)this._tiles[n].coords.z===e&&this._removeTile(n)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)we(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,n,o,u){var h=Math.floor(e/2),m=Math.floor(n/2),y=o-1,A=new W(+h,+m);A.z=+y;var P=this._tileCoordsToKey(A),$=this._tiles[P];return $&&$.active?($.retain=!0,!0):($&&$.loaded&&($.retain=!0),y>u?this._retainParent(h,m,y,u):!1)},_retainChildren:function(e,n,o,u){for(var h=2*e;h<2*e+2;h++)for(var m=2*n;m<2*n+2;m++){var y=new W(h,m);y.z=o+1;var A=this._tileCoordsToKey(y),P=this._tiles[A];if(P&&P.active){P.retain=!0;continue}else P&&P.loaded&&(P.retain=!0);o+1<u&&this._retainChildren(h,m,o+1,u)}},_resetView:function(e){var n=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var n=this.options;return n.minNativeZoom!==void 0&&e<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<e?n.maxNativeZoom:e},_setView:function(e,n,o,u){var h=Math.round(n);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var m=this.options.updateWhenZooming&&h!==this._tileZoom;(!u||m)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(e),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(e,n)},_setZoomTransforms:function(e,n){for(var o in this._levels)this._setZoomTransform(this._levels[o],e,n)},_setZoomTransform:function(e,n,o){var u=this._map.getZoomScale(o,e.zoom),h=e.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(n,o)).round();H.any3d?Rt(e.el,h,u):Pe(e.el,h)},_resetGrid:function(){var e=this._map,n=e.options.crs,o=this._tileSize=this.getTileSize(),u=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,n.wrapLng[0]],u).x/o.x),Math.ceil(e.project([0,n.wrapLng[1]],u).x/o.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([n.wrapLat[0],0],u).y/o.x),Math.ceil(e.project([n.wrapLat[1],0],u).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var n=this._map,o=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),u=n.getZoomScale(o,this._tileZoom),h=n.project(e,this._tileZoom).floor(),m=n.getSize().divideBy(u*2);return new le(h.subtract(m),h.add(m))},_update:function(e){var n=this._map;if(n){var o=this._clampZoom(n.getZoom());if(e===void 0&&(e=n.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(e),h=this._pxBoundsToTileRange(u),m=h.getCenter(),y=[],A=this.options.keepBuffer,P=new le(h.getBottomLeft().subtract([A,-A]),h.getTopRight().add([A,-A]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $ in this._tiles){var R=this._tiles[$].coords;(R.z!==this._tileZoom||!P.contains(new W(R.x,R.y)))&&(this._tiles[$].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(e,o);return}for(var V=h.min.y;V<=h.max.y;V++)for(var se=h.min.x;se<=h.max.x;se++){var Me=new W(se,V);if(Me.z=this._tileZoom,!!this._isValidTile(Me)){var Se=this._tiles[this._tileCoordsToKey(Me)];Se?Se.current=!0:y.push(Me)}}if(y.sort(function(je,cn){return je.distanceTo(m)-cn.distanceTo(m)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ke=document.createDocumentFragment();for(se=0;se<y.length;se++)this._addTile(y[se],Ke);this._level.el.appendChild(Ke)}}}},_isValidTile:function(e){var n=this._map.options.crs;if(!n.infinite){var o=this._globalTileRange;if(!n.wrapLng&&(e.x<o.min.x||e.x>o.max.x)||!n.wrapLat&&(e.y<o.min.y||e.y>o.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(e);return ge(this.options.bounds).overlaps(u)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var n=this._map,o=this.getTileSize(),u=e.scaleBy(o),h=u.add(o),m=n.unproject(u,e.z),y=n.unproject(h,e.z);return[m,y]},_tileCoordsToBounds:function(e){var n=this._tileCoordsToNwSe(e),o=new be(n[0],n[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var n=e.split(":"),o=new W(+n[0],+n[1]);return o.z=+n[2],o},_removeTile:function(e){var n=this._tiles[e];n&&(we(n.el),delete this._tiles[e],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){ie(e,"leaflet-tile");var n=this.getTileSize();e.style.width=n.x+"px",e.style.height=n.y+"px",e.onselectstart=_,e.onmousemove=_,H.ielt9&&this.options.opacity<1&&He(e,this.options.opacity)},_addTile:function(e,n){var o=this._getTilePos(e),u=this._tileCoordsToKey(e),h=this.createTile(this._wrapCoords(e),c(this._tileReady,this,e));this._initTile(h),this.createTile.length<2&&U(c(this._tileReady,this,e,null,h)),Pe(h,o),this._tiles[u]={el:h,coords:e,current:!0},n.appendChild(h),this.fire("tileloadstart",{tile:h,coords:e})},_tileReady:function(e,n,o){n&&this.fire("tileerror",{error:n,tile:o,coords:e});var u=this._tileCoordsToKey(e);o=this._tiles[u],o&&(o.loaded=+new Date,this._map._fadeAnimated?(He(o.el,0),Q(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),n||(ie(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),H.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var n=new W(this._wrapX?g(e.x,this._wrapX):e.x,this._wrapY?g(e.y,this._wrapY):e.y);return n.z=e.z,n},_pxBoundsToTileRange:function(e){var n=this.getTileSize();return new le(e.min.unscaleBy(n).floor(),e.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function zc(e){return new Gn(e)}var un=Gn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,n){this._url=e,n=b(this,n),n.detectRetina&&H.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,n){return this._url===e&&n===void 0&&(n=!0),this._url=e,n||this.redraw(),this},createTile:function(e,n){var o=document.createElement("img");return ee(o,"load",c(this._tileOnLoad,this,n,o)),ee(o,"error",c(this._tileOnError,this,n,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(e),o},getTileUrl:function(e){var n={r:H.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=o),n["-y"]=o}return S(this._url,a(n,this.options))},_tileOnLoad:function(e,n){H.ielt9?setTimeout(c(e,this,null,n),0):e(null,n)},_tileOnError:function(e,n,o){var u=this.options.errorTileUrl;u&&n.getAttribute("src")!==u&&(n.src=u),e(o,n)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,n=this.options.maxZoom,o=this.options.zoomReverse,u=this.options.zoomOffset;return o&&(e=n-e),e+u},_getSubdomain:function(e){var n=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var e,n;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(n=this._tiles[e].el,n.onload=_,n.onerror=_,!n.complete)){n.src=M;var o=this._tiles[e].coords;we(n),delete this._tiles[e],this.fire("tileabort",{tile:n,coords:o})}},_removeTile:function(e){var n=this._tiles[e];if(n)return n.el.setAttribute("src",M),Gn.prototype._removeTile.call(this,e)},_tileReady:function(e,n,o){if(!(!this._map||o&&o.getAttribute("src")===M))return Gn.prototype._tileReady.call(this,e,n,o)}});function ha(e,n){return new un(e,n)}var da=un.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var o=a({},this.defaultWmsParams);for(var u in n)u in this.options||(o[u]=n[u]);n=b(this,n);var h=n.detectRetina&&H.retina?2:1,m=this.getTileSize();o.width=m.x*h,o.height=m.y*h,this.wmsParams=o},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,un.prototype.onAdd.call(this,e)},getTileUrl:function(e){var n=this._tileCoordsToNwSe(e),o=this._crs,u=pe(o.project(n[0]),o.project(n[1])),h=u.min,m=u.max,y=(this._wmsVersion>=1.3&&this._crs===ra?[h.y,h.x,m.y,m.x]:[h.x,h.y,m.x,m.y]).join(","),A=un.prototype.getTileUrl.call(this,e);return A+w(this.wmsParams,A,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(e,n){return a(this.wmsParams,e),n||this.redraw(),this}});function Bc(e,n){return new da(e,n)}un.WMS=da,ha.wms=Bc;var mt=Xe.extend({options:{padding:.1},initialize:function(e){b(this,e),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,n){var o=this._map.getZoomScale(n,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,n),m=u.multiplyBy(-o).add(h).subtract(this._map._getNewPixelOrigin(e,n));H.any3d?Rt(this._container,m,o):Pe(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,n=this._map.getSize(),o=this._map.containerPointToLayerPoint(n.multiplyBy(-e)).round();this._bounds=new le(o,o.add(n.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fa=mt.extend({options:{tolerance:0},getEvents:function(){var e=mt.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){mt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");ee(e,"mousemove",this._onMouseMove,this),ee(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ee(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,we(this._container),_e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var n in this._layers)e=this._layers[n],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mt.prototype._update.call(this);var e=this._bounds,n=this._container,o=e.getSize(),u=H.retina?2:1;Pe(n,e.min),n.width=u*o.x,n.height=u*o.y,n.style.width=o.x+"px",n.style.height=o.y+"px",H.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){mt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[f(e)]=e;var n=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var n=e._order,o=n.next,u=n.prev;o?o.prev=u:this._drawLast=u,u?u.next=o:this._drawFirst=o,delete e._order,delete this._layers[f(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var n=e.options.dashArray.split(/[, ]+/),o=[],u,h;for(h=0;h<n.length;h++){if(u=Number(n[h]),isNaN(u))return;o.push(u)}e.options._dashArray=o}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var n=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new le,this._redrawBounds.extend(e._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(e._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var n=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,n=this._redrawBounds;if(this._ctx.save(),n){var o=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)e=u.layer,(!n||e._pxBounds&&e._pxBounds.intersects(n))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,n){if(this._drawing){var o,u,h,m,y=e._parts,A=y.length,P=this._ctx;if(A){for(P.beginPath(),o=0;o<A;o++){for(u=0,h=y[o].length;u<h;u++)m=y[o][u],P[u?"lineTo":"moveTo"](m.x,m.y);n&&P.closePath()}this._fillStroke(P,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var n=e._point,o=this._ctx,u=Math.max(Math.round(e._radius),1),h=(Math.max(Math.round(e._radiusY),1)||u)/u;h!==1&&(o.save(),o.scale(1,h)),o.beginPath(),o.arc(n.x,n.y/h,u,0,Math.PI*2,!1),h!==1&&o.restore(),this._fillStroke(o,e)}},_fillStroke:function(e,n){var o=n.options;o.fill&&(e.globalAlpha=o.fillOpacity,e.fillStyle=o.fillColor||o.color,e.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(e.setLineDash&&e.setLineDash(n.options&&n.options._dashArray||[]),e.globalAlpha=o.opacity,e.lineWidth=o.weight,e.strokeStyle=o.color,e.lineCap=o.lineCap,e.lineJoin=o.lineJoin,e.stroke())},_onClick:function(e){for(var n=this._map.mouseEventToLayerPoint(e),o,u,h=this._drawFirst;h;h=h.next)o=h.layer,o.options.interactive&&o._containsPoint(n)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(o))&&(u=o);this._fireEvent(u?[u]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,n)}},_handleMouseOut:function(e){var n=this._hoveredLayer;n&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([n],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,n){if(!this._mouseHoverThrottled){for(var o,u,h=this._drawFirst;h;h=h.next)o=h.layer,o.options.interactive&&o._containsPoint(n)&&(u=o);u!==this._hoveredLayer&&(this._handleMouseOut(e),u&&(ie(this._container,"leaflet-interactive"),this._fireEvent([u],e,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,n,o){this._map._fireDOMEvent(n,o||n.type,e)},_bringToFront:function(e){var n=e._order;if(n){var o=n.next,u=n.prev;if(o)o.prev=u;else return;u?u.next=o:o&&(this._drawFirst=o),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(e)}},_bringToBack:function(e){var n=e._order;if(n){var o=n.next,u=n.prev;if(u)u.next=o;else return;o?o.prev=u:u&&(this._drawLast=u),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(e)}}});function ma(e){return H.canvas?new fa(e):null}var Kn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Nc={_initContainer:function(){this._container=ce("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(mt.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var n=e._container=Kn("shape");ie(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",e._path=Kn("path"),n.appendChild(e._path),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){var n=e._container;this._container.appendChild(n),e.options.interactive&&e.addInteractiveTarget(n)},_removePath:function(e){var n=e._container;we(n),e.removeInteractiveTarget(n),delete this._layers[f(e)]},_updateStyle:function(e){var n=e._stroke,o=e._fill,u=e.options,h=e._container;h.stroked=!!u.stroke,h.filled=!!u.fill,u.stroke?(n||(n=e._stroke=Kn("stroke")),h.appendChild(n),n.weight=u.weight+"px",n.color=u.color,n.opacity=u.opacity,u.dashArray?n.dashStyle=C(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=u.lineCap.replace("butt","flat"),n.joinstyle=u.lineJoin):n&&(h.removeChild(n),e._stroke=null),u.fill?(o||(o=e._fill=Kn("fill")),h.appendChild(o),o.color=u.fillColor||u.color,o.opacity=u.fillOpacity):o&&(h.removeChild(o),e._fill=null)},_updateCircle:function(e){var n=e._point.round(),o=Math.round(e._radius),u=Math.round(e._radiusY||o);this._setPath(e,e._empty()?"M0 0":"AL "+n.x+","+n.y+" "+o+","+u+" 0,"+65535*360)},_setPath:function(e,n){e._path.v=n},_bringToFront:function(e){nn(e._container)},_bringToBack:function(e){rn(e._container)}},Ni=H.vml?Kn:Tn,Vn=mt.extend({_initContainer:function(){this._container=Ni("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ni("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){we(this._container),_e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mt.prototype._update.call(this);var e=this._bounds,n=e.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,o.setAttribute("width",n.x),o.setAttribute("height",n.y)),Pe(o,e.min),o.setAttribute("viewBox",[e.min.x,e.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(e){var n=e._path=Ni("path");e.options.className&&ie(n,e.options.className),e.options.interactive&&ie(n,"leaflet-interactive"),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){we(e._path),e.removeInteractiveTarget(e._path),delete this._layers[f(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var n=e._path,o=e.options;n&&(o.stroke?(n.setAttribute("stroke",o.color),n.setAttribute("stroke-opacity",o.opacity),n.setAttribute("stroke-width",o.weight),n.setAttribute("stroke-linecap",o.lineCap),n.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?n.setAttribute("stroke-dasharray",o.dashArray):n.removeAttribute("stroke-dasharray"),o.dashOffset?n.setAttribute("stroke-dashoffset",o.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),o.fill?(n.setAttribute("fill",o.fillColor||o.color),n.setAttribute("fill-opacity",o.fillOpacity),n.setAttribute("fill-rule",o.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(e,n){this._setPath(e,Cn(e._parts,n))},_updateCircle:function(e){var n=e._point,o=Math.max(Math.round(e._radius),1),u=Math.max(Math.round(e._radiusY),1)||o,h="a"+o+","+u+" 0 1,0 ",m=e._empty()?"M0 0":"M"+(n.x-o)+","+n.y+h+o*2+",0 "+h+-o*2+",0 ";this._setPath(e,m)},_setPath:function(e,n){e._path.setAttribute("d",n)},_bringToFront:function(e){nn(e._path)},_bringToBack:function(e){rn(e._path)}});H.vml&&Vn.include(Nc);function pa(e){return H.svg||H.vml?new Vn(e):null}ue.include({getRenderer:function(e){var n=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var n=this._paneRenderers[e];return n===void 0&&(n=this._createRenderer({pane:e}),this._paneRenderers[e]=n),n},_createRenderer:function(e){return this.options.preferCanvas&&ma(e)||pa(e)}});var ga=an.extend({initialize:function(e,n){an.prototype.initialize.call(this,this._boundsToLatLngs(e),n)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=ge(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Uc(e,n){return new ga(e,n)}Vn.create=Ni,Vn.pointsToPath=Cn,ft.geometryToLayer=qi,ft.coordsToLatLng=As,ft.coordsToLatLngs=ji,ft.latLngToCoords=Ps,ft.latLngsToCoords=Ii,ft.getFeature=ln,ft.asFeature=Ri,ue.mergeOptions({boxZoom:!0});var _a=ot.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){we(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Bn(),os(),this._startPoint=this._map.mouseEventToContainerPoint(e),ee(document,{contextmenu:Bt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ce("div","leaflet-zoom-box",this._container),ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var n=new le(this._point,this._startPoint),o=n.getSize();Pe(this._box,n.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(we(this._box),Ae(this._container,"leaflet-crosshair")),Nn(),as(),_e(document,{contextmenu:Bt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var n=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ue.addInitHook("addHandler","boxZoom",_a),ue.mergeOptions({doubleClickZoom:!0});var va=ot.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var n=this._map,o=n.getZoom(),u=n.options.zoomDelta,h=e.originalEvent.shiftKey?o-u:o+u;n.options.doubleClickZoom==="center"?n.setZoom(h):n.setZoomAround(e.containerPoint,h)}});ue.addInitHook("addHandler","doubleClickZoom",va),ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ya=ot.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Lt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ae(this._map._container,"leaflet-grab"),Ae(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=ge(this._map.options.maxBounds);this._offsetLimit=pe(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var n=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(n),this._prunePositions(n)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,n){return e-(e-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;e.x<n.min.x&&(e.x=this._viscousLimit(e.x,n.min.x)),e.y<n.min.y&&(e.y=this._viscousLimit(e.y,n.min.y)),e.x>n.max.x&&(e.x=this._viscousLimit(e.x,n.max.x)),e.y>n.max.y&&(e.y=this._viscousLimit(e.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,n=Math.round(e/2),o=this._initialWorldOffset,u=this._draggable._newPos.x,h=(u-n+o)%e+n-o,m=(u+n+o)%e-n-o,y=Math.abs(h+o)<Math.abs(m+o)?h:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(e){var n=this._map,o=n.options,u=!o.inertia||e.noInertia||this._times.length<2;if(n.fire("dragend",e),u)n.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,y=o.easeLinearity,A=h.multiplyBy(y/m),P=A.distanceTo([0,0]),$=Math.min(o.inertiaMaxSpeed,P),R=A.multiplyBy($/P),V=$/(o.inertiaDeceleration*y),se=R.multiplyBy(-V/2).round();!se.x&&!se.y?n.fire("moveend"):(se=n._limitOffset(se,n.options.maxBounds),U(function(){n.panBy(se,{duration:V,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});ue.addInitHook("addHandler","dragging",ya),ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ba=ot.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),ee(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,n=document.documentElement,o=e.scrollTop||n.scrollTop,u=e.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(u,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var n=this._panKeys={},o=this.keyCodes,u,h;for(u=0,h=o.left.length;u<h;u++)n[o.left[u]]=[-1*e,0];for(u=0,h=o.right.length;u<h;u++)n[o.right[u]]=[e,0];for(u=0,h=o.down.length;u<h;u++)n[o.down[u]]=[0,e];for(u=0,h=o.up.length;u<h;u++)n[o.up[u]]=[0,-1*e]},_setZoomDelta:function(e){var n=this._zoomKeys={},o=this.keyCodes,u,h;for(u=0,h=o.zoomIn.length;u<h;u++)n[o.zoomIn[u]]=e;for(u=0,h=o.zoomOut.length;u<h;u++)n[o.zoomOut[u]]=-e},_addHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=e.keyCode,o=this._map,u;if(n in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(u=this._panKeys[n],e.shiftKey&&(u=G(u).multiplyBy(3)),o.options.maxBounds&&(u=o._limitOffset(G(u),o.options.maxBounds)),o.options.worldCopyJump){var h=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(u)));o.panTo(h)}else o.panBy(u)}else if(n in this._zoomKeys)o.setZoom(o.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;Bt(e)}}});ue.addInitHook("addHandler","keyboard",ba),ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wa=ot.extend({addHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var n=Wo(e),o=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var u=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),u),Bt(e)},_performZoom:function(){var e=this._map,n=e.getZoom(),o=this._map.options.zoomSnap||0;e._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,m=o?Math.ceil(h/o)*o:h,y=e._limitZoom(n+(this._delta>0?m:-m))-n;this._delta=0,this._startTime=null,y&&(e.options.scrollWheelZoom==="center"?e.setZoom(n+y):e.setZoomAround(this._lastMousePos,n+y))}});ue.addInitHook("addHandler","scrollWheelZoom",wa);var Zc=600;ue.mergeOptions({tapHold:H.touchNative&&H.safari&&H.mobile,tapTolerance:15});var xa=ot.extend({addHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var n=e.touches[0];this._startPos=this._newPos=new W(n.clientX,n.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(ee(document,"touchend",Te),ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),Zc),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){_e(document,"touchend",Te),_e(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)},_onMove:function(e){var n=e.touches[0];this._newPos=new W(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,n){var o=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});o._simulated=!0,n.target.dispatchEvent(o)}});ue.addInitHook("addHandler","tapHold",xa),ue.mergeOptions({touchZoom:H.touch,bounceAtZoomLimits:!0});var Aa=ot.extend({addHooks:function(){ie(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var n=this._map;if(!(!e.touches||e.touches.length!==2||n._animatingZoom||this._zooming)){var o=n.mouseEventToContainerPoint(e.touches[0]),u=n.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(o.add(u)._divideBy(2))),this._startDist=o.distanceTo(u),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),Te(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var n=this._map,o=n.mouseEventToContainerPoint(e.touches[0]),u=n.mouseEventToContainerPoint(e.touches[1]),h=o.distanceTo(u)/this._startDist;if(this._zoom=n.getScaleZoom(h,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&h<1||this._zoom>n.getMaxZoom()&&h>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var m=o._add(u)._divideBy(2)._subtract(this._centerPoint);if(h===1&&m.x===0&&m.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var y=c(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(y,this,!0),Te(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Q(this._animRequest),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ue.addInitHook("addHandler","touchZoom",Aa),ue.BoxZoom=_a,ue.DoubleClickZoom=va,ue.Drag=ya,ue.Keyboard=ba,ue.ScrollWheelZoom=wa,ue.TapHold=xa,ue.TouchZoom=Aa,i.Bounds=le,i.Browser=H,i.CRS=B,i.Canvas=fa,i.Circle=xs,i.CircleMarker=Mi,i.Class=K,i.Control=Qe,i.DivIcon=ca,i.DivOverlay=at,i.DomEvent=ac,i.DomUtil=sc,i.Draggable=Lt,i.Evented=fe,i.FeatureGroup=ht,i.GeoJSON=ft,i.GridLayer=Gn,i.Handler=ot,i.Icon=on,i.ImageOverlay=Di,i.LatLng=oe,i.LatLngBounds=be,i.Layer=Xe,i.LayerGroup=sn,i.LineUtil=bc,i.Map=ue,i.Marker=Ei,i.Mixin=mc,i.Path=Tt,i.Point=W,i.PolyUtil=pc,i.Polygon=an,i.Polyline=dt,i.Popup=zi,i.PosAnimation=Ho,i.Projection=wc,i.Rectangle=ga,i.Renderer=mt,i.SVG=Vn,i.SVGOverlay=ua,i.TileLayer=un,i.Tooltip=Bi,i.Transformation=kt,i.Util=J,i.VideoOverlay=la,i.bind=c,i.bounds=pe,i.canvas=ma,i.circle=Cc,i.circleMarker=Tc,i.control=Fn,i.divIcon=Dc,i.extend=a,i.featureGroup=kc,i.geoJSON=aa,i.geoJson=Ec,i.gridLayer=zc,i.icon=Sc,i.imageOverlay=Mc,i.latLng=q,i.latLngBounds=ge,i.layerGroup=Pc,i.map=lc,i.marker=Lc,i.point=G,i.polygon=Oc,i.polyline=$c,i.popup=Ic,i.rectangle=Uc,i.setOptions=b,i.stamp=f,i.svg=pa,i.svgOverlay=jc,i.tileLayer=ha,i.tooltip=Rc,i.transformation=it,i.version=s,i.videoOverlay=qc;var Fc=window.L;i.noConflict=function(){return window.L=Fc,this},window.L=i})})(co,co.exports);var P_=co.exports;const ti=wd(P_);var k_=Y('<div class="p-6 bg-gray-900 rounded-3xl"><h1 class="text-3xl font-bold text-center mb-6 text-white">PROGRAM</h1><div class=" bg-gray-800 border border-gray-700 rounded-lg shadow-lg p-6"><div class="flex justify-center items-center mb-4"><div id=map-container class="w-full h-96 bg-gray-700 rounded-lg overflow-hidden border-4 border-gray-500"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class=" bg-gray-600 p-4 rounded-lg shadow-md transition-transform transform hover:scale-105"><h2 class="text-lg font-semibold mb-2 text-white">Podaci o najbliem avionu</h2><p class=" text-gray-300"><strong>Kut X do aviona: <!></strong></p><p class=text-gray-300><strong>Kut Y do aviona: <!></strong></p><p class=" text-gray-300"><strong>Koordinate aviona: <!>, <!></strong></p><p class=text-gray-300><strong>Zrana udaljenost: <!>m</strong></p></div><div class=" bg-gray-600 p-4 rounded-lg shadow-md transition-transform transform hover:scale-105"><h2 class="text-lg font-semibold mb-2 text-white">Nagib ureaja</h2><p class=text-gray-300><strong>Alpha (Z os): <!></strong></p><p class=text-gray-300><strong>Beta (X os): <!></strong></p><p class=text-gray-300><strong>Gamma (Y os): <!></strong></p><p class=text-gray-300><strong>Kut gledanja: <!></strong></p><p class=text-gray-300><strong>Vaa Elevacija: <!>m</strong></p></div></div><div class="flex justify-center mt-6"><audio id=audiosuccess></audio><audio id=audiofail></audio><button id=scan class="bg-blue-600 text-white font-semibold py-2 px-4 w-full rounded-lg shadow-md hover:bg-blue-700 transition duration-200">Skeniraj</button></div><div class="top-16 mt-2 col-span-1 md:col-span-2 flex justify-start w-full"><div class="space-y-2 w-full">'),S_=Y('<div id=notifikacija><div class="whitespace-normal w-full">');const[L_,wl]=F([]),[Qi,T_]=F(null),[Xi,C_]=F(null),[$_,O_]=F(0),[xl,E_]=F(0),[M_,q_]=F(0),[Al,j_]=F(null),[I_,R_]=F(null),[D_,z_]=F(null),[B_,N_]=F(null),[U_,Z_]=F(null),[Ws,F_]=F(0),[_n,W_]=F(0),[vn,H_]=F(0),[Hs,Pl]=F(0),[kl,G_]=F(0),[K_,V_]=F(0),[J_,Y_]=F(0),[Q_,Gs]=F(void 0),[X_,Sl]=F(0),[ev,Ll]=F(0),[tv,Tl]=F(0),[nv,Cl]=F(0),[iv,$l]=F(0),[Ks,rv]=F(0);function yn(r){const t=new Date(r);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(t)}async function yt(r,t,i){const s={message:r,type:t};wl(a=>[...a,s]),setTimeout(()=>{wl(a=>a.filter(l=>l!==s))},i)}const Ol=new ti.Icon({iconUrl:x_,shadowUrl:A_,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function sv(r){const[t,i]=F(null),s=w=>{const k=ti.map(w,{zoomControl:!1,attributionControl:!1}).setView([51.505,-.09],13);ti.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(k),navigator.geolocation?navigator.geolocation.getCurrentPosition(S=>{const{latitude:C,longitude:O}=S.coords;k.setView([C,O],13),ti.marker([C,O],{icon:Ol}).addTo(k).bindPopup("Vaa trenutna lokacija").openPopup()},S=>{console.error("Geolokacija nije dostupna: ",S)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):console.error("Geolokacija nije podrana u ovom pregledniku"),i(k)};dr(()=>{t()&&t().remove()});const a=()=>{window.DeviceOrientationEvent?window.addEventListener("deviceorientationabsolute",w=>{if(w.alpha!==null){let k=w.alpha,S=w.beta,C=w.gamma;k=(k+360)%360,k<0&&(k+=360),(k>0&&k<180||k>0&&k>180)&&(k=360-k),k=k.toFixed(2),Math.abs(S)<45&&Math.abs(C)<45&&j_(k)}else yt("Nismo u mogunosti pronai Vau orijentaciju.","error",5e3)}):yt("DeviceOrientation nije podran.","error",5e3)};async function l(w,k,S,C){let O=Pu.getGreatCircleBearing({latitude:w,longitude:k},{latitude:S,longitude:C});O=O-5.3,W_(O)}function c(){return new Promise((w,k)=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(S=>{const C=S.coords.latitude,O=S.coords.longitude;T_(C),C_(O),w()},S=>{console.error("Error fetching geolocation:",S),k(S)})})}const d=w=>{O_(w.alpha),E_(w.beta),q_(w.gamma)},f=Ye();rv(f().user.id),console.log("SESSION::",Ks),zl(()=>{const w=document.getElementById("map-container");w&&s(w);let k=new Magnetometer;return k.addEventListener("reading",S=>{F_(Math.sqrt(Math.pow(k.x,2)+Math.pow(k.y,2)+Math.pow(k.z,2))),(Ws()>65||Ws()<20)&&document.getElementById("notifikacija")===null&&yt(`Zbog snage magnetskog polja (${Ws().toFixed(2)}T), oitanja kuteva mogla bi biti neprecizna.`,"info",5e3)}),k.start(),yt("Kako bi ste koristili magnetometar, posjetite lokaciju chrome://flags ili edge://flags te dozvolite rad magnetometra!","info",1e4),a(),window.addEventListener("deviceorientation",d),()=>{window.removeEventListener("deviceorientation",d),k.stop()}});async function p(w,k){R_(w+13/60),z_(w-13/60);const S=13/60/Math.cos(w*Math.PI/180);N_(k+S),Z_(k-S)}async function g(w,k){try{const S=await m_(w,k);S!==null&&G_(S)}catch(S){console.error("Greka pri pokuaju dohvaanja elevacije: ",S)}}async function _(w,k,S,C,O,M,j,I,z,Z,N,U,Q){const K=S*(Math.PI/180),te=C*(Math.PI/180),X=w*(Math.PI/180),fe=k*(Math.PI/180),W=X-K,Ee=fe-te,G=Math.sin(W/2)**2+Math.cos(K)*Math.cos(X)*Math.sin(Ee/2)**2,pe=6371e3*(2*Math.asin(Math.sqrt(G)));pe!=0?Pl(pe):Pl(O);const be=O-j,ge=Math.atan(be/Hs())*(180/Math.PI)+90;H_(ge),l(Qi(),Xi(),J_(),K_());const oe=vn()+20,q=vn()-20,B=_n()+25,qe=_n()-25;if(M>=q&&M<=oe&&I>=qe&&I<=B){var Pt=document.getElementById("audiosuccess");Pt.play(),alert("insertPlane("+f().user?.user_metadata?.username+", "+S+", "+C+", "+O+", "+Z+", "+N+", "+z+", "+Ks()+", "+U+", "+Q+");"),dv(f().user?.user_metadata?.username,S,C,O,Z,N,z,Ks(),U,Q),error?console.error("Greka pri spremanju podataka u bazu:",error.message):console.log("Podaci spremljeni u bazu")}else{var Pt=document.getElementById("audiofail");Pt.play();let kt=Math.min(Math.abs(vn()-M),360-Math.abs(vn()-M)),it=Math.min(Math.abs(_n()-I),360-Math.abs(_n()-I)),St=kt+it;Q_()?Gs(Mt=>{if(St<Mt)Sl(vn().toFixed(2)),Ll(_n().toFixed(2)),Tl(S.toFixed(2)),Cl(C.toFixed(2)),$l(Hs().toFixed(2));else return Mt}):(Gs(St),yt("Niste usmjereni prema avionu ",N," !"),Sl(vn().toFixed(2)),Ll(_n().toFixed(2)),Tl(S.toFixed(2)),Cl(C.toFixed(2)),$l(Hs().toFixed(2)))}}const[v,x]=F(!1),T=async()=>{x(!0);try{const w=`${I_()},${D_()},${U_()},${B_()}`,k=await f_(w);k!==void 0?k.forEach(async S=>{const C=S.lat,O=S.lon,M=(S.alt/3.28).toFixed(2),j=Math.round(S.brz*1.852),I=S.modelA,z=S.call,Z=S.livery,N=S.registration;Y_(C),V_(O),ti.marker([C,O],{icon:Ol}).addTo(t()).bindPopup(`
            <div class="text-xs p-2 max-w-xs">
              <strong>Let:</strong> ${z}<br>
              <strong>Zrakoplov:</strong> ${I}<br>
              <strong>Altituda:</strong> ${M} m
            </div>  `).openPopup(),_(Qi(),Xi(),C,O,M,xl(),kl(),Al(),I,j,z,Z,N)}):yt("Nema aviona u zranom prostoru!","error",5e3)}catch(w){console.error("Failed to fetch flight data:",w)}finally{x(!1)}};async function b(){const w=document.getElementById("scan");w.disabled=!0,w.classList.replace("bg-blue-600","bg-red-500"),w.classList.remove("hover:bg-blue-700"),t()&&t().remove();const k=document.getElementById("map-container");k&&s(k),Gs(void 0),await c(),await p(Qi(),Xi()),await g(Qi(),Xi()),await T(),setTimeout(()=>{w.disabled=!1,w.classList.replace("bg-red-500","bg-blue-600"),w.classList.add("hover:bg-blue-700")},5e3)}return(()=>{var w=k_(),k=w.firstChild,S=k.nextSibling,C=S.firstChild,O=C.nextSibling,M=O.firstChild,j=M.firstChild,I=j.nextSibling,z=I.firstChild,Z=z.firstChild,N=Z.nextSibling;N.nextSibling;var U=I.nextSibling,Q=U.firstChild,J=Q.firstChild,K=J.nextSibling;K.nextSibling;var te=U.nextSibling,X=te.firstChild,fe=X.firstChild,W=fe.nextSibling,Ee=W.nextSibling,G=Ee.nextSibling;G.nextSibling;var le=te.nextSibling,pe=le.firstChild,be=pe.firstChild,ge=be.nextSibling;ge.nextSibling;var oe=M.nextSibling,q=oe.firstChild,B=q.nextSibling,qe=B.firstChild,Pt=qe.firstChild,Xt=Pt.nextSibling;Xt.nextSibling;var kt=B.nextSibling,it=kt.firstChild,St=it.firstChild,Mt=St.nextSibling;Mt.nextSibling;var Tn=kt.nextSibling,Cn=Tn.firstChild,$n=Cn.firstChild,qt=$n.nextSibling;qt.nextSibling;var yi=Tn.nextSibling,On=yi.firstChild,En=On.firstChild,Mn=En.nextSibling;Mn.nextSibling;var bi=yi.nextSibling,wi=bi.firstChild,Yr=wi.firstChild,en=Yr.nextSibling;en.nextSibling;var qn=O.nextSibling,jn=qn.firstChild,xi=jn.nextSibling,Ai=xi.nextSibling,Pi=qn.nextSibling,Qr=Pi.firstChild;return E(z,ev,N),E(Q,X_,K),E(X,tv,W),E(X,nv,G),E(pe,iv,ge),E(qe,()=>M_().toFixed(2),Xt),E(it,()=>$_().toFixed(2),Mt),E(Cn,()=>xl().toFixed(2),qt),E(On,Al,Mn),E(wi,kl,en),$e(jn,"src",b_),$e(xi,"src",w_),Ai.$$click=b,E(Qr,()=>L_().map((jt,In)=>(()=>{var It=S_(),Xr=It.firstChild;return $e(It,"key",In),E(Xr,()=>jt.message),ye(()=>pr(It,`p-4 m-5 rounded  ${jt.type==="error"?"bg-red-600 animate-glow":jt.type==="success"?"bg-green-700 animate-glow5":jt.type==="info"?"bg-blue-400 animate-glow2":""} text-white shadow-md`)),It})())),w})()}Be(["click"]);const ov="https://jgzhrmujjmcuanvbufwh.supabase.co",av="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnemhybXVqam1jdWFudmJ1ZndoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM3NjcyNDksImV4cCI6MjA0OTM0MzI0OX0.GX-LLe2w4zDA8_lHv8HVY15PikbGNo9Tnz-WzB-ZwvI",Ce=Au(ov,av),[lv,uv]=F(null),[cv,hv]=F(null);async function dv(r,t,i,s,a,l,c,d,f,p){const{error:g}=await Ce.from("avioninadjeno").insert([{username:r,latitude:t,longitude:i,altitude:s,speed:a,callsign:l,model:c,owner_id:d,livery:f,registration:p}]);g?console.error("Greka pri spremanju podataka u bazu:",g.message):(console.log("Podaci spremljeni u bazu"),yt("Podaci su spremljeni u bazu podataka.","success",5e3))}async function fv(r){const{data:t,error:i}=await Ce.from("avioninadjeno").select("*").order("id",{ascending:!1}).limit(5).eq("owner_id",r);if(i)return console.error("Greka pri dohvaanju aviona:",i.message),[];console.log("Dohvaeni podaci:",t),uv(t)}async function mv(){let{data:r,error:t}=await Ce.rpc("create_modeli_filtrirani");t&&console.error(t)}async function pv(r){await mv();const{data:t,error:i}=await Ce.from("modelifiltrirani").select("*").eq("owner_id",r);return i?(console.error("Greka pri dohvaanju filtrirane tablice:",i.message),[]):t}async function gv(r,t,i){const{data:s,error:a}=await Ce.from("avioninadjeno").select("url").eq("model",r);if(a&&console.log(a),s.length===0||!s[0].url){const{data:l,error:c}=await Ce.from("avioninadjeno").update({url:t}).eq("model",r).eq("owner_id",i);return c&&console.error("Greka pri spremanju slike",c.message),l}else console.log("ovaj model zrakoplova ve ima sliku")}async function El(r,t,i){const{data:s,error:a}=await Ce.from("avioninadjeno").update({description:t,modelnum:i}).eq("model",r);return a?(console.error("Greka pri ubacivanju opisa:",a.message),[]):s}async function _v(){const{error:r,data:t}=await Ce.from("modelifiltrirani").select("*").order("modelnum",{ascending:!0}).limit(100);r&&console.error("Greka pri dohvacanju korisnika:",r.message),hv(t),console.log(t)}async function vv(r){const{error:t,data:i}=await Ce.from("avioninadjeno").select("time, description, modelnum").eq("model",r).not("description","is",null).order("time",{ascending:!1}).limit(1);return t&&console.error("Greka pri dohvacanju korisnika:",t.message),console.log(i),i}const $u=fo();function Ye(){return fr($u)}function yv(r){const[t,i]=F(null),[s,a]=F(!0);return Ce.auth.onAuthStateChange((l,c)=>{l==="SIGNED_IN"||l==="USER_UPDATED"?(i(c),a(!1)):l==="SIGNED_OUT"?(i(null),a(!1)):l==="INITIAL_SESSION"&&a(!1)}),D(Re,{get when(){return!s()},get children(){return D($u.Provider,{value:t,get children(){return r.children}})}})}var bv=Y('<nav class="border-gray-200 bg-gray-900"><div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"><a href=/Pocetna class="flex items-center space-x-3 rtl:space-x-reverse"><img class=h-8 alt="Flowbite Logo"><span class="self-center text-2xl font-semibold whitespace-nowrap text-white">Plane Spotter</span></a><button class="md:hidden p-2 text-gray-500 hover:bg-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-200"aria-label="Open mobile menu"><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16"></path></svg></button><div><ul class="flex flex-col font-medium p-4 md:p-0 mt-4 border rounded-lg md:bg-gray-900 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 bg-gray-800 border-gray-700"><li><a href=/Pocetna class="block py-2 px-3 text-white rounded md:bg-transparent md:p-0 md:text-blue-500 hover:bg-gray-700 md:hover:bg-transparent">Pocetna</a></li><li class=relative><button id=dropdownNavbarLink class="flex items-center justify-between w-full py-2 px-3 text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:border-0 md:hover:text-blue-500 md:p-0 md:w-auto focus:text-white border-gray-700">Izbornik<svg class="w-2.5 h-2.5 ms-2.5"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 10 6"><path stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m1 1 4 4 4-4"></path></svg></button></li><li><a href=/Onama class="block py-2 px-3 text-white rounded hover:bg-gray-600 md:hover:bg-transparent md:border-0 md:hover:text-blue-500 md:p-0 md:w-auto">O nama</a></li><li><a href=/Kontakt class="block py-2 px-3 text-white rounded hover:bg-gray-600 md:hover:bg-transparent md:border-0 md:hover:text-blue-500 md:p-0 md:w-auto">Kontakt</a></li><li><a href=/Racun class="block py-2 px-3 text-white rounded hover:bg-gray-600 md:hover:bg-transparent md:border-0 md:hover:text-blue-500 md:p-0 md:w-auto ">Raun'),wv=Y('<div class="bg-gray-800 text-gray-100 min-h-screen"><div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8">'),xv=Y('<footer footer class=bg-gray-900><div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8"><div class="md:flex md:justify-between"><div class="mb-6 md:mb-0"><a href=https://flowbite.com/ class="flex items-center"><img class="h-8 me-3"alt="FlowBite Logo"><span class="self-center text-2xl font-semibold whitespace-nowrap text-white">Plane Spotter</span></a></div><div class="grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3"><div><h2 class="mb-6 text-sm font-semibold text-white uppercase ">Izvori</h2><ul class="text-gray-400 font-medium"><li class=mb-4><a href=https://flowbite.com/ class=hover:underline>Flowbite</a></li><li><a href=https://tailwindcss.com/ class=hover:underline>Tailwind CSS</a></li></ul></div><div><h2 class="mb-6 text-sm font-semibold text-white uppercase">Pratite nas</h2><ul class="text-gray-400 font-medium"><li class=mb-4><a href=https://github.com/themesberg/flowbite class="hover:underline ">Github</a></li><li><a href=https://discord.gg/4eeurUVvTy class=hover:underline>Discord</a></li></ul></div><div><h2 class="mb-6 text-sm font-semibold text-white uppercase">Prava</h2><ul class="text-gray-400 font-medium"><li class=mb-4><a href=# class=hover:underline>Privacy Policy</a></li><li><a href=# class=hover:underline>Terms &amp; Conditions</a></li></ul></div></div></div><hr class="my-6 border-gray-700 sm:mx-auto lg:my-8"><div class="sm:flex sm:items-center sm:justify-between"><span class="text-sm text-gray-400 sm:text-center"> <a href=https://ss-obrtnicka-koprivnica.skole.hr/ class=hover:underline> OBSCK</a> Sva prada podrana.</span><div class="flex mt-4 sm:justify-center sm:mt-0"><a href=# class="text-gray-500 hover:text-white ms-5"><svg class="w-4 h-4"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"clip-rule=evenodd></path></svg><span class=sr-only>GitHub account</span></a><a href=# class="text-gray-500 hover:text-white ms-5"><svg class="w-4 h-4"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 8 19"><path fill-rule=evenodd d="M6.135 3H8V0H6.135a4.147 4.147 0 0 0-4.142 4.142V6H0v3h2v9.938h3V9h2.021l.592-3H5V3.591A.6.6 0 0 1 5.592 3h.543Z"clip-rule=evenodd></path></svg><span class=sr-only>Facebook page'),Av=Y('<div id=dropdownNavbar class="absolute left-0 top-full mt-1 z-10 font-normal bg-gray-700 divide-y divide-gray-600 rounded-lg shadow w-44"><ul class="py-2 text-sm text-gray-400"aria-labelledby=dropdownNavbarLink><li><a href=/Program class="block px-4 py-2 hover:bg-gray-600">Program</a></li><li><a href=/Informacije class="block px-4 py-2 hover:bg-gray-600">Informacije</a></li><li><a href=/Upute class="block px-4 py-2 hover:bg-gray-600">Upute</a></li><li><a href=/MojHangar class="block px-4 py-2 hover:bg-gray-600">Moj hangar');function _t(r){const[t,i]=F(!1),[s,a]=F(!1),[l,c]=F(!1),d=()=>{a(!s()),i(!1)},f=()=>{c(!l())};return[(()=>{var p=bv(),g=p.firstChild,_=g.firstChild,v=_.firstChild,x=_.nextSibling,T=x.nextSibling,b=T.firstChild,w=b.firstChild,k=w.nextSibling,S=k.firstChild;return $e(v,"src",cr),x.$$click=f,S.$$click=d,E(k,(()=>{var C=de(()=>!!s());return()=>C()&&Av()})(),null),ye(()=>pr(T,`md:flex ${l()?"block":"hidden"} w-full md:w-auto`)),p})(),(()=>{var p=wv(),g=p.firstChild;return E(g,()=>r.children),p})(),(()=>{var p=xv(),g=p.firstChild,_=g.firstChild,v=_.firstChild,x=v.firstChild,T=x.firstChild,b=_.nextSibling,w=b.nextSibling,k=w.firstChild,S=k.firstChild,C=S.nextSibling;return $e(T,"src",cr),E(k,()=>new Date().getFullYear(),C),p})()]}Be(["click"]);var Pv=Y('<div class="bg-gray-900 text-gray-100 min-h-screen"><div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8"></div><footer class=bg-gray-900><div class="mx-auto w-full max-w-screen-xl p-4 py-6 lg:py-8">');function er(r){return Ye(),(()=>{var t=Pv(),i=t.firstChild;return E(i,()=>r.children),t})()}var kv=Y('<div class="flex items-center justify-center h-screen bg-gray-900 text-gray-100"><div class="text-center p-6 bg-gray-800 shadow-lg rounded-lg"><h1 class="text-3xl font-bold text-red-500">404 - Stranica nije pronaena</h1><p class="mt-4 text-gray-300">Ova stranica ne postoji. Provjerite URL ili se vratite na poetnu stranicu.</p><button class="mt-6 px-6 py-3 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition duration-300 ease-in-out transform hover:scale-105">Vrati se na poetnu');function Sv(){const r=()=>{window.location.href="/"};return(()=>{var t=kv(),i=t.firstChild,s=i.firstChild,a=s.nextSibling,l=a.nextSibling;return l.$$click=r,t})()}Be(["click"]);var Lv=Y('<div class="flex items-center justify-center h-screen bg-gray-900 text-gray-100"><div class="text-center p-6 bg-gray-800 shadow-lg rounded-lg"><h1 class="text-3xl font-bold text-red-500">Autentifikacija potrebna</h1><p class="mt-4 text-gray-300">Morate se prijaviti kako biste pristupili ovoj stranici.</p><button class="mt-6 px-6 py-3 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition duration-300 ease-in-out transform hover:scale-105">Prijava');function Tv(){const r=nt(),t=()=>{r("/Prijava")};return(()=>{var i=Lv(),s=i.firstChild,a=s.firstChild,l=a.nextSibling,c=l.nextSibling;return c.$$click=t,i})()}Be(["click"]);const Cv=864e5,Ml=Symbol.for("constructDateFrom");function Ou(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&Ml in r?r[Ml](t):r instanceof Date?new r.constructor(t):new Date(t)}function Eu(r,t){return Ou(r,r)}function ql(r){const t=Eu(r),i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return i.setUTCFullYear(t.getFullYear()),+r-+i}function $v(r,...t){const i=Ou.bind(null,t.find(s=>typeof s=="object"));return t.map(i)}function jl(r,t){const i=Eu(r);return i.setHours(0,0,0,0),i}function Mu(r,t,i){const[s,a]=$v(i?.in,r,t),l=jl(s),c=jl(a),d=+l-ql(l),f=+c-ql(c);return Math.round((d-f)/Cv)}var Ov=Y('<section class=bg-gray-900><div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"><a href=# class="flex items-center mb-6 text-2xl font-semibold text-white"><img class="w-8 h-8 mr-2"alt=logo>Plane Spotter</a><div class="w-full bg-gray-800 rounded-lg shadow border md:mt-0 sm:max-w-md xl:p-0 border-gray-700"><div class="p-6 space-y-4 md:space-y-6 sm:p-8"><h1 class="text-xl font-bold leading-tight tracking-tight md:text-2xl text-white">Prijava</h1><form class="space-y-4 md:space-y-6"><div><label for=email class="block mb-2 text-sm font-medium text-white">E-mail</label><input type=email name=email id=email class="rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"placeholder=name@company.com required></div><div><label for=password class="block mb-2 text-sm font-medium text-white">Lozinka</label><input type=password name=password id=password placeholder= class="border rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"required></div><div class="flex items-center justify-between"><div class="flex items-start"><div class="flex items-center h-5"><input id=remember aria-describedby=remember type=checkbox class="w-4 h-4 border rounded focus:ring-3 bg-gray-700 border-gray-600 focus:ring-primary-600 ring-offset-gray-800"></div><div class="ml-3 text-sm"><label for=remember class=" text-gray-300">Zapamti podatke</label></div></div><a href=# class="text-sm font-medium hover:underline text-primary-500">Zaboravljena lozinka?</a></div><button type=submit class="w-full text-white focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center bg-primary-600 hover:bg-primary-700 focus:ring-primary-800"></button><p class="text-sm font-light text-gray-400">Nemate raun? <a href=/ class="font-medium hover:underline text-primary-500">Registracija'),Ev=Y('<div class="text-red-500 text-sm">');function Mv(r){const[t,i]=F(""),[s,a]=F(""),[l,c]=F(""),[d,f]=F(!1),[p,g]=F(!1),_=nt(),v=Ye(),x=async T=>{T.preventDefault(),f(!0),c("");try{const{error:b}=await Ce.auth.signInWithPassword({email:t(),password:s()});b?(c("Neispravni podaci za prijavu."),console.log(b.message)):Mu(new Date,new Date(v().user.created_at))<=3?_("/upute"):_("/pocetna")}catch(b){c("Dolo je do pogreke pri prijavi."),console.error(b)}finally{f(!1)}};return(()=>{var T=Ov(),b=T.firstChild,w=b.firstChild,k=w.firstChild,S=w.nextSibling,C=S.firstChild,O=C.firstChild,M=O.nextSibling,j=M.firstChild,I=j.firstChild,z=I.nextSibling,Z=j.nextSibling,N=Z.firstChild,U=N.nextSibling,Q=Z.nextSibling,J=Q.firstChild,K=J.firstChild,te=K.firstChild,X=Q.nextSibling;return $e(k,"src",cr),M.addEventListener("submit",x),z.$$input=fe=>i(fe.target.value),U.$$input=fe=>a(fe.target.value),te.addEventListener("change",fe=>g(fe.target.checked)),E(M,(()=>{var fe=de(()=>!!l());return()=>fe()&&(()=>{var W=Ev();return E(W,l),W})()})(),X),E(X,()=>d()?"Prijava...":"Prijava"),ye(()=>X.disabled=d()),ye(()=>z.value=t()),ye(()=>U.value=s()),ye(()=>te.checked=p()),T})()}Be(["input"]);var qv=Y('<div class="min-h-screen bg-gradient-to-r from-blue-600 via-blue-500 to-blue-400 flex flex-col justify-center items-center text-white"><div class="text-center w-full p-6"><h1 class="font-mono text-5xl font-bold mb-4">Dobrodoli na Planespotter</h1><p class="text-lg mb-8">Ova aplikacija omoguava skeniranje neba i praenje aviona u stvarnom vremenu. Saznajte vie o letovima u vaem podruju!</p><div class="w-full max-w-7xl mx-auto overflow-x-auto shadow-md sm:rounded-lg mt-5"><table class="w-full text-xs text-left rtl:text-right text-gray-400"><caption class="p-5 text-base font-semibold text-left rtl:text-right text-white bg-gray-800">Najvei ulovi ove sezone<p class="mt-1 text-base font-normal text-gray-400">Ovdje se nalaze prvih 50 najveih ulova ove sezone. Najbolji igrai rasporeeni su prema rijetkosti ulova. elimo Vam sretan nastavak lova, Godspeed!</p></caption><thead class="text-xs uppercase bg-gray-700 text-white"><tr><th scope=col class="px-3 py-3">Poredak</th><th scope=col class="px-3 py-3">Korisnik</th><th scope=col class="px-3 py-3">Model</th><th scope=col class="px-3 py-3">Broj modela</th></tr></thead><tbody>'),jv=Y('<tr><td colspan=7 class="text-center py-4">Greka pri dohvaanju ljestvice!'),Iv=Y('<tr class=" odd:bg-gray-900 even:bg-gray-800 border-b first:border-yellow-500 first:text-yellow-500 [&amp;:nth-child(2)]:border-slate-200 [&amp;:nth-child(2)]:text-slate-200 [&amp;:nth-child(3)]:border-amber-600 [&amp;:nth-child(3)]:text-amber-600 border-gray-600"><td class="px-6 py-4 font-medium text-white"></td><td class="px-6 py-4 font-medium text-white"></td><td class="px-6 py-4"></td><td class="px-6 py-4">');function Rv(){const r=Ye(),t=nt();return _v(),xt(()=>{r()===null&&t("/AuthError")}),(()=>{var i=qv(),s=i.firstChild,a=s.firstChild,l=a.nextSibling,c=l.nextSibling,d=c.firstChild,f=d.firstChild,p=f.nextSibling,g=p.nextSibling;return E(g,D(go,{get each(){return cv()},get fallback(){return jv()},children:(_,v)=>D(Re,{get when(){return _.modelnum},get children(){var x=Iv(),T=x.firstChild,b=T.nextSibling,w=b.nextSibling,k=w.nextSibling;return E(T,()=>`${v()+1}.`),E(b,()=>_.username),E(w,()=>_.model),E(k,()=>_.modelnum),x}})})),i})()}async function Dv(r){try{if(r!==null){const t=await fetch(`https://api.adsbdb.com/v0/aircraft/${r}`,{method:"GET"});if(t.ok){let s=(await t.json()).response.aircraft.url_photo_thumbnail;return console.log(r),s}else return console.log("Dolo je do greke pri dohvaanju url-a slike!"),null}else return null}catch(t){console.error(t)}}var zv=Y('<div class="relative overflow-x-auto shadow-md sm:rounded-lg mt-5 border-2 border-gray-600"><table class="w-full text-sm text-left rtl:text-right text-gray-400"><caption class="p-5 text-lg font-semibold text-left rtl:text-right text-white bg-gray-800">Prikaz pronaenih zrakoplova<p class="mt-1 text-sm font-normal text-gray-400">Ovdje moete detaljnije pregledati informacije o zrakoplovima koje ste pronali.</p></caption><thead class="text-xs uppercase bg-gray-700 text-white"><tr><th scope=col class="px-6 py-3">ID</th><th scope=col class="px-6 py-3">Model</th><th scope=col class="px-6 py-3">Vrijeme</th><th scope=col class="px-6 py-3">Latituda</th><th scope=col class="px-6 py-3">Longituda</th><th scope=col class="px-6 py-3">Altituda (m)</th><th scope=col class="px-6 py-3">Brzina (km/h)</th><th scope=col class="px-6 py-3">Vie informacija</th></tr></thead><tbody>'),Bv=Y('<div class="pt-8 mt-10 font-semibold text-xl hover:text-yellow-500">'),Nv=Y('<tr><td colspan=7 class="text-center py-4">Trenutno nema aviona'),Uv=Y('<tr class=" odd:bg-gray-900 even:bg-gray-800 border-b border-gray-700"><td class="px-6 py-4 font-medium text-white"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4"></td><td class="px-6 py-4">'),Zv=Y('<button class="bg-yellow-600 text-white font-semibold py-2 px-4 w-full rounded-lg shadow-md hover:bg-yellow-500 transition duration-200">Proui'),Fv=Y('<td class="px-6 py-4">'),Wv=Y('<div class="flex justify-center items-center"> <a href=/MojHangar><svg class="w-6 h-6 text-yellow-400 dark:text-yellow-400 hover:text-yellow-300"aria-hidden=true xmlns=http://www.w3.org/2000/svg width=24 height=24 fill=currentColor viewBox="0 0 24 24"><path fill-rule=evenodd d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.707-1.293a1 1 0 0 0-1.414-1.414L11 12.586l-1.793-1.793a1 1 0 0 0-1.414 1.414l2.5 2.5a1 1 0 0 0 1.414 0l4-4Z"clip-rule=evenodd>');const Hv="https://jgzhrmujjmcuanvbufwh.supabase.co",Gv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnemhybXVqam1jdWFudmJ1ZndoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM3NjcyNDksImV4cCI6MjA0OTM0MzI0OX0.GX-LLe2w4zDA8_lHv8HVY15PikbGNo9Tnz-WzB-ZwvI";function Kv(r){const t=Ye(),i=nt(),[s,a]=F(window.innerWidth<1024);xt(async()=>{t()===null&&i("/AuthError"),await fv(t().user.id);const c=()=>a(window.innerWidth<1024);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)});const l=async(c,d)=>{try{const f=await Dv(d);await gv(c,f,t().user.id);const p=await vv(c);let g;if(p[0]?Mu(new Date,new Date(p[0].time))>=365?g=!0:(El(c,p[0].description,p[0].modelnum),yt(`${p[0].description}`,"info",2e4)):g=!0,g){const _=await fetch(`${Hv}/functions/v1/Search`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Gv}`},body:JSON.stringify({model:c})});console.log("PREKO POSTA PREBACUJE SE",JSON.stringify({model:c}));const x=(await _.json()).informacije;x?(El(c,x.info,x.brojModela),yt(`${x.info}`,"info",2e4)):console.log("OPEN AI API vratio je null vrijednost")}}catch(f){console.error("Greka pri pokuaju dohvaanja informacija: ",f)}};return[de(()=>de(()=>!!s())()&&D(sv,{})),(()=>{var c=zv(),d=c.firstChild,f=d.firstChild,p=f.nextSibling,g=p.nextSibling;return E(g,D(go,{get each(){return lv()},get fallback(){return Nv()},children:_=>(()=>{var v=Uv(),x=v.firstChild,T=x.nextSibling,b=T.nextSibling,w=b.nextSibling,k=w.nextSibling,S=k.nextSibling,C=S.nextSibling;return E(x,()=>_.id),E(T,()=>_.model),E(b,()=>yn(_.time)),E(w,()=>_.latitude),E(k,()=>_.longitude),E(S,()=>_.altitude),E(C,()=>_.speed),E(v,(()=>{var O=Fv();return E(O,D(Re,{get when(){return _.description===null},get fallback(){return Wv()},get children(){var M=Zv();return M.$$click=()=>l(_.model,String(_.registration)),M}})),O})(),null),v})()})),c})(),(()=>{var c=Bv();return E(c,D(to,{href:"/mojHangar",children:"Kako bi vidjeli sve pronaene zrakoplove, posjetite Moj Hangar!"})),c})()]}Be(["click"]);var Vv=Y('<div class=p-8><h1 class="font-mono text-4xl mb-6">INFORMACIJE O APLIKACIJI</h1><div class=space-y-6><div><p>Ova aplikacija koristi <a href=https://www.flightradar24.com/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">Flightradar24 API</a> za skeniranje neba i prikazivanje informacija o avionima u stvarnom vremenu. Koritenjem najnovijih podataka o letovima, omoguuje korisnicima praenje avionskih ruta, visine, brzine i ostalih vanih parametara. Aplikacija omoguuje jednostavno pretraivanje i filtriranje letova na temelju razliitih kriterija.</p></div><div><p><a href=https://solidjs.com/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">SolidJS</a> je koriten za optimalne performanse aplikacije, dok su za dizajn koriteni <a href=https://tailwindcss.com/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">TailwindCSS</a> i <a href=https://flowbite.com/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">Flowbite</a>, to omoguava moderni izgled i jednostavno korisniko iskustvo.</p></div><div><p class="text-lg text-gray-300">Flightradar24 je jedan od najpoznatijih globalnih servisa za praenje letova, a kroz nau aplikaciju, korisnici mogu uivati u brzom pristupu podacima o avionima koji lete u njihovoj blizini. Informacije o svakom letu ukljuuju podatke o tipu aviona, visini, poziciji, brzini leta i drugim detaljima.</p></div><div><p class="text-lg text-gray-300">Aplikacija je dizajnirana uz pomo SolidJS-a za optimalne performanse, dok su za dizajn koriteni TailwindCSS i Flowbite, to omoguava moderni izgled i jednostavno korisniko iskustvo.');function Jv(r){const t=Ye(),i=nt();return xt(()=>{t()===null&&i("/AuthError")}),Vv()}const Yv="/ZavrsniV2/assets/logo-ChWoxeul.png";var Qv=Y('<div class=p-8><h1 class="font-mono text-4xl mb-6">O NAMA</h1><div class=space-y-6><div class="flex justify-center mb-10"><a href=https://ss-obrtnicka-koprivnica.skole.hr/><img alt=Logo class="w-40 h-auto rounded-full shadow-md transform hover:scale-110 transition-transform duration-300"></a></div><div><h2 class="text-xl font-semibold">kola</h2><p>Obrtnika kola Koprivnica</p></div><div><h2 class="text-xl font-semibold">Mentor</h2><p>Tomislav Jakupi</p></div><div><h2 class="text-xl font-semibold">Uenici</h2><p class="text-lg text-gray-300">Valentin Funtak <br>Noa Golubi</p></div><div><p class="text-lg text-gray-300">');function Xv(r){const t=Ye(),i=nt();xt(()=>{t()===null&&i("/AuthError")});const s=()=>{const{error:a}=Ce.auth.signOut();i("/Prijava"),a&&alert("Naalost Vas nemoemo odjaviti:",a)};return(()=>{var a=Qv(),l=a.firstChild,c=l.nextSibling,d=c.firstChild,f=d.firstChild,p=f.firstChild;return f.$$click=s,$e(p,"src",Yv),a})()}Be(["click"]);var ey=Y('<div class=p-8><h1 class="font-mono text-4xl mb-6">KONTAKT</h1><div class=space-y-6><div><h2 class="text-xl font-semibold">Obrtnika kola Koprivnica</h2><p>Posjetite <a href=https://ss-obrtnicka-koprivnica.skole.hr/ class="text-blue-500 hover:underline"target=_blank rel="noopener noreferrer">slubenu stranicu kole</a> za vie informacija.</p></div><div><h2 class="text-xl font-semibold">GitHub rauni</h2><ul class=space-y-2><li class="flex items-center"><a href=https://github.com/valentinfuntak class="text-gray-500 hover:text-white flex items-center"target=_blank rel="noopener noreferrer"><svg class="w-4 h-4 mr-2"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"clip-rule=evenodd></path></svg>Valentin Funtak</a></li><li class="flex items-center"><a href=https://github.com/NoaGolubic class="text-gray-500 hover:text-white flex items-center"target=_blank rel="noopener noreferrer"><svg class="w-4 h-4 mr-2"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"clip-rule=evenodd></path></svg>Noa Golubi</a></li></ul></div><div><h2 class="text-xl font-semibold">Repozitorij zavrnog rada</h2><ul class=space-y-2><li class="flex items-center"><a href=https://github.com/valentinfuntak/ZavrsniV2 class="text-gray-500 hover:text-white flex items-center"target=_blank rel="noopener noreferrer"><svg class="w-4 h-4 mr-2"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 .333A9.911 9.911 0 0 0 6.866 19.65c.5.092.678-.215.678-.477 0-.237-.01-1.017-.014-1.845-2.757.6-3.338-1.169-3.338-1.169a2.627 2.627 0 0 0-1.1-1.451c-.9-.615.07-.6.07-.6a2.084 2.084 0 0 1 1.518 1.021 2.11 2.11 0 0 0 2.884.823c.044-.503.268-.973.63-1.325-2.2-.25-4.516-1.1-4.516-4.9A3.832 3.832 0 0 1 4.7 7.068a3.56 3.56 0 0 1 .095-2.623s.832-.266 2.726 1.016a9.409 9.409 0 0 1 4.962 0c1.89-1.282 2.717-1.016 2.717-1.016.366.83.402 1.768.1 2.623a3.827 3.827 0 0 1 1.02 2.659c0 3.807-2.319 4.644-4.525 4.889a2.366 2.366 0 0 1 .673 1.834c0 1.326-.012 2.394-.012 2.72 0 .263.18.572.681.475A9.911 9.911 0 0 0 10 .333Z"clip-rule=evenodd></path></svg>Zavrni rad</a></li></ul></div><div><h2 class="text-xl font-semibold">Kontakt e-mail</h2><ul class=space-y-2><li>Valentin Funtak: <a href=mailto:valentinfuntakk@gmail.com class="text-blue-500 hover:underline">valentinfuntakk@gmail.com</a></li><li>Noa Golubi: <a href=mailto:noagolubic030606@gmail.com class="text-blue-500 hover:underline">noagolubic030606@gmail.com');function ty(r){const t=Ye(),i=nt();xt(()=>{t()===null&&i("/AuthError")});const s=()=>{const{error:a}=Ce.auth.signOut();i("/Prijava"),a&&alert("Naalost Vas nemoemo odjaviti:",a)};return(()=>{var a=ey(),l=a.firstChild,c=l.nextSibling,d=c.firstChild,f=d.firstChild,p=f.nextSibling,g=p.firstChild,_=g.nextSibling,v=d.nextSibling,x=v.firstChild,T=x.nextSibling,b=T.firstChild,w=b.firstChild,k=b.nextSibling,S=k.firstChild,C=v.nextSibling,O=C.firstChild,M=O.nextSibling,j=M.firstChild,I=j.firstChild;return _.$$click=s,w.$$click=s,S.$$click=s,I.$$click=s,a})()}Be(["click"]);var ny=Y('<div class="max-w-screen-lg mx-auto p-6 bg-gray-600 shadow-md rounded-lg"><div class="flex flex-col sm:flex-row justify-between items-start space-y-6 sm:space-y-0 sm:space-x-4 mb-0"><div class=flex-1><h1 class="font-sans text-3xl sm:text-4xl mb-3 text-yellow-400">Raun</h1><p class="text-lg font-semibold text-gray-300">Korisnik: </p></div></div><div class=" top-16 left-0 right-0 flex justify-start w-full"><div class="space-y-2 w-full">'),iy=Y('<p class="text-lg mt-2 text-gray-300"><strong>Email:</strong> '),ry=Y('<div class="flex flex-col items-start sm:items-end space-y-4 sm:space-y-4"><button class="w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition">Promjeni email</button><button class="w-full bg-yellow-600 text-white py-2 px-4 rounded hover:bg-yellow-700 transition">Promjeni lozinku</button><button class="w-full bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 transition">Odjava'),sy=Y('<div class="mt-6 bg-white p-6 shadow-md rounded-lg"><h2 class="font-sans text-xl text-gray-800">Promjena e-maila</h2><div class=mt-4><input type=email class="border-2 border-gray-300 p-2 rounded-md w-full text-black"placeholder="Unesite novu e-mail adresu"><button class="mt-4 w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition">Potvrdi promjenu emaila'),oy=Y('<div><div class="whitespace-normal w-full">');function ay(r){const t=Ye(),i=nt();xt(()=>{t()===null&&i("/AuthError")});const[s,a]=F(""),[l,c]=F(!1),[d,f]=F(!1),[p,g]=F([]),_=(b,w,k)=>{const S={message:b,type:w};g(C=>[...C,S]),setTimeout(()=>{g(C=>C.filter(O=>O!==S))},k)},v=()=>{const{error:b}=Ce.auth.signOut();i("/Prijava"),b&&alert("Naalost Vas nemoemo odjaviti:",b)},x=async()=>{const b=t().user?.email;if(b){const{error:w}=await Ce.auth.resetPasswordForEmail(b,{redirectTo:"https://yourapp.com/update-password"});w?_("Greka pri slanju e-maila za resetiranje lozinke: "+w.message,"error",5e3):_("E-mail za resetiranje lozinke poslan!","success",5e3)}},T=async()=>{const b=s();if(b){const{data:w,error:k}=await Ce.auth.updateUser({email:b});k?_("Greka pri promjeni emaila: "+k.message,"error",5e3):(c(!0),_("E-mail uspjeno promijenjen. Potvrdite promjenu putem poslanog e-maila!","success",5e3))}};return(()=>{var b=ny(),w=b.firstChild,k=w.firstChild,S=k.firstChild,C=S.nextSibling;C.firstChild;var O=w.nextSibling,M=O.firstChild;return E(C,()=>t()?"Prijavljen":"Nije prijavljen",null),E(k,(()=>{var j=de(()=>!!t());return()=>j()&&(()=>{var I=iy(),z=I.firstChild;return z.nextSibling,E(I,()=>t().user?.email||"Nema emaila",null),I})()})(),null),E(w,(()=>{var j=de(()=>!!t());return()=>j()&&(()=>{var I=ry(),z=I.firstChild,Z=z.nextSibling,N=Z.nextSibling;return z.$$click=()=>f(!0),Z.$$click=x,N.$$click=v,I})()})(),null),E(b,(()=>{var j=de(()=>!!d());return()=>j()&&(()=>{var I=sy(),z=I.firstChild,Z=z.nextSibling,N=Z.firstChild,U=N.nextSibling;return N.$$input=Q=>a(Q.target.value),U.$$click=T,ye(()=>N.value=s()),I})()})(),O),E(M,()=>p().map((j,I)=>(()=>{var z=oy(),Z=z.firstChild;return $e(z,"key",I),E(Z,()=>j.message),ye(()=>pr(z,`p-4 mt-3 rounded ${j.type==="error"?"bg-red-600":j.type==="success"?"bg-green-700":j.type==="info"?"bg-blue-400":""} text-white shadow-md`)),z})())),b})()}Be(["click","input"]);var ly=Y('<div class=p-8><h1 class="font-mono text-4xl mb-12">Upute za koritenje</h1><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Koritenje karte</h2><p class="font-semibold mb-10">Kartu moete koristiti kako bi se mogli to lake orijentirati u prostoru.<br>Karta e uvjek prikazivati va trenutaan poloaj.<br>Karta se moe poveati i smanjiti po elji.<br>Nakon pritiska na gumb "Skeniraj", na karti e se prikazati svi avioni<br>u okrugu od 30km.<br></p></div><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Alati za orijentaciju</h2><p class="font-semibold mb-10">U kuici pod nazivom "Nagib ureaja" moete vidjeti podatke o svojoj orijentaciji.<br>Ovi podaci mogu Vam biti od koristi prilikom ciljanja zrakoplova.<br>Postoje 3 osi, svaka od kojih ima svoj naziv te se njezin kut mjeri u stupnjevima.<br>Os Alpha mjeri pomak u dubinu, os Beta kruno horizontalno gibanje, a os Gamma vertikalno gibanje.<br>Kut gledanja oznauje va smjer promatranja s obzirom na magnetski sjever.<br>Kut gledanja takoer sadri dodatak, zbroj dodatka i smjera u stupnjevima udaljenost je od stvarnog sjevera.<br></p></div><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Podaci o avionu</h2><p class="font-semibold mb-10">U kuici pod nazivom "Podaci o avionu" moete pronai podatke o najbliem zrakoplovu.<br>Vrijednosti ovih polja popunjavaju se kada korisnik ne pronae zrakoplov<br>nakon pritiska na gumb "Skeniraj".<br>Ovdje moete pronai podatke koji e vam pomoi da pronaete najblii zrakoplov.<br>Podaci ukljuuju: koordinate zrakoplova, Vau elevaciju, zranu udaljenost te pogodbene kuteve.<br>Pogodbeni kutevi "Kut X do aviona" i "Kut Y do aviona" moraju biti identini<br>Vaem smjeru (zajedno sa dodatkom) te kutu Gamma.<br>Tolerancija oba kuta je +/- 5.<br></p></div><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Tablini prikaz</h2><p class="font-semibold mb-10">U tablinom prikazu pojavit e se informacije o zadnjih 5 pronaenih zrakoplova.<br>Tablian prikaz nudi pregled dodatnih injenica o samom zrakoplovu.<br>Pritiskom na gumb "Proui" pokrenut ete AI asistenta koji e Vas<br>dodatno informirati o samom zrakoplovu.<br></p></div><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">Moj hangar</h2><p class="font-semibold mb-10">Pritiskom na "Kako bi vidjeli sve pronaene zrakoplove, posjetite Moj Hangar!"<br>otvorit ete svoju personaliziranu kolekciju svih pronaenih zrakoplova.<br>Svaki zrakoplov koji prouite pritiskom na gumb "proui"<br>biti e svrstan prema rijetkosti.<br></p></div><div><h2 class="text-2xl text-yellow-600 font-semibold mb-8">este notifikacije</h2><p class="font-semibold mb-10">1) "Nismo u mogunosti pronai Vau orijentaciju" ili "DeviceOrientation nije podran":<br>Va ureaj naalost nije u mogunosti prikupiti orijentaciju.<br>2) "Avion se ne nalazi u traenom zranom prostoru":<br>Ureaj nije pravilno usmjeren prema zrakoplovu.<br>3) "Greka pri slanju e-maila za resetiranje lozinke":<br>Naalost nismo u mogunosti proslijediti e-mail, pokuajte ponovo kasnije.<br></p></div><h2 class="text-xl text-yellow-600 font-semibold mb-5">elite nam postaviti pitanje?</h2><p class="font-semibold mb-10">Posjetite stranicu <a href=\\Kontakt class=hover:text-blue-400>"kontakt"</a> i kontaktirajte nas kako bi odgovorili na Vae pitanje!<br>Kontaktirati nas moete putem naih mail adresa.<br>Unaprijed zahvaljujemo na strpljenju!<br>');function uy(r){const t=Ye(),i=nt();return xt(()=>{t()===null&&i("/AuthError")}),ly()}var Xn=Y('<p class="pt-7 font-bold text-black dark:text-black">Livreja: '),cy=Y('<div class="custom-card content-center pb-8 pt-9 flex items-center justify-center"><div class="bg-gradient-to-r from-slate-200 to-stone-400 block max-w-sm p-6 bg-white border border-white-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700"><h5 id=naslov class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">, ???</h5><p class="pt-5 font-bold text-black dark:text-black">Pronaen: <!>h</p><p class="pt-5 font-bold text-black dark:text-black">Registracija: </p><p class="pt-5 font-bold text-black dark:text-black">Brzina i visina: <!>km/h, <!>m</p><p class="pt-5 font-bold text-black dark:text-black">Opis: Nije istraeno!</p><p class="pt-7 font-bold text-black dark:text-black">Broj proizvedenih modela: Nije istraeno!'),tr=Y('<img class="pr-2 mb-2 mt-5 rounded-2xl">'),hy=Y('<div class="custom-card content-center pb-8 pt-9 flex items-center justify-center"><div class="content-center p-5 flex items-center justify-center bg-red-400 rounded-md bg-clip-padding backdrop-filter backdrop-blur-md bg-opacity-20 border border-fushia-100 animate-glow duration-1000 delay-200"><div class="bg-gradient-to-r from-red-200 via-fushia-300 to-rose-500 block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700"><h5 id=naslov class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">, COMMON</h5><p class="pt-5 font-bold text-black dark:text-black">Pronaen: <!>h</p><p class="pt-5 font-bold text-black dark:text-black">Registracija: </p><p class="pt-5 font-bold text-black dark:text-black">Brzina i visina: <!>km/h, <!>m</p><p class="pt-5 font-bold text-black dark:text-black">Opis: </p><p class="pt-7 font-bold text-black dark:text-black">Broj proizvedenih modela: '),dy=Y('<div class="custom-card content-center pb-8 pt-9 flex items-center justify-center"><div class="content-center p-5 flex items-center justify-center bg-indigo-400 rounded-md bg-clip-padding backdrop-filter backdrop-blur-md bg-opacity-20 border border-gray-100 animate-glow2 duration-1000 delay-200"><div class="bg-gradient-to-r from-indigo-300 via-sky-500 to-emerald-500 block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700"><h5 id=naslov class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">, RARE</h5><p class="pt-5 font-bold text-black dark:text-black">Pronaen: <!>h</p><p class="pt-5 font-bold text-black dark:text-black">Registracija: </p><p class="pt-5 font-bold text-black dark:text-black">Brzina i visina: <!>km/h, <!>m</p><p class="pt-5 font-bold text-black dark:text-black">Opis: </p><p class="pt-7 font-bold text-black dark:text-black">Broj proizvedenih modela: '),fy=Y('<div class="custom-card content-center pb-8 pt-9 flex items-center justify-center"><div class="content-center p-5 flex items-center justify-center bg-purple-500 rounded-md bg-clip-padding backdrop-filter backdrop-blur-md bg-opacity-20 border border-gray-100 animate-glow3 duration-1000 delay-200"><div class="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700"><h5 id=naslov class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">, EPIC</h5><p class="pt-5 font-bold text-black dark:text-black">Pronaen: <!>h</p><p class="pt-5 font-bold text-black dark:text-black">Registracija: </p><p class="pt-5 font-bold text-black dark:text-black">Brzina i visina: <!>km/h, <!>m</p><p class="pt-5 font-bold text-black dark:text-black">Opis: </p><p class="pt-7 font-bold text-black dark:text-black">Broj proizvedenih modela: '),my=Y('<div class="custom-card content-center pb-8 pt-9 flex items-center justify-center"><div class="content-center p-5 flex items-center justify-center bg-yellow-300 rounded-md bg-clip-padding backdrop-filter backdrop-blur-md bg-opacity-20 border border-gray-100 animate-glow4 duration-1000 delay-200"><div class="bg-gradient-to-r from-orange-400 via-amber-500 to-yellow-400 block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700"><h5 id=naslov class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">, LEGENDARY</h5><p class="pt-5 font-bold text-black dark:text-black">Pronaen: <!>h</p><p class="pt-5 font-bold text-black dark:text-black">Registracija: </p><p class="pt-5 font-bold text-black dark:text-black">Brzina i visina: <!>km/h, <!>m</p><p class="pt-5 font-bold text-black dark:text-black">Opis: </p><p class="pt-7 font-bold text-black dark:text-black">Broj proizvedenih modela: '),py=Y('<div class="flex flex-row justify-center items-center space-x-2 flex-col md:flex-row"><h1 class="font-mono text-4xl leading-tight flex items-center min-w-20">Moj hangar</h1><input type=text class="form-control mt-10 text-black bg-slate-200 rounded md:w-55 w-55 h-8 mt-3 pl-3"autocomplete=off id=search-input placeholder=Pretrai...>'),gy=Y('<div class="flex justify-between items-center mt-5 w-full max-w-xs mx-auto"><button class="bg-gray-600 text-white px-4 py-2 rounded-lg disabled:opacity-50"> Prethodna</button><span class="font-semibold mx-4"> / </span><button class="bg-gray-600 text-white px-4 py-2 rounded-lg disabled:opacity-50">Sljedea '),_y=Y('<tr class="flex flex-row text-3xl text-yellow-300 justify-center items-center space-x-8 flex-col md:flex-row pt-20"><td colspan=7 class="text-center py-4">Trenutno nema aviona...');function vy(r){const t=Ye(),i=nt(),[s,a]=F(1),l=5;xt(()=>{t()===null&&i("/AuthError")}),zl(()=>{const v=document.querySelector("#search-input");v&&v.addEventListener("input",c)});function c(){const x=document.querySelector("#search-input").value.toLowerCase();document.querySelectorAll(".custom-card").forEach(b=>{b.querySelector("#naslov").textContent.toLowerCase().includes(x.toLowerCase())?b.style.display="":b.style.display="none"})}function d(v){if(v.modelnum===null)return(()=>{var x=cy(),T=x.firstChild,b=T.firstChild,w=b.firstChild,k=b.nextSibling,S=k.firstChild,C=S.nextSibling;C.nextSibling;var O=k.nextSibling;O.firstChild;var M=O.nextSibling,j=M.firstChild,I=j.nextSibling,z=I.nextSibling,Z=z.nextSibling;Z.nextSibling;var N=M.nextSibling;return N.nextSibling,E(b,()=>v.model,w),E(k,()=>yn(v.time),C),E(O,()=>v.registration,null),E(M,()=>v.speed,I),E(M,()=>v.altitude,Z),E(T,D(Re,{get when(){return v.livery!==null},fallback:null,get children(){return[" ",(()=>{var U=Xn();return U.firstChild,E(U,()=>v.livery,null),U})()," "]}}),null),x})();if(v.modelnum>1e3)return(()=>{var x=hy(),T=x.firstChild,b=T.firstChild,w=b.firstChild,k=w.firstChild,S=w.nextSibling,C=S.firstChild,O=C.nextSibling;O.nextSibling;var M=S.nextSibling;M.firstChild;var j=M.nextSibling,I=j.firstChild,z=I.nextSibling,Z=z.nextSibling,N=Z.nextSibling;N.nextSibling;var U=j.nextSibling;U.firstChild;var Q=U.nextSibling;return Q.firstChild,E(w,()=>v.model,k),E(b,D(Re,{get when(){return v.url!==null},fallback:null,get children(){return[" ",(()=>{var J=tr();return ye(()=>$e(J,"src",v.url)),J})()]}}),S),E(S,()=>yn(v.time),O),E(M,()=>v.registration,null),E(j,()=>v.speed,z),E(j,()=>v.altitude,N),E(U,()=>v.description,null),E(Q,()=>v.modelnum,null),E(b,D(Re,{get when(){return v.livery!==null},fallback:null,get children(){return[" ",(()=>{var J=Xn();return J.firstChild,E(J,()=>v.livery,null),J})()," "]}}),null),x})();if(v.modelnum<1e3&&v.modelnum>=200)return console.log(v.url),(()=>{var x=dy(),T=x.firstChild,b=T.firstChild,w=b.firstChild,k=w.firstChild,S=w.nextSibling,C=S.firstChild,O=C.nextSibling;O.nextSibling;var M=S.nextSibling;M.firstChild;var j=M.nextSibling,I=j.firstChild,z=I.nextSibling,Z=z.nextSibling,N=Z.nextSibling;N.nextSibling;var U=j.nextSibling;U.firstChild;var Q=U.nextSibling;return Q.firstChild,E(w,()=>v.model,k),E(b,D(Re,{get when(){return v.url!==null},fallback:null,get children(){return[" ",(()=>{var J=tr();return ye(()=>$e(J,"src",v.url)),J})()]}}),S),E(S,()=>yn(v.time),O),E(M,()=>v.registration,null),E(j,()=>v.speed,z),E(j,()=>v.altitude,N),E(U,()=>v.description,null),E(Q,()=>v.modelnum,null),E(b,D(Re,{get when(){return v.livery!==null},fallback:null,get children(){return[" ",(()=>{var J=Xn();return J.firstChild,E(J,()=>v.livery,null),J})()," "]}}),null),x})();if(v.modelnum<=200&&v.modelnum>40)return(()=>{var x=fy(),T=x.firstChild,b=T.firstChild,w=b.firstChild,k=w.firstChild,S=w.nextSibling,C=S.firstChild,O=C.nextSibling;O.nextSibling;var M=S.nextSibling;M.firstChild;var j=M.nextSibling,I=j.firstChild,z=I.nextSibling,Z=z.nextSibling,N=Z.nextSibling;N.nextSibling;var U=j.nextSibling;U.firstChild;var Q=U.nextSibling;return Q.firstChild,E(w,()=>v.model,k),E(b,D(Re,{get when(){return v.url!==null},fallback:null,get children(){return[" ",(()=>{var J=tr();return ye(()=>$e(J,"src",v.url)),J})()]}}),S),E(S,()=>yn(v.time),O),E(M,()=>v.registration,null),E(j,()=>v.speed,z),E(j,()=>v.altitude,N),E(U,()=>v.description,null),E(Q,()=>v.modelnum,null),E(b,D(Re,{get when(){return v.livery!==null},fallback:null,get children(){return[" ",(()=>{var J=Xn();return J.firstChild,E(J,()=>v.livery,null),J})()," "]}}),null),x})();if(v.modelnum<=40)return(()=>{var x=my(),T=x.firstChild,b=T.firstChild,w=b.firstChild,k=w.firstChild,S=w.nextSibling,C=S.firstChild,O=C.nextSibling;O.nextSibling;var M=S.nextSibling;M.firstChild;var j=M.nextSibling,I=j.firstChild,z=I.nextSibling,Z=z.nextSibling,N=Z.nextSibling;N.nextSibling;var U=j.nextSibling;U.firstChild;var Q=U.nextSibling;return Q.firstChild,E(w,()=>v.model,k),E(b,D(Re,{get when(){return v.url!==null},fallback:null,get children(){return[" ",(()=>{var J=tr();return ye(()=>$e(J,"src",v.url)),J})()]}}),S),E(S,()=>yn(v.time),O),E(M,()=>v.registration,null),E(j,()=>v.speed,z),E(j,()=>v.altitude,N),E(U,()=>v.description,null),E(Q,()=>v.modelnum,null),E(b,D(Re,{get when(){return v.livery!==null},fallback:null,get children(){return[" ",(()=>{var J=Xn();return J.firstChild,E(J,()=>v.livery,null),J})()," "]}}),null),x})()}const[f]=rh(t().user.id,pv);function p(v){a(v)}const g=()=>{if(f()){const v=(s()-1)*l,x=v+l;return f().slice(v,x)}return[]},_=()=>f()?Math.ceil(f().length/l):1;return[py(),D(go,{get each(){return g()},get fallback(){return _y()},children:v=>d(v)}),(()=>{var v=gy(),x=v.firstChild,T=x.nextSibling,b=T.firstChild,w=T.nextSibling;return x.$$click=()=>p(s()-1),E(T,s,b),E(T,_,null),w.$$click=()=>p(s()+1),ye(k=>{var S=s()===1,C=s()===_();return S!==k.e&&(x.disabled=k.e=S),C!==k.t&&(w.disabled=k.t=C),k},{e:void 0,t:void 0}),v})()]}Be(["click"]);var yy=Y('<div class="text-center mt-4"><h1 class="text-2xl font-semibold">Supabase Edge Function</h1><p class="mt-2 text-gray-600"></p><button class="mt-4 px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition duration-200">Pozovi hello-world funkciju');const qu="https://jgzhrmujjmcuanvbufwh.supabase.co",ju="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnemhybXVqam1jdWFudmJ1ZndoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM3NjcyNDksImV4cCI6MjA0OTM0MzI0OX0.GX-LLe2w4zDA8_lHv8HVY15PikbGNo9Tnz-WzB-ZwvI";Au(qu,ju);const by=()=>{const[r,t]=F("Klikni na gumb za dohvaanje!"),i=async()=>{t("Uitavanje...");try{const a=await(await fetch(`${qu}/functions/v1/hello-world`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ju}`},body:JSON.stringify({name:"SolidJS"})})).json();t(a.message)}catch(s){console.error("Greka prilikom dohvaanja:",s),t("Neuspjelo dohvaanje poruke.")}};return(()=>{var s=yy(),a=s.firstChild,l=a.nextSibling,c=l.nextSibling;return E(l,r),c.$$click=i,s})()};Be(["click"]);function wy(){return D(yv,{get children(){return D(hd,{get children(){return[D(Ze,{path:"/",component:()=>D(er,{get children(){return D(y_,{})}})}),D(Ze,{path:"/*",component:()=>D(er,{get children(){return D(Sv,{})}})}),D(Ze,{path:"/AuthError",component:()=>D(er,{get children(){return D(Tv,{})}})}),D(Ze,{path:"/Prijava",component:()=>D(er,{get children(){return D(Mv,{})}})}),D(Ze,{path:"/Pocetna",component:()=>D(_t,{get children(){return D(Rv,{})}})}),D(Ze,{path:"/Program",component:()=>D(_t,{get children(){return D(Kv,{})}})}),D(Ze,{path:"/Informacije",component:()=>D(_t,{get children(){return D(Jv,{})}})}),D(Ze,{path:"/Onama",component:()=>D(_t,{get children(){return D(Xv,{})}})}),D(Ze,{path:"/Kontakt",component:()=>D(_t,{get children(){return D(ty,{})}})}),D(Ze,{path:"/Racun",component:()=>D(_t,{get children(){return D(ay,{})}})}),D(Ze,{path:"/Upute",component:()=>D(_t,{get children(){return D(uy,{})}})}),D(Ze,{path:"/MojHangar",component:()=>D(_t,{get children(){return D(vy,{})}})}),D(Ze,{path:"/Funkcija",component:()=>D(_t,{get children(){return D(by,{})}})})]}})}})}const xy=document.getElementById("root");kh(()=>D(wy,{}),xy);export{wd as g};
